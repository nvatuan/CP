(this.webpackJsonpbigocoder_app_v2=this.webpackJsonpbigocoder_app_v2||[]).push([[0],{104:function(e,t,n){"use strict";var a=n(3),r=n(5),c=n(6),s=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return n}(n(27).default);t.a=s},12:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(1),r=n.n(a),c=n(2),s=n(9),o=n(3),u=n(4),l=n(74),i=n.n(l),m=n(26),p=n(7),d=n(23),f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Object(o.a)(this,e),n.startsWith("http://")||n.startsWith("https://")?this.url=n:this.url="".concat(p.b,"public/").concat(n),this.params=a,a&&Object.prototype.hasOwnProperty.call(a,"page")&&0===a.page&&(this.params.page=1),this.data=r,this.method=t,this.headers=Object(s.a)({accept:"application/json","Content-Type":"application/json"},u),c&&(this.headers.Authorization=Object(m.a)("AuthToken")),l&&(this.cancelToken=l)}return Object(u.a)(e,[{key:"createPackage",value:function(){for(var e in this.params)Object.prototype.hasOwnProperty.call(this.params,e)&&(this.url=this.url.replace(":".concat(e),this.params[e]));return{url:this.url,method:this.method,headers:this.headers,data:this.data,cancelToken:this.cancelToken}}},{key:"createRequest",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()(this.createPackage());case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"request",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.createRequest();case 3:return t=e.sent,e.abrupt("return",t);case 7:if(e.prev=7,e.t0=e.catch(0),!e.t0.response){e.next=20;break}if(!((n=e.t0.response)&&n.data&&n.data.message&&n.data.message.includes("Found another login"))){e.next=17;break}Object(m.c)(),d.a.push("/"),window.location.reload(),e.next=18;break;case 17:throw new Error(n.data.message);case 18:e.next=21;break;case 20:throw new Error(e.t0.message);case 21:return e.abrupt("return",e.t0);case 22:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}]),e}()},15:function(e,t,n){"use strict";var a=n(3),r=n(5),c=n(6),s=n(12),o=n(7),u=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var r,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return Object(a.a)(this,n),(r=t.call(this,e,c,s,u,!0,l,i)).url="".concat(o.b,"admin/").concat(c),r}return n}(s.a);t.a=u},165:function(e,t,n){e.exports=n(317)},23:function(e,t,n){"use strict";var a=n(43),r=Object(a.a)();t.a=r},25:function(e,t,n){"use strict";var a=n(3),r=n(4),c=n(109),s=n.n(c),o=n(23),u=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"getAllQueryString",value:function(){return s.a.parse(window.location.search)}},{key:"getQueryString",value:function(e){return this.getAllQueryString()[e]}},{key:"setQueryString",value:function(e,t){var n=this.getAllQueryString();n[e]=t;var a=s.a.stringify(n);o.a.replace({pathname:window.location.pathname,search:a})}},{key:"stringify",value:function(e){return s.a.stringify(e)}}]),e}();t.a=u},26:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return m}));n(1),n(2);var a=n(53),r=n.n(a),c=n(63),s=n.n(c),o=n(60),u=(n(12),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new o.a,a=s.a.encrypt(JSON.stringify(e),"Big-O Coder private key");if(t)localStorage.setItem("Big-O Coder",a.toString());else if(localStorage.getItem("Big-O Coder"))localStorage.setItem("Big-O Coder",a.toString());else{var r=new Date;r.setDate(r.getDate()+30),n.set("Big-O Coder",a.toString(),{expires:r,path:"/",sameSite:!0})}}),l=function(){try{var e=new o.a;if(localStorage.getItem("Big-O Coder")||e.get("Big-O Coder"))return!0}catch(t){return!1}return!1},i=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";if(!l())return null;if(localStorage.getItem("Big-O Coder"))e=localStorage.getItem("Big-O Coder");else{var n=new o.a;e=n.get("Big-O Coder")}try{var a=s.a.decrypt(e,"Big-O Coder private key"),c=JSON.parse(a.toString(r.a.enc.Utf8));return"all"===t?c:c[t]}catch(u){return null}},m=function(){localStorage.getItem("isLoggingOut")||(localStorage.setItem("isLoggingOut",!0),document.cookie="Big-O Coder=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="Big-O Coder=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/user;",localStorage.removeItem("Big-O Coder"),localStorage.removeItem("isLoggingOut"))}},27:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(4),c=function(){function e(t){if(Object(a.a)(this,e),t){this.updateProperty(t),this.LanguageContent={};for(var n=0,r=["Vi","En"];n<r.length;n++){var c=r[n];Object.prototype.hasOwnProperty.call(t,c)&&t[c].Name&&(this.LanguageContent[c.toLowerCase()]=t[c])}}}return Object(r.a)(e,[{key:"updateProperty",value:function(e){if(e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this[t]=e[t])}},{key:"canGetLanguage",value:function(e){if(Object.prototype.hasOwnProperty.call(this.LanguageContent,e)&&this.LanguageContent[e].Name)return e;for(var t in this.LanguageContent)if(Object.prototype.hasOwnProperty.call(this.LanguageContent,t))return e;return null}},{key:"getLanguageContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"vi";if(Object.prototype.hasOwnProperty.call(this.LanguageContent,e))return this.LanguageContent[e];for(var t in this.LanguageContent)if(Object.prototype.hasOwnProperty.call(this.LanguageContent,t))return this.LanguageContent[t];return null}}],[{key:"getDifferent",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];a.includes("Id")||a.push("Id");var r={};for(var c in n)void 0===t[c]?r[c]=n[c]:Array.isArray(n[c])?JSON.stringify(t[c])!==JSON.stringify(n[c])&&(r[c]=n[c]):"object"===typeof n[c]&&JSON.stringify(t[c])!==JSON.stringify(n[c])?r[c]=e.getDifferent(t[c],n[c],a):"object"!==typeof n[c]&&(t[c]!==n[c]||a.includes(c))&&(r[c]=n[c]);return r}}]),e}();t.default=c},29:function(e,t,n){"use strict";var a=n(1),r=n.n(a),c=n(2),s=n(3),o=n(4),u=n(19),l=n.n(u),i=n(15),m=n(25),p=n(104),d=n(7),f=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,null,[{key:"getProblems",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t,"all"===(n=l()(n).omitBy(l.a.isEmpty).value()).tag&&delete n.tag,a=m.a.stringify(n),e.next=7,new i.a("get",d.Z,{queryString:a}).request();case 7:return c=e.sent,e.abrupt("return",{totalProblems:c.totalProblems,problems:c.problems});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{totalProblems:0,problems:[]});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getProblem",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new i.a("get",d.Y,{id:t}).request();case 3:return n=e.sent,e.abrupt("return",n.problem);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addProblem",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new i.a("post",d.Z,void 0,t).request();case 3:return n=e.sent,e.abrupt("return",n.problem);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"editProblem",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new i.a("put",d.Y,{id:t.Id},t).request();case 3:return n=e.sent,e.abrupt("return",n.problem);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"removeProblem",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new i.a("delete",d.Y,{id:t}).request();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addStatement",value:function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new i.a("post",d.jb,{problemId:t},n).request();case 3:return a=e.sent,e.abrupt("return",a.statement);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"editStatement",value:function(){var e=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new i.a("put",d.ib,{problemId:t,statementId:n.Id},n).request();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeStatement",value:function(){var e=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new i.a("delete",d.ib,{problemId:t,statementId:n}).request();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTutorials",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new i.a("get",d.sb,{problemId:t}).request();case 3:return n=e.sent,e.abrupt("return",n.tutorials);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTutorial",value:function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new i.a("get",d.rb,{problemId:t,tutorialId:n}).request();case 3:return a=e.sent,e.abrupt("return",a.tutorial);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addTutorial",value:function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new i.a("post",d.sb,{problemId:t},n).request();case 3:return a=e.sent,e.abrupt("return",a.tutorial);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"editTutorial",value:function(){var e=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new i.a("put",d.rb,{problemId:t,tutorialId:n.Id},n).request();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeTutorial",value:function(){var e=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new i.a("delete",d.rb,{problemId:t,tutorialId:n}).request();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSourceCode",value:function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new i.a("get",d.ub,{problemId:t,tutorialId:n}).request();case 3:return a=e.sent,e.abrupt("return",a.sourcecodes.map((function(e){return new p.a(e)})));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addSourceCode",value:function(){var e=Object(c.a)(r.a.mark((function e(t,n,a){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new i.a("post",d.ub,{problemId:t,tutorialId:n},a).request();case 3:return c=e.sent,e.abrupt("return",c.sourcecode);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"updateSourceCode",value:function(){var e=Object(c.a)(r.a.mark((function e(t,n,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new i.a("put",d.tb,{problemId:t,tutorialId:n,sourceCodeId:a.Id},a).request();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"removeSourceCode",value:function(){var e=Object(c.a)(r.a.mark((function e(t,n,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new i.a("delete",d.tb,{problemId:t,tutorialId:n,sourceCodeId:a}).request();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,a){return e.apply(this,arguments)}}()}]),e}();t.a=f},316:function(e,t,n){},317:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(45),s=n.n(c),o=n(3),u=n(4),l=n(5),i=n(6),m=n(34),p=n(149),d=n(10),f=n(1),h=n.n(f),b=n(2),v=n(26),g=n(100),E=n.n(g),x=n(48),w=n.n(x),y=n(12),k=n(7),C=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"verifyAdministrator",value:function(){return["Administrator","SuperAdministrator"].includes(Object(v.a)("Role"))}},{key:"verifyModerator",value:function(){return["Moderator","Administrator","SuperAdministrator"].includes(Object(v.a)("Role"))}},{key:"verifyUser",value:function(){return Object(v.b)()}},{key:"register",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("post",k.db,null,{Username:t,Email:n,Password:a}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={Password:w()(n).toString()},r={from:{email:!0}},void 0===E()({from:t},r)?(a.Email=t,a.Username=""):(a.Username=t,a.Email=""),e.next=6,new y.a("post",k.W,null,a).request();case 6:return c=e.sent,e.abrupt("return",c.user);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"verifyToken",value:function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.Bb,null,null,!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),O=r.a.createContext(),j=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).login=function(){var e=Object(b.a)(h.a.mark((function e(t,n,r){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.login(t,n);case 2:if("object"!==typeof(c=e.sent)){e.next=10;break}a.setState({user:c}),a.setState({ready:!1}),a.setState({ready:!0}),Object(v.d)(c,r),e.next=11;break;case 10:return e.abrupt("return",c);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),a.register=function(){var e=Object(b.a)(h.a.mark((function e(t,n,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.register(t,n,a);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),a.logout=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(v.c)(),a.setState({user:void 0}),e.next=4,a.setState({ready:!1});case 4:return e.next=6,a.setState({ready:!0});case 6:case"end":return e.stop()}}),e)}))),a.verifyToken=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.verifyToken();case 2:e.sent&&a.logout();case 4:case"end":return e.stop()}}),e)}))),a.verifyUser=function(){return!!a.state.user},a.verifyAdministrator=function(){return a.verifyUser()&&["Administrator","SuperAdministrator"].includes(a.state.user.Role)},a.verifyModerator=function(){return a.verifyUser()&&["Moderator","Administrator","SuperAdministrator"].includes(a.state.user.Role)},a.state={ready:!1,user:void 0,register:a.register,login:a.login,verifyToken:a.verifyToken,verifyAdministrator:a.verifyAdministrator,verifyModerator:a.verifyModerator,verifyUser:a.verifyUser,logout:a.logout},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.setState({user:Object(v.a)(),ready:!0}),this.verifyToken()}},{key:"render",value:function(){var e=this.state.ready,t=this.props.children;return e?r.a.createElement(O.Provider,{value:this.state},t):r.a.createElement("div",null)}}]),n}(r.a.Component),S=n(324),N=n(322),I=function(){var e=Object(a.useContext)(O),t=e.logout,n=e.user,c=n.Avatar,s=n.Username,o=n.Email;return r.a.createElement("div",{className:"user-option-menu mr-3"},r.a.createElement("ul",{className:"list-unstyled d-flex h-100 mb-0"},r.a.createElement("li",{className:"d-flex px-1 py-1 flex-column justify-content-center"},r.a.createElement("div",{className:"avatar d-flex"},r.a.createElement(p.a,{src:c||"./image/default_avatar.jpg",fluid:!0,roundedCircle:!0,width:"32px",className:"m-auto shadow-sm",style:{height:"32px"}}))),r.a.createElement("li",{className:"d-block"},r.a.createElement("div",{className:"h-100 py-1 ml-1 mr-1 d-flex"},r.a.createElement("div",{className:"m-auto username"},s)))),r.a.createElement("div",{className:"user-option-menu-dropdown-padding"},"\xa0"),r.a.createElement("div",{className:"user-option-menu-dropdown shadow-sm bg-white border rounded"},r.a.createElement("div",{className:"dark-gray"},r.a.createElement("ul",{className:"list-unstyled mb-0"},r.a.createElement("div",{className:"d-flex m-2"},r.a.createElement("div",{className:"mr-2",style:{width:"48px!important"}},r.a.createElement(p.a,{src:c||"./image/default_avatar.jpg",fluid:!0,roundedCircle:!0,width:"48px",className:"avatar flex-grow-1",style:{height:"48px"}})),r.a.createElement("div",{style:{maxWidth:"220px"}},r.a.createElement("h4",{className:"my-1"},r.a.createElement("strong",null,s)),r.a.createElement("p",{className:"text-secondary m-0"},r.a.createElement("i",null,o)))),r.a.createElement("li",{className:"px-3 py-2"},r.a.createElement(S.a,{placement:"right",className:"w-100",overlay:function(e){return r.a.createElement(N.a,Object.assign({className:"border-0"},e),"Coming soon")}},r.a.createElement("div",{className:"d-block"},r.a.createElement("span",{className:"fas fa-user-circle mr-2 fa-fw"}),"Th\xf4ng tin c\u1ee7a b\u1ea1n"))),r.a.createElement("li",{className:"px-3 py-2"},r.a.createElement("div",{role:"button",tabIndex:0,onClick:t},r.a.createElement("span",{className:"fas fa-sign-out-alt mr-2 fa-fw"}),"\u0110\u0103ng xu\u1ea5t"))))))},P=function(){var e=Object(a.useContext)(O),t=e.verifyUser,n=e.verifyModerator,c=e.user;return r.a.createElement("div",{className:"header bg-dark-gray d-flex justify-content-between px-5 text-white text-uppercase"},r.a.createElement("ul",{className:"list-unstyled d-flex h-100 flex-grow-1"},r.a.createElement("li",{className:"d-block px-3 py-1"},r.a.createElement(d.b,{to:"/",className:"logo"},r.a.createElement(p.a,{src:"logo.svg",fluid:!0,roundedCircle:!0,width:"40px"}))),r.a.createElement("li",{className:"d-block"},r.a.createElement(d.b,{to:"/contests",className:"h-100 py-1 mx-3 d-flex"},r.a.createElement("div",{className:"m-auto"},"k\u1ef3 thi online"))),t()&&r.a.createElement("li",{className:"d-block"},r.a.createElement(d.b,{to:"/courses",className:"h-100 py-1 mx-3 d-flex"},r.a.createElement("div",{className:"m-auto"},"Kh\xf3a h\u1ecdc"))),n()&&r.a.createElement("li",{className:"d-block"},r.a.createElement(d.b,{to:"/admin/submissions",className:"h-100 py-1 mx-3 d-flex"},r.a.createElement("div",{className:"m-auto"},"b\u1ea3ng ch\u1ea5m b\xe0i"))),n()&&r.a.createElement("li",{className:"d-block"},r.a.createElement(d.b,{to:"/community",className:"h-100 py-1 mx-3 d-flex"},r.a.createElement("div",{className:"m-auto"},"B\xe0i vi\u1ebft")))),n()&&r.a.createElement("ul",{className:"list-unstyled d-flex h-100 flex-column justify-content-center"},r.a.createElement("li",{className:"d-block mr-3 mx-1"},r.a.createElement(d.b,{to:"/admin",className:"h-100 py-1 mx-2 d-flex px-2 admin-badge"},r.a.createElement("div",{className:"m-auto"},r.a.createElement("span",{className:"fas fa-cogs"}),"\xa0\xa0",c.Role)))),!t()&&r.a.createElement("ul",{className:"list-unstyled d-flex h-100"},r.a.createElement("li",{className:"d-block mr-3"},r.a.createElement(d.b,{to:"/register",className:"h-100 py-1 mx-2 d-flex"},r.a.createElement("div",{className:"m-auto"},"\u0111\u0103ng k\xfd"))),r.a.createElement("li",{className:"d-block"},r.a.createElement(d.b,{to:"/login",className:"h-100 py-1 ml-3 mr-4 d-flex"},r.a.createElement("div",{className:"m-auto"},"\u0111\u0103ng nh\u1eadp")))),t()&&r.a.createElement(I,null),r.a.createElement("ul",{className:"list-unstyled d-flex h-100"},r.a.createElement("li",null,r.a.createElement(d.b,{to:"/help",className:"h-100 py-1 mx-2 d-flex"},r.a.createElement("div",{className:"m-auto",style:{fontSize:"20px"}},r.a.createElement("span",{className:"far fa-question-circle"}))))))},T=n(23),L=n(41),R=n(21),U=n(11),A=function(e){var t=e.className,n=e.title,a=e.width,c=e.key,s=e.name,o=e.disabled,u=e.hidden,l=e.type,i=e.defaultValue,m=e.value,p=e.placeholder,d=e.onChange,f=e.onFocus,h=e.autoComplete,b=e.ref,v=e.message,g=e.error;return r.a.createElement("div",{className:"basic-component-input-div ".concat(t),title:n,style:{width:a?a.toString():"100%"},key:c||""},r.a.createElement("label",{className:"basic-component-input-name-label"},s),r.a.createElement("input",{className:"basic-component-input-input",disabled:!!o,hidden:!!u,type:l,value:m||i,placeholder:p,spellCheck:!1,onChange:d?function(t){return e.onChange(t.target.value)}:null,onFocus:f,autoComplete:h,ref:b}),v&&r.a.createElement("label",{className:"basic-component-input-message-label ".concat(g?"":"not-error-label")},v))};A.defaultProps={type:"text",name:"",hidden:!1,disabled:!1,onFocus:null,placeholder:"",title:"",className:"",message:"",width:"100%",defaultValue:"",key:void 0,ref:null,autoComplete:"off",error:!0};var D=A,M=function(e){var t=e.className,n=e.title,a=e.onClick,c=e.type,s=e.style,o=e.hidden,u=e.disabled,l=e.children;return r.a.createElement("button",{className:"basic-component-button ".concat(t),title:n,onClick:a,type:c,style:s,hidden:!!o,disabled:!!u},l)};M.defaultProps={className:"",title:"",onClick:null,type:"button",hidden:null,disabled:!1,style:void 0};var F=M,B=function(e){var t=e.className,n=e.hidden,a=e.disabled,c=e.width,s=e.title,o=e.text,u=e.options,l=e.name,i=e.values,m=e.onChange;return r.a.createElement("div",{className:"basic-component-checkbox-div ".concat(t||""),hidden:!!n,disabled:!!a,style:{width:c?c.toString():"100%"},title:s||""},o&&r.a.createElement("label",{className:"basic-component-checkbox-title",htmlFor:"checkbox-".concat(l)},o),u&&u.length>0&&u.map((function(e,t){return r.a.createElement("label",{key:t,htmlFor:"option-".concat(t),className:"basic-component-checkbox-select-box ".concat(e.disabled?"checkbox-disabled":""),hidden:!!e.hidden,disabled:!!e.disabled},e.text,r.a.createElement("input",{className:"basic-component-checkbox-check-field",id:"option-".concat(t),type:"checkbox",name:l,value:e.value,checked:i.includes(e.value),onChange:m&&!e.disabled?function(e){return m(e.target.value)}:null}),r.a.createElement("span",{className:"basic-component-checkbox-checkmark"}))})))};B.defaultProps={className:void 0,hidden:void 0,disabled:void 0,width:void 0,title:void 0,text:void 0,options:void 0,name:void 0,values:void 0,onChange:void 0};var q=B,H=n(9),W=function(e){var t=e.className,n=e.style,a=e.children;return r.a.createElement("div",{className:"d-flex justify-content-center ".concat(t),style:Object(H.a)({},n)},a)};W.defaultProps={className:void 0,style:void 0};var V=W,z=function(e){var t=e.children;return r.a.createElement("div",{className:"d-flex flex-column"},t)},G=n(110),Y=r.a.createContext(),Q=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).addNotification=function(e,t){var n=a.state.timer;clearTimeout(n);var r=a.state.notifications;r.push({title:e,content:t}),a.setState({notifications:r,timer:setInterval(Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.onClose();case 1:case"end":return e.stop()}}),e)}))),2e3)})},a.onClose=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=a.state.notifications).splice(0,1),e.next=4,a.setState({notifications:t});case 4:case"end":return e.stop()}}),e)}))),a.state={notifications:[],addNotification:a.addNotification,onClose:a.onClose,timer:void 0},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(Y.Provider,{value:this.state},e)}}]),n}(r.a.Component),K=function(){return r.a.createElement("div",{className:"toast-stack"},r.a.createElement(Y.Consumer,null,(function(e){return e.notifications.map((function(t,n){return r.a.createElement(G.a,{key:t.Id,onClose:Object(b.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onClose(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},r.a.createElement(G.a.Header,{className:"bg-light-blue text-white"},r.a.createElement("strong",{className:"mr-auto"},t.title),r.a.createElement("small",null,"Just now")),r.a.createElement(G.a.Body,null,t.content))}))})))},_=function(e){var t=e.className,n=e.children;return r.a.createElement("div",{className:"pt-4 pb-4 ".concat(t),style:{background:"#f5f6fa"}},r.a.createElement("div",{className:"container content-body p-0"},r.a.createElement(R.a,null,n)))};_.defaultProps={className:""};var J=function(e){var t=e.md,n=e.className,a=e.children;return r.a.createElement(U.a,{md:t||9,className:"".concat(n||""," pl-0")},a)};J.defaultProps={className:"",md:9};var X=function(e){var t=e.md,n=e.className,a=e.children;return r.a.createElement(U.a,{md:t||3,className:" ".concat(n||""," pr-0")},a,r.a.createElement(K,null))};X.defaultProps={className:"",md:3};var $=_,Z=function(){function e(){Object(o.a)(this,e),this.language="vi",this.setting={}}return Object(u.a)(e,[{key:"use",value:function(e){this.language=e}},{key:"import",value:function(e){var t=e;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))for(var a in e[n])Object.prototype.hasOwnProperty.call(e[n],a)&&(t[n][a.toLowerCase()]=e[n][a]);this.setting=t}},{key:"get",value:function(e){return Object.prototype.hasOwnProperty.call(this.setting,this.language)&&Object.prototype.hasOwnProperty.call(this.setting[this.language],e.toLowerCase())?this.setting[this.language][e.toLowerCase()]:e}}],[{key:"getLanguageName",value:function(e){var t=[{Id:1,ISOCode:"VI"},{Id:2,ISOCode:"EN"}].find((function(t){return t.Id===Number.parseInt(e,10)}));return t?t.ISOCode:null}}]),e}(),ee={vi:{problems:"b\xe0i t\u1eadp",contests:"k\u1ef3 thi",submissions:"b\u1ea3ng ch\u1ea5m b\xe0i",leaderboard:"b\u1ea3ng x\u1ebfp h\u1ea1ng",courses:"c\xe1c kh\xf3a h\u1ecdc",login:"\u0111\u0103ng nh\u1eadp",register:"\u0111\u0103ng k\xed",home:"trang ch\u1ee7","course types":"lo\u1ea1i kh\xf3a h\u1ecdc",lectures:"b\xe0i h\u1ecdc"}},te=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"read",value:function(e){return JSON.parse(localStorage.getItem(e))}},{key:"write",value:function(e,t){localStorage.setItem(e,JSON.stringify(t))}}]),e}(),ne=r.a.createContext(),ae=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).setLanguage=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState((function(){return{language:t}}));case 2:te.write("user-language",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={language:te.read("user-language")||"vi",setLanguage:a.setLanguage},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(ne.Provider,{value:this.state},e)}}]),n}(r.a.Component),re=new Z;re.import(ee);var ce=function(e){return r.a.createElement(ne.Consumer,null,(function(t){var n=t.language;re.use(n);var a=e.nav;return r.a.createElement("div",{className:"p-1 pl-2 shadow-sm navigation-bar"},r.a.createElement("div",{className:"pl-5"},a.map((function(e,t){return r.a.createElement("span",{key:e[0]},t<a.length-1&&r.a.createElement(d.a,{to:e[1]},re.get(e[0]))||r.a.createElement("p",null,re.get(e[0])),t<a.length-1&&r.a.createElement("span",{className:"fas fa-chevron-right",style:{fontSize:"10px"}}))}))))}))},se=function(e){var t=e.className;return r.a.createElement(V,{style:{height:"100%"},className:t},r.a.createElement("span",{className:"fas fa-spin fa-spinner m-auto",style:{verticalAlign:"middle"}}))};se.defaultProps={className:""};var oe=function(e){var t=e.className;return r.a.createElement(V,{className:t},r.a.createElement("span",{className:"fas fa-spin fa-spinner fa-3x"}))};oe.defaultProps={className:""};var ue=function(){return r.a.createElement(V,null,r.a.createElement(z,null,r.a.createElement("img",{alt:"loading...",src:"./loading-dna.svg",style:{height:"150px"}}),r.a.createElement(V,null,"LOADING...")))},le=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{nav:[["",""]]}),r.a.createElement($,null,r.a.createElement("div",{className:"col-12"},r.a.createElement(V,null,r.a.createElement(ue,null)))))},ie=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){Object(v.b)()&&a.props.history.push("/")},a.toggleRemember=function(e){a.state.remember===e?a.setState((function(){return{remember:""}})):a.setState((function(){return{remember:"remember"}}))},a.resetWrongPassword=function(){a.state.wrongPassword&&a.setState((function(){return{wrongPassword:""}}))},a.onChangeUsername=function(e){a.setState((function(){return{Username:e}})),a.resetWrongPassword()},a.onChangePassword=function(e){a.setState((function(){return{Password:e}})),a.resetWrongPassword()},a.onSubmitLogin=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r,c,s,o,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.state,r=n.Username,c=n.Password,s=n.remember,o=a.context.login,0!==r.trim().length&&0!==c.length){e.next=7;break}return e.next=6,a.setState((function(){return{wrongPassword:"Sai t\xean \u0111\u0103ng nh\u1eadp ho\u1eb7c m\u1eadt kh\u1ea9u."}}));case 6:return e.abrupt("return");case 7:return a.setState((function(){return{isLoggingIn:!0}})),e.next=10,o(r,c,s);case 10:(u=e.sent)?a.setState((function(){return{wrongPassword:u.includes("Invalid user")?"Sai t\xean \u0111\u0103ng nh\u1eadp ho\u1eb7c m\u1eadt kh\u1ea9u.":u,isLoggingIn:!1}})):T.a.goBack();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.render=function(){var e=a.state,t=e.Username,n=e.wrongPassword,c=e.Password,s=e.remember,o=e.errorUsername,u=e.isLoggingIn;return r.a.createElement(O.Consumer,null,(function(e){return a.context=e,e.verifyUser()?r.a.createElement(m.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(ce,{nav:[["Home","/"],["Login"]]}),r.a.createElement($,null,r.a.createElement(L.a,null,r.a.createElement(R.a,{className:"justify-content-md-center"},r.a.createElement(U.a,{xs:!0,lg:"5",className:"form login-div shadow-sm",style:{backgroundColor:"white"}},r.a.createElement("form",{onSubmit:a.onSubmitLogin},r.a.createElement("h1",null,"\u0110\u0103ng nh\u1eadp"),n&&r.a.createElement("div",{className:"login-error"},r.a.createElement("label",null,n)),r.a.createElement(D,{name:"T\xean \u0111\u0103ng nh\u1eadp / Email",value:t,type:"text",message:o,onChange:a.onChangeUsername}),r.a.createElement(D,{name:"M\u1eadt kh\u1ea9u",type:"password",className:"password-input",value:c,onChange:a.onChangePassword}),r.a.createElement(L.a,null,r.a.createElement(R.a,null,r.a.createElement(U.a,null,r.a.createElement(q,{name:"remember",values:s,options:[{value:"remember",text:"Ghi nh\u1edb t\xe0i kho\u1ea3n"}],className:"login-remember",onChange:a.toggleRemember})),r.a.createElement(U.a,{style:{textAlign:"right"}},r.a.createElement("label",{className:"forgot-password-label"},r.a.createElement("div",{role:"link",tabIndex:0,onClick:function(){return a.props.history.push("/forgot")}},"Qu\xean m\u1eadt kh\u1ea9u?"))))),r.a.createElement(F,{type:"submit",disabled:u,className:"login-button w-100"},u?r.a.createElement("div",{style:{padding:"5px 0 5px 0"}},r.a.createElement(se,null)):"\u0110\u0103ng nh\u1eadp")))),r.a.createElement(R.a,{className:"justify-content-md-center",style:{marginBottom:"10%"}},r.a.createElement(U.a,{xs:!0,lg:"5",className:"form login-div shadow-sm",style:{textAlign:"center",marginTop:"20px",backgroundColor:"white"}},"L\u1ea7n \u0111\u1ea7u \u0111\u1ebfn v\u1edbi Big-O Coder? ",r.a.createElement("label",{className:"to-register"},r.a.createElement("div",{role:"link",tabIndex:0,onClick:function(){return a.props.history.push("/register")}},"T\u1ea1o ngay t\xe0i kho\u1ea3n.")))))))}))},a.state={Username:"",Password:"",remember:"",wrongPassword:"",isLoggingIn:!1},a.context=O,a}return n}(r.a.Component),me={vi:{Register:"\u0110\u0103ng k\xfd",Username:"T\xean \u0111\u0103ng nh\u1eadp",Email:"Email",Password:"M\u1eadt kh\u1ea9u","Confirm password":"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u","Already have account? ":"\u0110\xe3 c\xf3 s\u1eb5n t\xe0i kho\u1ea3n? ","Login now":"\u0110\u0103ng nh\u1eadp ngay.","Username can not be empty.":"T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.","Email can not be empty.":"Email kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.","Invalid email.":"Email kh\xf4ng h\u1ee3p l\u1ec7.","Password can not be empty":"M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.","Password must have at least 8 characters.":"M\u1eadt kh\u1ea9u ph\u1ea3i ch\u1ee9a \xedt nh\u1ea5t 8 k\xfd t\u1ef1.","Confirm password and password must be the same.":"M\u1eadt kh\u1ea9u x\xe1c nh\u1eadn ph\u1ea3i gi\u1ed1ng m\u1eadt kh\u1ea9u.","Username already exists.":"T\xean \u0111\u0103ng nh\u1eadp \u0111\xe3 t\u1ed3n t\u1ea1i.","Email already exists.":"Email \u0111\xe3 t\u1ed3n t\u1ea1i."}},pe=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).validateUsername=function(e){e?e.includes(" ")?a.setState((function(){return{errorUsername:"T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ee9a kho\u1ea3ng tr\u1eafng"}})):a.setState((function(){return{errorUsername:""}})):a.setState((function(){return{errorUsername:a.language.get("Username can not be empty.")}}))},a.validateEmail=function(e){if(e){void 0!==E()({from:e},{from:{email:!0}})?a.setState((function(){return{errorEmail:"Email kh\xf4ng h\u1ee3p l\u1ec7."}})):a.setState((function(){return{errorEmail:""}}))}else a.setState((function(){return{errorEmail:"Email kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."}}))},a.validatePassword=function(e){e?e.length<8?a.setState((function(){return{errorPassword:"M\u1eadt kh\u1ea9u ph\u1ea3i ch\u1ee9a \xedt nh\u1ea5t 8 k\xfd t\u1ef1.",passwordStrength:0}})):(a.setState((function(){return{errorPassword:""}})),a.calculatePasswordStrength(e)):a.setState((function(){return{errorPassword:"M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.",passwordStrength:0}}))},a.validateConfirmPassword=function(e,t){t!==e?a.setState((function(){return{errorConfirmPassword:"M\u1eadt kh\u1ea9u x\xe1c nh\u1eadn ph\u1ea3i gi\u1ed1ng m\u1eadt kh\u1ea9u."}})):a.setState((function(){return{errorConfirmPassword:""}}))},a.onChangeUsername=function(e){a.setState((function(){return{Username:e}})),a.validateUsername(e)},a.onChangeEmail=function(e){a.setState((function(){return{Email:e}})),a.validateEmail(e)},a.calculatePasswordStrength=function(e){var t=0;e.match(/[a-z]/g)&&(t+=1),e.match(/[A-Z]/g)&&(t+=1),e.match(/[0-9]/g)&&(t+=1),e.match(/[`~!@#$%^&*()_+{}|;:'",<.>?]/g)&&(t+=1),a.setState((function(){return{passwordStrength:t}}))},a.onChangePassword=function(e){a.setState((function(){return{Password:e}})),a.validatePassword(e)},a.onChangeConfirmPassword=function(e){a.setState((function(){return{confirmPassword:e}}));var t=a.state.Password;a.validateConfirmPassword(t,e)},a.onFocusEmail=function(){var e=a.state.Username;a.validateUsername(e)},a.onFocusPassword=function(){var e=a.state,t=e.Username,n=e.Email;a.validateUsername(t),a.validateEmail(n)},a.onFocusConfirmPassword=function(){var e=a.state,t=e.Username,n=e.Email,r=e.Password;a.validateUsername(t),a.validateEmail(n),a.validatePassword(r)},a.registerNewUser=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r,c,s,o,u,l,i,m,p,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state,r=n.Username,c=n.Email,s=n.Password,o=n.confirmPassword,u=n.errorUsername,l=n.errorEmail,i=n.errorPassword,m=n.errorConfirmPassword,p=a.props.history,t.preventDefault(),a.validateUsername(r),a.validateEmail(c),a.validatePassword(s),a.validateConfirmPassword(s,o),!(u||l||i||m)){e.next=9;break}return e.abrupt("return");case 9:return a.setState((function(){return{isRegistering:!0}})),e.next=12,a.authenticationcContext.register(r,c,w()(s).toString());case 12:(d=e.sent)||p.push("/login"),d.includes("exists")&&a.setState({errorUsername:"T\xean \u0111\u0103ng nh\u1eadp ho\u1eb7c email \u0111\xe3 t\u1ed3n t\u1ea1i."}),a.setState((function(){return{isRegistering:!1}}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.render=function(){var e=a.state,t=e.Username,n=e.Email,c=e.Password,s=e.confirmPassword,o=e.errorUsername,u=e.errorEmail,l=e.errorPassword,i=e.errorConfirmPassword,p=e.passwordStrength,d=e.isRegistering,f=a.props.history;return r.a.createElement(ne.Consumer,null,(function(e){return a.language.use(e.language),r.a.createElement(O.Consumer,null,(function(e){return a.authenticationcContext=e,e.verifyUser()?r.a.createElement(m.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{nav:[["Home","/"],["Register"]]}),r.a.createElement($,null,r.a.createElement(L.a,null,r.a.createElement(R.a,{className:"justify-content-md-center"},r.a.createElement(U.a,{xg:!0,lg:"5",className:"form register-div shadow-sm",style:{backgroundColor:"white"}},r.a.createElement("form",{onSubmit:a.registerNewUser},r.a.createElement("h1",null,a.language.get("Register")),r.a.createElement(D,{name:a.language.get("Username"),value:t,onChange:a.onChangeUsername,message:o}),r.a.createElement(D,{name:a.language.get("Email"),type:"email",value:n,onChange:a.onChangeEmail,message:u,onFocus:a.onFocusEmail}),r.a.createElement(D,{name:a.language.get("Password"),type:"password",autoComplete:"new-password",className:"register-password",value:c,onChange:a.onChangePassword,message:l,onFocus:a.onFocusPassword}),r.a.createElement(L.a,null,r.a.createElement(R.a,{className:"justify-content-md-center"},r.a.createElement(U.a,{className:"".concat(p>0&&"very-weak-password")}),r.a.createElement(U.a,{className:"".concat(p>1&&"weak-password")}),r.a.createElement(U.a,{className:"".concat(p>2&&"medium-password")}),r.a.createElement(U.a,{className:"".concat(p>3&&"strong-password")}))),r.a.createElement(D,{name:a.language.get("Confirm password"),type:"password",value:s,onChange:a.onChangeConfirmPassword,message:i,onFocus:a.onFocusConfirmPassword}),r.a.createElement(F,{className:"register-button w-100",type:"submit",disabled:d||i||u||l||o},d?r.a.createElement("div",{style:{padding:"5px 0 5px 0"}},r.a.createElement(se,null)):a.language.get("Register"))))),r.a.createElement(R.a,{className:"justify-content-md-center"},r.a.createElement(U.a,{xg:!0,lg:"5",className:"form register-div shadow-sm",style:{textAlign:"center",marginTop:"20px",marginBottom:"50px",backgroundColor:"white"}},a.language.get("Already have account? "),r.a.createElement("label",{className:"to-login",htmlFor:"login-now-text"},r.a.createElement("div",{role:"link",tabIndex:0,id:"login-now-text",onClick:function(){return f.push("/login")}},a.language.get("Login now"))))))))}))}))},a.state={Username:"",Email:"",Password:"",confirmPassword:"",errorUsername:"",errorEmail:"",errorPassword:"",errorConfirmPassword:"",passwordStrength:0,isRegistering:!1},a.language=new Z,a.language.import(me),a}return n}(r.a.Component),de=function(){return r.a.createElement("div",null,r.a.createElement(ce,{nav:[["Home Page","/"]]}),r.a.createElement($,null,"404 error"))},fe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(o.a)(this,e),this.length=0,this.container=t}return Object(u.a)(e,[{key:"getIndex",value:function(e){return this.container[e]}},{key:"getId",value:function(e){return this.container.find((function(t){return t.Id===e}))}},{key:"getCustom",value:function(e,t){return this.container.find((function(n){return n[e]===t}))}},{key:"update",value:function(e){this.container=this.container.map((function(t){return t.Id===e.Id&&t.updateProperty(e),t}))}},{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;this.container.splice(t,0,e),this.length+=1}},{key:"remove",value:function(e){this.container=this.container.filter((function(t){return t.Id!==e.Id})),this.length-=1}},{key:"gets",value:function(){return this.container}},{key:"assign",value:function(e){this.container=e,this.length=e.length}}]),e}(),he=n(19),be=n.n(he),ve=n(25),ge=n(32),Ee=n(27),xe=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"submit",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("post",k.kb,{id:t.ProblemId},t,!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"submitContest",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("post",k.v,{id:t.ContestId},t,!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"submitLecture",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("post",k.S,{courseId:t,lectureId:n,problemId:a},r,!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"fetchSubmissions",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,r,c,s,o=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:1,n=o.length>1&&void 0!==o[1]?o[1]:void 0,0===parseInt(t,10)&&(t=1),e.prev=3,a="",n){for(c in r=[],n)Object.prototype.hasOwnProperty.call(n,c)&&r.push("".concat(c,"=").concat(n[c]));a="".concat(k.kb,"/?").concat(r.join("&"),"&page=").concat(t)}else a="".concat(k.kb,"/?page=").concat(t);return e.next=8,new y.a("get",a,void 0,void 0,Object(v.b)()).request();case 8:return s=e.sent,e.abrupt("return",{submissions:s.submissions,totalSubmissions:s.totalSubmissions});case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return",{submissions:[],totalSubmissions:0});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),we=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).Link="/problems/".concat(a.Id),a}return Object(u.a)(n,[{key:"Navigation",value:function(){return[["home","/"],["problems","/problems"],[this.Name]]}},{key:"submit",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t).ProblemId=this.Id,n.UserId=Object(v.a)("Id"),e.next=5,xe.submit(Object(H.a)(Object(H.a)({},n),{},{Content:ge.Base64.encode(n.Content)}));case 5:if(!(a=e.sent)){e.next=8;break}return e.abrupt("return",a);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ee.default),ye=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(u.a)(n,[{key:"submit",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t).ProblemId=this.Id,n.ContestId=this.ContestId,e.next=5,xe.submitContest(Object(H.a)(Object(H.a)({},n),{},{Content:ge.Base64.encode(n.Content)}));case 5:if(!(a=e.sent)){e.next=8;break}return e.abrupt("return",a);case 8:return ve.a.setQueryString("problem_view","submissions"),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(we),ke=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"getProblems",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"all"===(t=be()(t).omitBy(be.a.isEmpty).value()).tag&&delete t.tag,n=ve.a.stringify(t),a=new y.a("get",1===Object.keys(t).length?k.Z:k.gb,{queryString:n}),e.next=7,a.request();case 7:return(r=e.sent).problems=r.problems.map((function(e){return new we(e)})),e.abrupt("return",r);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getProblem",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new y.a("get",k.Y,{id:t},void 0,!0),e.next=4,n.request();case 4:return a=e.sent,e.abrupt("return",new we(a.problem));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getContestProblem",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=new y.a("get",k.q,{id:t,problemId:n},null,!0),e.next=4,a.request();case 4:return r=e.sent,e.abrupt("return",new ye(Object(H.a)(Object(H.a)({},r.problem),{},{ContestId:t})));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parse",value:function(e){try{return e.Testcase=e.Testcase.sort((function(e,t){return e.Order.localeCompare(t.Order)})),e}catch(t){return e}}},{key:"getNewestProblems",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.X).request();case 3:return t=e.sent,e.abrupt("return",t.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ce=n(53),Oe=n.n(Ce),je=n(63),Se=n.n(je),Ne=n(60),Ie=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"saveData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,a=new Ne.a;if(a.get(e))return!1;var r=Se.a.encrypt(JSON.stringify(t),"Big-O Coder private key"),c=new Date;return c.setMinutes(c.getMinutes()+n),a.set(e,r.toString(),{expires:c,path:"/",sameSite:!0}),!0}},{key:"getData",value:function(e){var t=(new Ne.a).get(e);if(t){var n=Se.a.decrypt(t,"Big-O Coder private key");return JSON.parse(n.toString(Oe.a.enc.Utf8))}}},{key:"clearData",value:function(e){(new Ne.a).remove(e)}}]),e}(),Pe=r.a.createContext(),Te=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetchProblem=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.getProblem(t);case 2:n=e.sent,r=a.state.container,n&&r.add(new we(ke.parse(n)),0),a.setState((function(){return{container:r}}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getProblem=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state.container,r=Number.parseInt(t,10),n.getId(r)){e.next=6;break}return e.next=6,a.fetchProblem(r);case 6:return e.abrupt("return",n.getId(t));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.fetchContestProblem=function(){var e=Object(b.a)(h.a.mark((function e(t,n){var r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.getContestProblem(t,n);case 2:r=e.sent,c=a.state.container,r&&c.add(new we(ke.parse(r)),0),a.setState((function(){return{container:c}}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.getContestProblem=function(){var e=Object(b.a)(h.a.mark((function e(t,n){var r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.state.container,c=r.getCustom("ProblemCode",n)){e.next=14;break}if(c=Ie.getData(t+n)){e.next=10;break}return e.next=7,a.fetchContestProblem(t,n);case 7:Ie.saveData(t+n,r.getCustom("ProblemCode",n)),e.next=14;break;case 10:return(s=r).add(new we(ke.parse(c)),0),e.next=14,a.setState((function(){return{container:s}}));case 14:return e.abrupt("return",r.getCustom("ProblemCode",n));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.state={container:new fe,getProblem:a.getProblem,getContestProblem:a.getContestProblem},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(Pe.Provider,{value:this.state},e)}}]),n}(r.a.Component),Le=n(38),Re=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"getTags",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.lb).request();case 3:return t=e.sent,e.abrupt("return",t.tags);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"addTag",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("post",k.lb,void 0,{tagName:t},!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"removeTag",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("delete",k.lb,void 0,{tagName:t},!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ue=n(86),Ae=function(e){var t=e.title,n=e.closebutton,a=e.error,c=e.footer,s=e.onHide,o=e.children;return r.a.createElement(Ue.a,Object.assign({dialogClassName:"shadow-lg"},e,{size:"lg"}),r.a.createElement(Ue.a.Header,{className:"py-2 px-3 d-flex align-items-center"},r.a.createElement(Ue.a.Title,{className:"flex-grow-1"},r.a.createElement("h4",{className:"m-0 font-semi-bold",style:{lineHeight:"inherit"}},t)),1===n&&r.a.createElement(F,{onClick:function(){return s()},className:"rounded-circle ".concat(a?"bg-danger":"bg-light-blue")},r.a.createElement("span",{className:"fas fa-times"}))),r.a.createElement(Ue.a.Body,{className:"p-0"},o),c&&r.a.createElement(Ue.a.Footer,{className:"p-0"},c))};Ae.defaultProps={footer:void 0,error:0,closebutton:0};var De=Ae,Me=function(e){var t=e.title,n=e.clearError,a=e.Footer,c=e.error,s=e.message;return r.a.createElement(De,{title:t,show:!0,onHide:n,footer:a,closebutton:1,error:c?1:0},r.a.createElement("div",{className:"p-3"},c&&r.a.createElement("ul",{className:"list-unstyled"},c.split("\n").filter((function(e){return e.length>0})).map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("span",{className:"fas fa-times-circle light-pink"})," ",e)}))),s&&r.a.createElement("ul",{className:"list-unstyled"},s.split("\n").map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("span",{className:"fas fa-check-circle green"})," ",e)})))))};Me.defaultProps={title:"",clearError:null,Footer:void 0,error:"",message:""};var Fe=Me,Be=r.a.createContext(),qe=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetchTags=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.state.tags.length>0)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Re.getTags();case 5:t=e.sent,a.setState({tags:t.sort((function(e,t){return e.localeCompare(t)}))});case 7:case"end":return e.stop()}}),e)}))),a.addTag=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state.tags,!t.trim()){e.next=6;break}return e.next=4,Re.addTag(t);case 4:(r=e.sent)?a.setState({error:r}):a.setState({tags:[].concat(Object(Le.a)(n),[t]).sort((function(e,t){return e.localeCompare(t)})),message:'Tag "'.concat(t,'" added!')});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.removeTag=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state.tags,!window.confirm("This action can not be undone!")){e.next=6;break}return e.next=4,Re.removeTag(t);case 4:(r=e.sent)?a.setState({error:r}):a.setState({tags:n.filter((function(e){return e!==t})),message:'Tag "'.concat(t,'" removed!')});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.clearError=function(){a.setState({error:"",message:""})},a.state={tags:[],fetchTags:a.fetchTags,addTag:a.addTag,removeTag:a.removeTag,error:"",message:""},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchTags();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.message,n=e.error,a=this.props.children;return r.a.createElement(Be.Provider,{value:this.state},a,(n.length>0||t.length>0)&&r.a.createElement(Fe,{title:"Tag",clearError:this.clearError,message:t,error:n}))}}]),n}(r.a.Component),He=n(36),We=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"getCollections",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.f,{collectionName:t}).request();case 3:return n=e.sent,e.abrupt("return",n.collections.map((function(e){return new Ve(e)})).sort((function(e,t){return new Date(e.CreateAt).getTime()-new Date(t.CreateAt).getTime()})));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCollection",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.e,{collectionName:t}).request();case 3:return n=e.sent,e.abrupt("return",n.collection);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getProblems",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"all"===(n=be()(n).omitBy(be.a.isEmpty).value()).tag&&delete n.tag,a=ve.a.stringify(n),e.next=6,new y.a("get",1===Object.keys(n).length?k.j:k.fb,{collectionName:t,queryString:a}).request();case 6:return(r=e.sent).problems=r.problems.map((function(e){return new we(e)})),e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getCollectionUserInfo",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get","".concat(k.e,"/").concat(k.yb),{collectionName:t},void 0,!0).request();case 3:return n=e.sent,e.abrupt("return",n.statistics);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCollectionLeaderboard",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get","".concat(k.e,"/").concat(k.K),{collectionName:t},{CollectionId:t}).request();case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCollectionRecentActivities",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get","".concat(k.e,"/").concat(k.cb),{collectionName:t}).request();case 3:return n=e.sent,e.abrupt("return",n.activities);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ve=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).link="",a.child=[],a.ParentCollection=void 0,a}return Object(u.a)(n,[{key:"Navigation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"vi",t=this.getLanguageContent(e);return void 0===this.ParentCollection?[]:[].concat(Object(Le.a)(this.ParentCollection.Navigation(e)),[[t.Name,this.link]])}},{key:"searchChildCollection",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.child.length){e.next=3;break}return e.next=3,this.getChild(this.Name);case 3:if(++n!==t.length){e.next=6;break}return e.abrupt("return",this);case 6:a=Object(He.a)(this.child),e.prev=7,a.s();case 9:if((r=a.n()).done){e.next=15;break}if((c=r.value).Name!==t[n]){e.next=13;break}return e.abrupt("return",c.searchChildCollection(t,n));case 13:e.next=9;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),a.e(e.t0);case 20:return e.prev=20,a.f(),e.finish(20);case 23:return e.abrupt("return",void 0);case 24:case"end":return e.stop()}}),e,this,[[7,17,20,23]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getChild",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We.getCollections(t);case 2:for(n=e.sent,a=0;a<n.length;a++)n[a].link=""===this.link?n[a].Name:"".concat(this.link,"&").concat(n[a].Name),n[a].ParentCollection=this;this.child=n;case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getProblems",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We.getProblems(this.Name,t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ee.default),ze=r.a.createContext(),Ge=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).searchCollection=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.root,r=t.split("&"),e.next=4,n.searchChildCollection(r,0);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={root:new Ve({Name:"root"}),searchCollection:a.searchCollection},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(ze.Provider,{value:this.state},e)}}]),n}(r.a.Component),Ye=n(153),Qe=n.n(Ye),Ke=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"getCourseTypes",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.C,void 0,void 0,!0).request();case 3:return t=e.sent,e.abrupt("return",t.CourseTypes.sort((function(e,t){return new Date(e.CreateAt)-new Date(t.CreateAt)})));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getCourseType",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.B,{courseTypeCode:t},void 0,!0).request();case 3:return n=e.sent,e.abrupt("return",n.CourseType);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),_e=r.a.createContext(),Je=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetchCourseTypes=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.state.courseTypes.length>0)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Ke.getCourseTypes();case 5:t=(t=e.sent).map((function(e){return{content:e,id:Qe()()}})),a.setState({courseTypes:t});case 8:case"end":return e.stop()}}),e)}))),a.state={courseTypes:[],fetchCourseTypes:a.fetchCourseTypes},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(_e.Provider,{value:this.state},e)}}]),n}(r.a.Component),Xe=n(16),$e=n(22),Ze=n(20),et=n.n(Ze),tt=n(73),nt=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"getCourses",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0===parseInt(t,10)&&(t=1),e.prev=1,e.next=4,new y.a("get","".concat(k.x,"?page=:page"),{page:t},void 0,!0).request();case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{totalCourses:0,courses:[]});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCourse",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.z,{id:t},void 0,!0).request();case 3:return n=e.sent,e.abrupt("return",n.course);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getScoreboard",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.A,{id:t},void 0,!0).request();case 3:return n=e.sent,e.abrupt("return",n.scoreboard);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),at=n(99),rt=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"getLectures",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.M,{courseId:t},void 0,!0).request();case 3:return n=e.sent,e.abrupt("return",n.lectures);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getLecture",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.L,{courseId:t,lectureId:n},void 0,!0).request();case 3:return a=e.sent,e.abrupt("return",a.lecture);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getLectureProblems",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.P,{courseId:t,lectureId:n},void 0,!0).request();case 3:return a=e.sent,e.abrupt("return",a.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getLectureProblem",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.O,{courseId:t,lectureId:n,problemId:a},void 0,!0).request();case 3:return r=e.sent,e.abrupt("return",ke.parse(r.problem));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getTutorials",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.U,{courseId:t,lectureId:n,problemId:a},void 0,!0).request();case 3:return r=e.sent,e.abrupt("return",r.tutorials);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getTutorial",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,r){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.T,{courseId:t,lectureId:n,problemId:a,tutorialId:r},void 0,!0).request();case 3:return c=e.sent,e.abrupt("return",c.tutorial);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"getSourceCode",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.V,{courseId:t,lectureId:n,problemId:a,tutorialId:r},void 0,!0).request();case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"getProblemSubmissions",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.Q,{courseId:t,lectureId:n,problemId:a},void 0,!0).request();case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getScoreboard",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new y.a("get",k.R,{courseId:t,lectureId:n},void 0,!0).request();case 2:return a=e.sent,e.abrupt("return",a.scoreboard);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),ct=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e,a){var r;return Object(o.a)(this,n),(r=t.call(this,e)).Problem=a,r.fetched=!1,r.SourceCodes=[],r}return Object(u.a)(n,[{key:"get",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.fetched){e.next=6;break}return e.next=3,rt.getTutorial(this.Problem.Lecture.Course.Id,this.Problem.Lecture.Id,this.Problem.Id,this.Id);case 3:(t=e.sent)&&this.updateProperty(t),this.fetched=!0;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ee.default),st=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e,a){var r;return Object(o.a)(this,n),(r=t.call(this,e)).Lecture=a,r.Link="/courses/".concat(a.Course.Id,"/lectures/").concat(a.Id,"/problems/").concat(r.Id),r.fetched=!1,r}return Object(u.a)(n,[{key:"submit",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t).ProblemId=this.Id,n.Content=ge.Base64.encode(n.Content),e.next=5,xe.submitLecture(this.Lecture.Course.Id,this.Lecture.Id,this.Id,n);case 5:if("string"!==typeof(a=e.sent)){e.next=8;break}return e.abrupt("return",a);case 8:return ve.a.setQueryString("view","submissions"),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getProblem",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.fetched){e.next=10;break}return e.next=3,rt.getLectureProblem(this.Lecture.Course.Id,this.Lecture.Id,this.Id);case 3:return t=e.sent,e.next=6,rt.getTutorials(this.Lecture.Course.Id,this.Lecture.Id,this.Id);case 6:n=e.sent,this.Tutorials=n.map((function(e){return new ct(e,a)})),this.updateProperty(t),this.fetched=!0;case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ee.default),ot=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e,a){var r;return Object(o.a)(this,n),(r=t.call(this,e)).Course=a,r.Problems=[],r.Link=et()(r.Course.EndDate).isAfter(et()())&&"/courses/".concat(r.Course.Id,"/lectures/").concat(r.Id),r.fetched=!1,r}return Object(u.a)(n,[{key:"getLecture",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.fetched){e.next=12;break}return e.next=3,rt.getLecture(this.Course.Id,this.Id);case 3:return t=e.sent,this.updateProperty(t),e.next=7,rt.getLectureProblems(this.Course.Id,this.Id);case 7:return n=e.sent,this.Problems=n.map((function(e){return new st(e,a)})),e.next=11,this.getScoreboard();case 11:this.fetched=!0;case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getProblem",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.Problems.find((function(e){return e.Id===t})))){e.next=4;break}return e.next=4,n.getProblem();case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getScoreboard",value:function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt.getScoreboard(this.Course.Id,this.Id);case 2:this.Scoreboard=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMiniScoreboard",value:function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.Scoreboard){e.next=3;break}return e.next=3,this.getScoreboard();case 3:return e.abrupt("return",this.Scoreboard.ScoreboardDetail);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ee.default),ut=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).getCourse=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.fetched){e.next=12;break}return e.next=3,nt.getCourse(a.Id);case 3:return t=e.sent,a.updateProperty(t),e.next=7,rt.getLectures(a.Id);case 7:return n=e.sent,a.Lectures=n.map((function(e){return new ot(e,Object(at.a)(a))})),e.next=11,a.getScoreboard();case 11:a.fetched=!0;case 12:case"end":return e.stop()}}),e)}))),a.getScoreboard=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.getScoreboard(a.Id);case 2:a.Scoreboard=e.sent;case 3:case"end":return e.stop()}}),e)}))),a.Lectures=[],a.Scoreboard=[],a.fetched=!1,a.Link="/courses/".concat(a.Id),a}return n}(Ee.default),lt=r.a.createContext(),it=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).getCourses=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.CourseService.getCourses(t);case 2:return n=e.sent,r=n.courses,c=n.totalCourses,a.setState({courses:r.map((function(e){return new ut(e)})),totalCourses:c}),e.abrupt("return",{courses:r,totalCourses:c});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getCourse=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=a.state.course)[t]){e.next=6;break}return e.next=4,nt.getCourse(t);case 4:(r=e.sent)&&a.setState({course:Object(H.a)(Object(H.a)({},n),{},Object(tt.a)({},t,new ut(r)))});case 6:return e.abrupt("return",a.state.course[t]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getLecture=function(){var e=Object(b.a)(h.a.mark((function e(t,n){var r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getCourse(t);case 2:return r=e.sent,e.next=5,r.getCourse();case 5:if(c=r.Lectures,!(s=c.find((function(e){return e.Id===parseInt(n,10)})))){e.next=10;break}return e.next=10,s.getLecture();case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.state={course:{},courses:[],totalCourses:0,getCourses:a.getCourses,getCourse:a.getCourse,getLecture:a.getLecture},a.CourseService=nt,a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(lt.Provider,{value:this.state},e)}}]),n}(r.a.Component),mt=n(154),pt=n.n(mt),dt=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handlePageClick=function(t){(0,e.props.onPageChange)(t.selected+1)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.numberOfPage,n=e.init;return t>1?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(pt.a,{previousLabel:r.a.createElement("span",{className:"fas fa-chevron-circle-left"}),nextLabel:r.a.createElement("span",{className:"fas fa-chevron-circle-right"}),breakLabel:r.a.createElement("span",{className:"fas fa-ellipsis-h"}),breakClassName:"break-me",pageCount:t,pageRangeDisplayed:3,marginPagesDisplayed:2,onPageChange:this.handlePageClick,containerClassName:"pagination-basic",activeClassName:"page-active-basic",pageClassName:"page-basic",pageLinkClassName:"page-link-basic",forcePage:n?Number(n)-1:0})):r.a.createElement(r.a.Fragment,null)}}]),n}(r.a.Component);dt.defaultProps={init:void 0};var ft=dt,ht=function(){var e=Object(a.useState)([]),t=Object(Xe.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(0),o=Object(Xe.a)(s,2),u=o[0],l=o[1],i=Object(a.useState)(1),m=Object(Xe.a)(i,2),p=m[0],f=m[1],v=Object(a.useState)(!1),g=Object(Xe.a)(v,2),E=g[0],x=g[1],w=Object(a.useContext)(lt).getCourses,y=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!1),e.next=3,w(t);case 3:n=e.sent,a=n.courses,r=n.totalCourses,c(a),l(r),x(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=ve.a.getQueryString("page")||1;f(e),y(e)}),[]),E?r.a.createElement("div",null,n.map((function(e){return r.a.createElement(d.a,{to:"/courses/".concat(e.Id),key:e.Id},r.a.createElement($e.a,{className:"shadow-sm mb-2 single-course"},r.a.createElement($e.a.Body,null,r.a.createElement("h1",{className:"font-semi-bold mb-3"},e.Name),r.a.createElement("div",null,r.a.createElement("span",{className:"fas fa-calendar-alt mr-1 mb-2"})," ","Ng\xe0y b\u1eaft \u0111\u1ea7u:"," ",et()(e.StartDate).format("DD/MM/YYYY")," "),r.a.createElement("div",null,r.a.createElement("span",{className:"fas fa-calendar-alt mr-2 mb-2"})," ","Ng\xe0y k\u1ebft th\xfac:"," ",et()(e.EndDate).format("DD/MM/YYYY")," "),et()().isAfter(et()(e.EndDate))&&r.a.createElement("p",{className:"font-semi-bold mb-0 light-pink"},"Kh\xf3a h\u1ecdc \u0111\xe3 k\u1ebft th\xfac"))))})),r.a.createElement(ft,{numberOfPage:Math.ceil(u/20),page:p,init:p,onPageChange:function(e){y(e),f(e),ve.a.setQueryString("page",e)}})):r.a.createElement(ue,null)},bt=function(){return r.a.createElement("div",null,r.a.createElement(ce,{nav:[["home","/"],["courses"]]}),r.a.createElement($,null,r.a.createElement(J,null,r.a.createElement("h1",{className:"font-semi-bold mb-4"},"C\xe1c kh\xf3a h\u1ecdc c\u1ee7a b\u1ea1n"),r.a.createElement(ht,null))))},vt=n(17),gt=n.n(vt),Et=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return n}(Ee.default),xt=n(15),wt=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"getCollections",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("get",k.f,{collectionName:t}).request();case 3:return n=e.sent,e.abrupt("return",n.collections.map((function(e){return new yt(e)})).sort((function(e,t){return new Date(e.CreateAt).getTime()-new Date(t.CreateAt).getTime()})));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCollection",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("get",k.e,{collectionName:t}).request();case 3:return n=e.sent,e.abrupt("return",n.collection);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addCollection",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("post",k.i,{parentCollectionId:t},{Collection:Object(H.a)(Object(H.a)({},n),{},{ParentCollectionId:t,OnHomePage:"root"===t?"1":"0"})}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateCollection",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("put",k.h,{id:t.Id},{Collection:t}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCollectionContent",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("put",k.g,void 0,{CollectionId:t,Language:be.a.capitalize(n),CollectionContent:a}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"removeCollection",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("delete",k.h,{id:t},{CollectionId:t}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),yt=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).link="",a.child=[],a.ProblemList={},a.ParentCollection=void 0,a}return Object(u.a)(n,[{key:"Navigation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"vi";if("root"===this.Name)return[["admin","/admin"],["collections","/admin/collections"]];var t=this.getLanguageContent(e);return[].concat(Object(Le.a)(this.ParentCollection.Navigation()),[[t.Name,"/admin/collections/".concat(this.link)]])}},{key:"searchChildCollection",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.child.length){e.next=3;break}return e.next=3,this.getChild(this.Name);case 3:if((n+=1)!==t.length){e.next=6;break}return e.abrupt("return",this);case 6:a=Object(He.a)(this.child),e.prev=7,a.s();case 9:if((r=a.n()).done){e.next=15;break}if((c=r.value).Name!==t[n]){e.next=13;break}return e.abrupt("return",c.searchChildCollection(t,n));case 13:e.next=9;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),a.e(e.t0);case 20:return e.prev=20,a.f(),e.finish(20);case 23:return e.abrupt("return",void 0);case 24:case"end":return e.stop()}}),e,this,[[7,17,20,23]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getChild",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=be.a.cloneDeep(this),e.next=3,wt.getCollections(t);case 3:for(a=e.sent,r=0;r<a.length;r+=1)a[r].link=""===this.link?a[r].Name:"".concat(this.link,"&").concat(a[r].Name),a[r].ParentCollection=n;this.child=a;case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCollection",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt.getCollection(this.Name);case 2:if(t=e.sent){n=t.ProblemList,t.ProblemList={},a=Object(He.a)(n);try{for(a.s();!(r=a.n()).done;)c=r.value,t.ProblemList[c]=!0}catch(s){a.e(s)}finally{a.f()}this.updateProperty(t)}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCollection",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=be.a.cloneDeep(t),a=be.a.cloneDeep(this),r=Ee.default.getDifferent(n,a,["Type"]),!Object.prototype.hasOwnProperty.call(r,"LanguageContent")){e.next=8;break}for(s in c=[],r.LanguageContent)Object.prototype.hasOwnProperty.call(r.LanguageContent,s)&&c.push(wt.updateCollectionContent(this.Id,s,r.LanguageContent[s]));return e.next=8,Promise.all(c);case 8:return e.next=10,wt.updateCollection(r);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addCollection",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt.addCollection(this.Name,t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return a=be.a.cloneDeep(this),(r=t).link=""===this.link?this.Name:"".concat(this.link,"&").concat(r.Name),r.ParentCollection=a,this.child.push(r),this.child.sort((function(e,t){return new Date(e.CreateAt).getTime()-new Date(t.CreateAt).getTime()})),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeCollection",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(a.length>1&&void 0!==a[1])||a[1])){e.next=11;break}return e.next=4,wt.removeCollection(t);case 4:if(n=e.sent,console.log(n),!n){e.next=8;break}return e.abrupt("return",n);case 8:this.child=this.child.filter((function(e){return e.Id!==t})),e.next=12;break;case 11:this.child=this.child.filter((function(e){return e.Id!==t}));case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"togglePublished",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt.updateCollection({Id:this.Id,Public:"1"===this.Public?"0":"1"});case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",t);case 5:return this.Public="1"===this.Public?"0":"1",e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Et),kt=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"getCourseType",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("get",k.C).request();case 3:return t=e.sent,e.abrupt("return",t.CourseTypes.map((function(e){return new Ct(e)})).sort((function(e,t){return new Date(e.CreateAt).getTime()-new Date(t.CreateAt).getTime()})));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getCourseList",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("get",k.B,{courseTypeCode:t}).request();case 3:return n=e.sent,e.abrupt("return",n.CourseType.CourseList);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addCourseType",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("post",k.C,void 0,{CourseType:t}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCourseType",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("put",k.E,{id:t.Id},{CourseType:t}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCourseTypeContent",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("put",k.D,void 0,{Content:a,CourseTypeId:t,Language:be.a.capitalize(n)}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"removeCourseType",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("delete",k.E,{id:t}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ct=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).courses=new fe,a.Link="/admin/coursetypes/".concat(e.CourseTypeCode),a}return Object(u.a)(n,[{key:"Navigation",value:function(e){return[["admin","/admin"],["course types","/admin/coursetypes"],[this.getLanguageContent(e).Name,this.Link]]}},{key:"togglePublished",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt.updateCourseType({Id:this.Id,Public:"1"===this.Public?"0":"1"});case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",t);case 5:return this.Public="1"===this.Public?"0":"1",e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r,c,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=be.a.cloneDeep(t),a=be.a.cloneDeep(this),r=Ee.default.getDifferent(n,a,["Id"]),!Object.prototype.hasOwnProperty.call(r,"LanguageContent")){e.next=8;break}for(s in c=[],r.LanguageContent)Object.prototype.hasOwnProperty.call(r.LanguageContent,s)&&c.push(kt.updateCourseTypeContent(this.Id,s,r.LanguageContent[s]));return e.next=8,Promise.all(c);case 8:return e.next=10,kt.updateCourseType(r);case 10:return o=e.sent,e.abrupt("return",o);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCourseList",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.CourseList.length){e.next=5;break}return e.next=3,kt.getCourseList(this.CourseTypeCode);case 3:t=e.sent,this.CourseList=t;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Et),Ot=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"getContests",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("get",k.p).request();case 3:return t=e.sent,e.abrupt("return",t.contests);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getContest",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("get",k.n,{id:t}).request();case 3:return n=e.sent,e.abrupt("return",n.contest);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateContest",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("put",k.n,{id:t.Id},t).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addContest",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("post",k.p,void 0,t).request();case 3:return n=e.sent,e.abrupt("return",n.contest);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getProblems",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("get",k.r,{id:t}).request();case 3:return n=e.sent,e.abrupt("return",n.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addProblems",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("post",k.r,{id:t},n).request();case 3:return a=e.sent,e.abrupt("return",a.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"editProblems",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("put",k.r,{id:t},n).request();case 3:return a=e.sent,e.abrupt("return",a.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteProblems",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("delete",k.r,{id:t},n).request();case 3:return a=e.sent,e.abrupt("return",a.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getUsers",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("get",k.o,{id:t}).request();case 3:return n=e.sent,e.abrupt("return",n.contestants);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addUsers",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("post",k.o,{id:t},n).request();case 3:return a=e.sent,e.abrupt("return",a.contestants);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeUsers",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("delete",k.o,{id:t},n).request();case 3:return a=e.sent,e.abrupt("return",a.contestants);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeContest",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("delete",k.n,{id:t}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),jt=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).Problems=a.Problems||[],a.Users=a.Users||[],a}return Object(u.a)(n,[{key:"getContest",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot.getContest(this.Id);case 2:return t=e.sent,this.updateProperty(t),e.next=6,Ot.getProblems(this.Id);case 6:return n=e.sent,e.next=9,Ot.getUsers(this.Id);case 9:a=e.sent,this.Users=a,this.Problems=n.map((function(e){return Object(H.a)(Object(H.a)({},e),{},{Id:e.ProblemId})}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r,c,s,o,u,l,i,m,p,d,f,b,v;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=be.a.cloneDeep(t),a=be.a.cloneDeep(this),r=!1,this.Problems.forEach((function(e){e.Score<0&&(r="Score can not be less than 0")})),!r){e.next=6;break}return e.abrupt("return",r);case 6:if(c=Ee.default.getDifferent(n,a),!Object.prototype.hasOwnProperty.call(c,"Password")||c.Password===this.ReenterPassword){e.next=9;break}return e.abrupt("return","Password and reentered password does not match!");case 9:if(!Object.prototype.hasOwnProperty.call(c,"Problems")){e.next=35;break}if(s=[],o=[],u=[],n.Problems.forEach((function(e){a.Problems.map((function(e){return e.Id})).includes(e.Id)||u.push(e)})),!(u.length>0)){e.next=20;break}return e.next=17,Ot.deleteProblems(this.Id,u);case 17:if("string"!==typeof(l=e.sent)){e.next=20;break}return e.abrupt("return",l);case 20:if(a.Problems.forEach((function(e){n.Problems.map((function(e){return e.Id})).includes(e.Id)||s.push(e)})),!(s.length>0)){e.next=27;break}return e.next=24,Ot.addProblems(this.Id,s);case 24:if("string"!==typeof(i=e.sent)){e.next=27;break}return e.abrupt("return",i);case 27:if(c.Problems.forEach((function(e){n.Problems.map((function(e){return e.Id})).includes(e.Id)&&o.push(e)})),!(o.length>0)){e.next=34;break}return e.next=31,Ot.editProblems(this.Id,o);case 31:if("string"!==typeof(m=e.sent)){e.next=34;break}return e.abrupt("return",m);case 34:delete c.Problems;case 35:if(!Object.prototype.hasOwnProperty.call(c,"Users")){e.next=53;break}if(p=[],d=[],n.Users.forEach((function(e){a.Users.map((function(e){return e.Id})).includes(e.Id)||d.push(e)})),!(d.length>0)){e.next=45;break}return e.next=42,Ot.removeUsers(this.Id,d);case 42:if("string"!==typeof(f=e.sent)){e.next=45;break}return e.abrupt("return",f);case 45:if(a.Users.forEach((function(e){n.Users.map((function(e){return e.Id})).includes(e.Id)||p.push(e)})),!(p.length>0)){e.next=52;break}return e.next=49,Ot.addUsers(this.Id,p);case 49:if("string"!==typeof(b=e.sent)){e.next=52;break}return e.abrupt("return",b);case 52:delete c.Users;case 53:return e.next=55,Ot.updateContest(c);case 55:return v=e.sent,e.abrupt("return",v);case 57:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Et),St=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"getCourses",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("get","".concat(k.x,"?page=:page"),{page:t}).request();case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{courses:[],totalCourses:0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCourse",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("get",k.z,{id:t}).request();case 3:return n=e.sent,e.abrupt("return",n.course);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addCourse",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("post",k.x,void 0,t).request();case 3:return n=e.sent,e.abrupt("return",n.course);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCourse",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("put",k.z,{id:t.Id},t).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCourseContent",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("put",k.y,void 0,{Content:a,CourseId:t,Language:be.a.capitalize(n)}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"removeCourse",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("delete",k.z,{id:t}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUsers",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("get",k.F,{id:t}).request();case 3:return n=e.sent,e.abrupt("return",n.users);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addUsers",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("post",k.F,{id:t},n).request();case 3:return a=e.sent,e.abrupt("return",a.users);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeUsers",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("delete",k.F,{id:t},n).request();case 3:return a=e.sent,e.abrupt("return",a.users);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Nt=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"getLectures",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("get",k.M,{courseId:t}).request();case 3:return n=e.sent,e.abrupt("return",n.lectures);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getLecture",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("get",k.L,{courseId:t,lectureId:n}).request();case 3:return a=e.sent,e.abrupt("return",a.lecture);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addLecture",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("post",k.M,{courseId:t.Course.Id},t).request();case 3:return n=e.sent,e.abrupt("return",n.lecture);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateLecture",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("put",k.L,{courseId:n,lectureId:t.Id},t).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateLectureContent",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("put",k.N,void 0,{LectureId:t,Content:a,Language:be.a.capitalize(n)}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"removeLecture",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("delete",k.L,{lectureId:n,courseId:t}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getProblems",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("get",k.P,{courseId:t,lectureId:n}).request();case 3:return a=e.sent,e.abrupt("return",a.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addProblems",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("post",k.P,{courseId:t,lectureId:n},a).request();case 3:return r=e.sent,e.abrupt("return",r.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"editProblems",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("put",k.P,{courseId:t,lectureId:n},a).request();case 3:return r=e.sent,e.abrupt("return",r.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"deleteProblems",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("delete",k.P,{courseId:t,lectureId:n},a).request();case 3:return r=e.sent,e.abrupt("return",r.problems);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}()}]),e}(),It=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e,a){var r;return Object(o.a)(this,n),(r=t.call(this,e)).Course=a,r.Problems=[],r.Link="/admin/courses/".concat(a.Id,"/lectures/edit/").concat(r.Id),r}return Object(u.a)(n,[{key:"getLecture",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt.getLecture(this.Course.Id,this.Id);case 2:return t=e.sent,e.next=5,Nt.getProblems(this.Course.Id,this.Id);case 5:this.Problems=e.sent,this.updateProperty(t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"togglePublished",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt.updateLecture({Id:this.Id,Published:!this.Published},this.Course.Id);case 2:if(t=e.sent,this.Published=!this.Published,!t){e.next=6;break}return e.abrupt("return",t);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateLecture",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r,c,s,o,u,l,i,m;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=be.a.omit(t,"Course"),a=be.a.omit(this,"Course"),r=Ee.default.getDifferent(n,a),!Object.prototype.hasOwnProperty.call(r,"Problems")){e.next=29;break}if(c=[],s=[],o=[],n.Problems.forEach((function(e){a.Problems.map((function(e){return e.Id})).includes(e.Id)||o.push(e)})),!(o.length>0)){e.next=14;break}return e.next=11,Nt.deleteProblems(this.Course.Id,this.Id,o);case 11:if("string"!==typeof(u=e.sent)){e.next=14;break}return e.abrupt("return",u);case 14:if(a.Problems.forEach((function(e){n.Problems.map((function(e){return e.Id})).includes(e.Id)||c.push(e)})),!(c.length>0)){e.next=21;break}return e.next=18,Nt.addProblems(this.Course.Id,this.Id,c);case 18:if("string"!==typeof(l=e.sent)){e.next=21;break}return e.abrupt("return",l);case 21:if(r.Problems.forEach((function(e){n.Problems.map((function(e){return e.Id})).includes(e.Id)&&s.push(e)})),!(s.length>0)){e.next=28;break}return e.next=25,Nt.editProblems(this.Course.Id,this.Id,s);case 25:if("string"!==typeof(i=e.sent)){e.next=28;break}return e.abrupt("return",i);case 28:delete r.Problems;case 29:return e.next=31,Nt.updateLecture(r,this.Course.Id);case 31:return m=e.sent,e.abrupt("return",m);case 33:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Et),Pt=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetched=!1,a.Lectures=[],a.Users=[],a.Link="/admin/courses/edit/".concat(e.Id),a}return Object(u.a)(n,[{key:"togglePublished",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St.updateCourse({Id:this.Id,Published:!this.Published});case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",t);case 5:return this.Published=!this.Published,e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCourse",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r,c,s,o,u,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=be.a.omit(t,"Lectures"),a=be.a.omit(this,"Lectures"),r=Ee.default.getDifferent(n,a),!Object.prototype.hasOwnProperty.call(r,"Users")){e.next=29;break}if(c=[],s=[],a.Users.forEach((function(e){n.Users.find((function(t){return t.Id===e.Id&&t.EndDate!==e.EndDate}))&&(s.push(e.Id),c.push({UserId:e.UserId,EndDate:e.EndDate}))})),!(s.length>0)){e.next=12;break}return e.next=10,St.removeUsers(this.Id,s);case 10:return e.next=12,St.addUsers(this.Id,c);case 12:if(c.length=0,s.length=0,n.Users.forEach((function(e){a.Users.map((function(e){return e.Id})).includes(e.Id)||s.push(e.Id)})),!(s.length>0)){e.next=21;break}return e.next=18,St.removeUsers(this.Id,s);case 18:if("string"!==typeof(o=e.sent)){e.next=21;break}return e.abrupt("return",o);case 21:if(a.Users.forEach((function(e){n.Users.map((function(e){return e.Id})).includes(e.Id)||c.push({UserId:e.Id})})),!(c.length>0)){e.next=28;break}return e.next=25,St.addUsers(this.Id,c);case 25:if("string"!==typeof(u=e.sent)){e.next=28;break}return e.abrupt("return",u);case 28:delete r.Users;case 29:return e.next=31,St.updateCourse(r);case 31:return l=e.sent,e.abrupt("return",l);case 33:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCourse",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.fetched){e.next=10;break}return e.next=3,St.getUsers(this.Id);case 3:return t=e.sent,this.Users=t,e.next=7,Nt.getLectures(this.Id);case 7:n=e.sent,this.Lectures=n.map((function(e){return new It(e,a)})),this.fetched=!0;case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getLecture",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCourse();case 2:if(!(n=this.Lectures.find((function(e){return e.Id===parseInt(t,10)})))){e.next=7;break}return e.next=6,n.getLecture();case 6:return e.abrupt("return",n);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addLecture",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt.addLecture(Object(H.a)(Object(H.a)({},t),{},{Course:{Id:t.Course.Id}}));case 2:if("string"===typeof(n=e.sent)){e.next=7;break}return t.updateProperty(n),this.Lectures.push(t),e.abrupt("return",t);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeLecture",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt.removeLecture(this.Id,t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return this.Lectures=this.Lectures.filter((function(e){return e.Id!==t})),e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ee.default),Tt=n(29),Lt=n(105),Rt=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"readText",value:function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(){t(a.result)},a.readAsText(e)}))}},{key:"readBinary",value:function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(){t(a.result)},a.readAsBinaryString(e)}))}},{key:"getMD5Hash",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var a=new FileReader;a.onload=function(){var t=Oe.a.MD5(Oe.a.enc.Latin1.parse(a.result)).toString(Oe.a.enc.Hex);e(t)},a.readAsBinaryString(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ut=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"getTestcase",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("get",k.nb,{problemId:t}).request();case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addTestcase",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("post",k.nb,{problemId:t},Object(H.a)(Object(H.a)({},n),{},{ProblemId:t})).request();case 3:return a=e.sent,e.abrupt("return",a.testcase);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"editTestcase",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("put",k.mb,{problemId:t,id:n.Id},Object(H.a)(Object(H.a)({},n),{},{ProblemId:t})).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeTestcase",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("delete",k.mb,{problemId:t,id:n},{ProblemId:t,TestcaseId:n}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),At=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e,a){var r;return Object(o.a)(this,n),(r=t.call(this,e)).Name="/",r.ProblemId=a,r.updateProperty(e),r}return Object(u.a)(n,[{key:"toggleSample",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.IsSample=!this.IsSample,!t){e.next=8;break}return e.next=4,Ut.editTestcase(this.ProblemId,{Id:this.Id,IsSample:this.IsSample});case 4:if(!(n=e.sent)){e.next=8;break}return this.IsSample=!this.IsSample,e.abrupt("return",n);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeOrder",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,r,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:0,n=c.length>1?c[1]:void 0,a=this.Rank,this.Rank=Number(this.Rank)+t,!n){e.next=11;break}return e.next=7,Ut.editTestcase(this.ProblemId,{Id:this.Id,Rank:this.Rank});case 7:if(!(r=e.sent)){e.next=11;break}return this.Rank=a,e.abrupt("return",r);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"assignFile",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rt.readText(t);case 2:n=e.sent,a=Object(Ce.MD5)(n).toString(),this.Name=this.Name.split("/"),t.name.endsWith(".in")?(this.InputContent=btoa(n),this.InputChecksum=a,this.InputSize=t.size,this.Name[0]=t.name):t.name.endsWith(".ans")&&(this.OutputContent=btoa(n),this.OutputChecksum=a,this.OutputSize=t.size,this.Name[1]=t.name),this.Name=this.Name.join("/");case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceFile",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assignFile(t);case 2:if(!n){e.next=8;break}return e.next=5,Ut.editTestcase(this.ProblemId,this);case 5:if(!(a=e.sent)){e.next=8;break}return e.abrupt("return",a);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"handleInputFiles",value:function(){var e=Object(b.a)(h.a.mark((function e(t,a,r){var c,s,o,u,l,i,m,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=Object(Lt.a)(Array,Object(Le.a)(t)),s=a,o=r,u=[],l=c.filter((function(e){return e.name.endsWith(".in")})).sort((function(e,t){return e.name.localeCompare(t.name)})),i=Object(He.a)(l),e.prev=6,p=h.a.mark((function e(){var t,a,r,l,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m.value,a=t,r=t.name.split(".")[0],!((l=c.find((function(e){return e.name==="".concat(r,".ans")})))&&a.size>0&&l.size>0)){e.next=13;break}return s+=1,i=new n({},o),e.next=9,i.assignFile(a);case 9:return e.next=11,i.assignFile(l);case 11:i.Rank=s,u.push(i);case 13:case"end":return e.stop()}}),e)})),i.s();case 9:if((m=i.n()).done){e.next=13;break}return e.delegateYield(p(),"t0",11);case 11:e.next=9;break;case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(6),i.e(e.t1);case 18:return e.prev=18,i.f(),e.finish(18);case 21:return e.abrupt("return",u);case 22:case"end":return e.stop()}}),e,null,[[6,15,18,21]])})));return function(t,n,a){return e.apply(this,arguments)}}()}]),n}(Ee.default),Dt=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).Language&&(a.LanguageId=a.Language.Id),a}return Object(u.a)(n,[{key:"update",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=be.a.cloneDeep(t),a=be.a.cloneDeep(this),r=Ee.default.getDifferent(n,a),e.prev=3,e.next=6,Tt.a.editStatement(r);case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ee.default),Mt=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"submit",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("post",k.ob,{id:t.ProblemId},t,!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getSubmissions",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,0===parseInt(t,10)&&(t=1),e.prev=2,n=new xt.a("get","submissions?page=:page",{page:t},null),e.next=6,n.request();case 6:return a=e.sent,e.abrupt("return",{submissions:a.submissions,totalSubmissions:a.totalSubmissions});case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",{submissions:[],totalSubmissions:0});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"getProblemSubmissions",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:1,0===parseInt(n,10)&&(n=1),e.prev=2,a=new xt.a("get",k.kb,{id:t,page:n},null),e.next=6,a.request();case 6:return r=e.sent,e.abrupt("return",{submissions:r.submissions,totalSubmissions:r.totalSubmissions});case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",{submissions:[],totalSubmissions:0});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTestSubmissions",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:1,0===parseInt(n,10)&&(n=1),e.prev=2,a=new xt.a("get",k.ob,{id:t,page:n},null),e.next=6,a.request();case 6:return r=e.sent,e.abrupt("return",{submissions:r.submissions,totalSubmissions:r.totalSubmissions});case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",{submissions:[],totalSubmissions:0});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ft=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).Link="/admin/problems/".concat(e.Id),a.EditLink="/admin/problems/edit/".concat(e.Id),a.Statements?a.Statements=a.Statements.map((function(e){return new Dt(e)})):a.Statements=[],a.Testcase?a.Testcase=a.Testcase.map((function(e){return new At(e,a.Id)})):a.Testcase=[],a.Tutorials=[],a}return Object(u.a)(n,[{key:"EditNavigation",value:function(){return[["admin","/admin"],["problems","/admin/problems"],[this.Name]]}},{key:"ViewNavigation",value:function(){return[["admin","/admin"],["problems","/admin/problems"],[this.Name]]}},{key:"loadTestcase",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.Testcase.length){e.next=5;break}return e.next=3,Ut.getTestcase(this.Id);case 3:t=e.sent,this.Testcase=t.map((function(e){return new At(e,n.Id)}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"togglePublished",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.a.editProblem({Id:this.Id,Published:!this.Published});case 2:if("object"!==typeof(t=e.sent)){e.next=7;break}this.updateProperty(t),e.next=8;break;case 7:return e.abrupt("return",t);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"togglePremium",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.a.editProblem({Id:this.Id,Premium:!this.Premium});case 2:if("object"!==typeof(t=e.sent)){e.next=7;break}this.updateProperty(t),e.next=8;break;case 7:return e.abrupt("return",t);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r,c,s,o,u,l,i,m,p,d,f,b,v,g,E,x,w=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=be.a.cloneDeep(t),a=be.a.cloneDeep(this),r=Ee.default.getDifferent(n,a,["Id"]),!Object.prototype.hasOwnProperty.call(r,"Testcase")){e.next=16;break}return e.next=6,Ut.getTestcase(r.Id);case 6:for(c=(c=e.sent).map((function(e){return new At(e,w.Id)})),s=a.Testcase,o=[],s.forEach((function(e){var t=c.find((function(t){return e.Id===t.Id}));if(t&&JSON.stringify(e)!==JSON.stringify(t)){var n=Ee.default.getDifferent(t,e,["Id"]);o.push(n)}})),u=[],l=0,i=o;l<i.length;l++)m=i[l],u.push(Ut.editTestcase(r.Id,m));return e.next=15,Promise.all(u);case 15:delete r.Testcase;case 16:if(!Object.prototype.hasOwnProperty.call(r,"Statements")){e.next=23;break}p=[],d=Object(He.a)(r.Statements);try{for(d.s();!(f=d.n()).done;)b=f.value,p.push(Tt.a.editStatement(r.Id,b))}catch(h){d.e(h)}finally{d.f()}return e.next=22,Promise.all(p);case 22:delete r.Statements;case 23:if(!Object.prototype.hasOwnProperty.call(r,"Tutorials")){e.next=30;break}v=[],g=Object(He.a)(r.Tutorials);try{for(g.s();!(E=g.n()).done;)x=E.value,v.push(Tt.a.editTutorial(r.Id,x))}catch(h){g.e(h)}finally{g.f()}return delete r.Tutorials,e.next=30,Promise.all(v);case 30:return e.prev=30,e.next=33,Tt.a.editProblem(r);case 33:return e.abrupt("return",e.sent);case 36:return e.prev=36,e.t0=e.catch(30),e.abrupt("return",e.t0.message);case 39:case"end":return e.stop()}}),e,this,[[30,36]])})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t).ProblemId=this.Id,n.UserId=Object(v.a)("Id"),e.next=5,Mt.submit(Object(H.a)(Object(H.a)({},n),{},{Content:ge.Base64.encode(n.Content)}));case 5:if(!(a=e.sent)){e.next=8;break}return e.abrupt("return",a);case 8:return ve.a.setQueryString("view","submissiontests"),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(we),Bt=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return n}(Ee.default),qt=n(62),Ht=(gt.a.instanceOf(yt),gt.a.instanceOf(Ct),gt.a.instanceOf(Pt),gt.a.instanceOf(It)),Wt=(gt.a.instanceOf(Ft),gt.a.instanceOf(Bt),gt.a.instanceOf(ut),gt.a.instanceOf(jt),gt.a.instanceOf(ye),gt.a.instanceOf(ot)),Vt=(gt.a.instanceOf(st),gt.a.instanceOf(ct),gt.a.instanceOf(we),gt.a.instanceOf(Dt),gt.a.instanceOf(At),gt.a.instanceOf(qt.default)),zt=(gt.a.arrayOf(Ht),gt.a.arrayOf(Wt),gt.a.arrayOf(Vt),n(122)),Gt=function(e){var t,n,a=e.lecture;return r.a.createElement($e.a,{className:"shadow-sm single-course ".concat(a.Link?"cursor-pointer":"")},r.a.createElement($e.a.Body,{className:"d-flex"},r.a.createElement("div",{className:"flex-grow-1"},r.a.createElement("h2",{className:"font-semi-bold"},a.Name),r.a.createElement("p",null,a.Description),r.a.createElement("ul",null,r.a.createElement("li",null,"S\u1ed1 b\xe0i t\u1eadp:",a.TotalProblems),r.a.createElement("li",null,"\u0110\xe3 gi\u1ea3i \u0111\u01b0\u1ee3c:",a.Solved))),r.a.createElement("div",{className:"d-flex flex-column justify-content-center"},r.a.createElement("div",{style:{height:"80px",width:"80px"}},r.a.createElement(zt.a,{value:a.Solved/a.TotalProblems,maxValue:1,text:"".concat((t=a.Solved,n=a.TotalProblems,0===n||0===t?0:parseInt(t/n*100,10)),"%"),strokeWidth:2,styles:Object(zt.b)({textSize:"16px",textColor:"#44bd32",pathColor:"#44bd32"})})))))},Yt=function(e){var t=e.lectures;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement("div",{key:e.Id},e.Link?r.a.createElement(d.a,{to:e.Link},r.a.createElement(Gt,{lecture:e})):r.a.createElement(Gt,{lecture:e}))})))},Qt=n(18),Kt=n.n(Qt),_t=function(e){var t=e.className,n=e.title,a=e.children;return r.a.createElement($e.a,{className:"panel card shadow-sm ".concat(t)},r.a.createElement($e.a.Title,{className:"panel-title text-center bg-light-blue"},r.a.createElement("h4",null,n)),r.a.createElement($e.a.Body,{className:"p-0"},a))};_t.defaultProps={title:"",className:""};var Jt=_t,Xt=function(e){var t=e.scoreboard;return r.a.createElement(Jt,{title:"B\u1ea3ng x\u1ebfp h\u1ea1ng"},r.a.createElement("table",{className:"basic-component-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center rounded-0"},"#"),r.a.createElement("th",null,"Username"),r.a.createElement("th",{className:"text-center rounded-0"},"\u0110i\u1ec3m"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:"#".concat(e.Id)},r.a.createElement("td",{className:"text-center"},e.Rank),r.a.createElement("td",null,e.Rank<=3&&e.Score>0&&r.a.createElement("span",{className:"fas fa-award",style:{color:(t=e.Rank,Kt()({"#f1c40f":1===t,"#bdc3c7":2===t,"#f0932b":3===t}))}})," ",e.Username),r.a.createElement("td",{className:"text-center"},e.Solved));var t})))))},$t=function(e){var t=Object(a.useState)([]),n=Object(Xe.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(!1),u=Object(Xe.a)(o,2),l=u[0],i=u[1],m=Object(a.useContext)(lt).getCourse;return Object(a.useEffect)((function(){(function(){var t=Object(b.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e.match.params.id);case 2:if(!(n=t.sent)){t.next=6;break}return t.next=6,n.getCourse();case 6:s(n),i(!0);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),l?c?r.a.createElement("div",null,r.a.createElement(ce,{nav:[["home","/"],["courses","/courses"],[c.Name]]}),r.a.createElement($,{className:"d-block"},r.a.createElement($e.a,{className:"w-100 shadow-sm mb-3"},r.a.createElement($e.a.Body,null,r.a.createElement("h1",{className:"font-semi-bold text-center"},c.Name),et()().isAfter(et()(c.EndDate))&&r.a.createElement("p",{className:"font-semi-bold mb-0 light-pink text-center"},"Kh\xf3a h\u1ecdc \u0111\xe3 k\u1ebft th\xfac"),r.a.createElement("p",{className:"mb-0"},c.Description))),r.a.createElement(J,null,r.a.createElement(Yt,{lectures:c.Lectures})),r.a.createElement(X,null,r.a.createElement("div",{className:"mt-2"},r.a.createElement(Xt,{scoreboard:c.Scoreboard}))))):r.a.createElement(de,null):r.a.createElement(le,null)},Zt=n(106),en=n(42),tn=function(e){var t=e.children;return r.a.createElement("div",{className:"p-1",style:{minHeight:"300px"}},t)},nn=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onChangeTabMobile=function(e){T.a.replace(e.target.value)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.controlKey,t=ve.a.getQueryString(e),n=this.props.children;be.a.isArray(this.props.children)||(n=[n]),n=n.filter((function(e){return e}));var a,c=!1,s=Object(He.a)(n);try{for(s.s();!(a=s.n()).done;){if(a.value.props.route===t){c=!0;break}}}catch(o){s.e(o)}finally{s.f()}return void 0===t||!1===c?r.a.createElement(m.a,{to:"".concat(window.location.pathname,"?").concat(e,"=").concat(n[0].props.route)}):r.a.createElement($e.a,{className:"border-0 shadow-sm mb-1"},r.a.createElement("div",{className:"nav-tabs d-flex justify-content-around"},n.map((function(n,a){return n&&r.a.createElement(d.b,{key:a,to:"".concat(window.location.pathname,"?").concat(e,"=").concat(n.props.route),className:t===n.props.route?"nav-tab-active":""},r.a.createElement("h4",{className:"m-0"},n.props.title))}))),r.a.createElement("div",{className:"nav-tabs d-flex justify-content-around nav-tabs-mobile"},r.a.createElement(Zt.a,{className:"problem-filter p-1"},r.a.createElement(en.a,{as:"select",onChange:this.onChangeTabMobile,className:"text-capitalize",value:"".concat(window.location.pathname,"?").concat(e,"=").concat(t)},n.map((function(t,n){return r.a.createElement("option",{className:"text-capitalize",key:n,value:"".concat(window.location.pathname,"?").concat(e,"=").concat(t.props.route)},t.props.title)}))))),function(){var e=n.find((function(e){return t===e.props.route}));return r.a.createElement("div",{style:{display:"block"}},r.a.createElement(tn,null,e))}())}}]),n}(r.a.Component),an={vi:{"problem code":"M\xe3 b\xe0i",name:"T\xean b\xe0i",statement:"M\xf4 t\u1ea3 \u0111\u1ec1 b\xe0i","sample testcase explanation":"Gi\u1ea3i th\xedch v\xed d\u1ee5",information:"Th\xf4ng tin \u0111\u1ec1 b\xe0i",save:"L\u01b0u",remove:"X\xf3a","time limit":"Gi\u1edbi h\u1ea1n th\u1eddi gian","memory limit":"Gi\u1edbi h\u1ea1n b\u1ed9 nh\u1edb",type:"Lo\u1ea1i b\xe0i",difficulty:"\u0110\u1ed9 kh\xf3",score:"\u0110i\u1ec3m",resource:"Ngu\u1ed3n b\xe0i",published:"C\xf4ng khai",secret:"B\xed m\u1eadt",easy:"D\u1ec5","very easy":"R\u1ea5t d\u1ec5",medium:"Trung b\xecnh",hard:"Kh\xf3","very hard":"R\u1ea5t kh\xf3"}},rn=n(74),cn=n.n(rn),sn=n(123),on=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).renderResult=function(e,t){var n=e;return n.Score=Math.round(100*n.Score)/100,n.FirstSolved?r.a.createElement("td",{className:"first-solved",title:"First to solve problem",key:t},n.Score):null!=n.SolvedTime?r.a.createElement("td",{className:"solved",title:"Solved problem",key:t},n.Score):n.PendingSubmissions?r.a.createElement("td",{className:"pending",title:"Pending Judgement",key:t},n.Score):n.JudgedSubmissions?r.a.createElement("td",{className:"wrong-answer",title:"Attempted problem",key:t},n.Score):r.a.createElement("td",{title:"no submission",key:t},"-/-")},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.detail,n=t.Rank,a=t.Username,c=t.Solved,s=t.Penalty,o=t.Problems,u=t.Official,l=Math.round(100*t.Score)/100;return r.a.createElement("tr",{style:{fontWeight:Object(v.a)("Username")===a&&"800",opacity:!u&&.3}},r.a.createElement("td",null,n),r.a.createElement("td",{className:"text-left"},a),r.a.createElement("td",null,l),r.a.createElement("td",null,c),r.a.createElement("td",null,s),o.map((function(t,n){return e.renderResult(t,n)})))}}]),n}(r.a.Component);on.defaultProps={detail:{Official:!1,Penalty:0,Problems:[],Rank:0,Score:0,Solved:0,Username:""}};var un=on,ln=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Object(o.a)(this,n),(a=t.call(this,e)).renderPagination=function(e){a.next=e;var t=a.state,n=t.numberOfPage,c=t.page;return r.a.createElement(ft,{onPageChange:a.onPageChange,numberOfPage:n,init:c})},a.onPageChange=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState((function(){return{page:t,startIndex:(t-1)*a.itemPerPage,endIndex:(t-1)*a.itemPerPage+a.itemPerPage}}));case 2:if(e.prev=2,!a.next){e.next=6;break}return e.next=6,a.next();case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),a.itemPerPage=c,a.state={startIndex:0,endIndex:a.itemPerPage,page:1},a}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),n}(r.a.Component),mn=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).refresh=function(){a.setState({fetched:!1}),setInterval((function(){a.setState({fetched:!0})}),1e3)},a.loadScoreboard=Object(b.a)(h.a.mark((function e(){var t,n,r,c,s,o,u,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state.page,!a.props.isAdmin){e.next=7;break}return e.next=4,a.props.service.adminGetScoreboard(a.props.contestId,t,a.source.token);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,a.props.service.getScoreboard(a.props.contestId,t,a.source.token);case 9:e.t0=e.sent;case 10:n=e.t0,r=n.Summary,c=n.ScoreboardDetail,s=n.UserRank,r&&(o=r.TotalUser,u=o/a.itemPerPage,l=!0,s?c.forEach((function(e){e.Id===s.Id&&(l=!1)})):l=!1,a.setState({summary:r,scoreboardDetail:c,userRank:l?s:void 0,numberOfPage:u}));case 15:case"end":return e.stop()}}),e)}))),a.state=Object(H.a)(Object(H.a)({},a.state),{},{fetched:!1,scoreboardDetail:!1,summary:void 0,userRank:void 0,refresh:Object(sn.b)(Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.loadScoreboard();case 2:a.refresh();case 3:case"end":return e.stop()}}),e)}))),1e4)}),a.itemPerPage=50,a.source=rn.CancelToken.source(),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return this.state.fetched?r.a.createElement("div",{className:"w-100"},r.a.createElement("table",{className:"basic-component-table scoreboard"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"}},"#"),r.a.createElement("th",{style:{width:"30%"}},"T\xean"),r.a.createElement("th",{style:{width:"10%"}},"\u0110i\u1ec3m"),r.a.createElement("th",{style:{width:"10%"}},"S\u1ed1 b\xe0i"),r.a.createElement("th",{style:{width:"10%"}},"Th\u1eddi gian"),this.state.summary.Problems&&this.state.summary.Problems.map((function(e,t){return r.a.createElement("th",{key:e.ProblemCode},String.fromCharCode(t+65))})))),r.a.createElement("tbody",null,this.state.userRank&&this.state.scoreboardDetail.length>0&&this.state.userRank.Rank<=this.state.scoreboardDetail[0].Rank&&0===this.state.scoreboardDetail.filter((function(t){return t.username===e.state.userRank.Username})).length&&r.a.createElement(un,{detail:this.state.userRank}),this.state.scoreboardDetail.map((function(e){return r.a.createElement(un,{key:e.Id,detail:e})})),this.state.userRank&&this.state.scoreboardDetail.length>0&&this.state.userRank.Rank>=this.state.scoreboardDetail.slice(-1)[0].Rank&&this.state.scoreboardDetail[0].Rank!==this.state.scoreboardDetail.slice(-1)[0].Rank&&r.a.createElement(un,{detail:this.state.userRank}))),this.renderPagination(this.loadScoreboard)):r.a.createElement(oe,null)}},{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{this.setState({fetched:!1}),this.loadScoreboard(),this.state.summary&&this.setState({fetched:!0})}catch(t){}case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.source.cancel("Load score board is cancelled"),Object(sn.a)(this.state.refresh),this.setState({refresh:void 0})}}]),n}(ln),pn=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).renderResult=function(e,t){return e.FirstSolved?r.a.createElement("td",{className:"first-solved",title:"First to solve problem",key:t},e.JudgedSubmissions,"/",e.Penalty):null!=e.SolvedTime?r.a.createElement("td",{className:"solved",title:"Solved problem",key:t},e.JudgedSubmissions,"/",e.Penalty):e.pendingSubmissions?r.a.createElement("td",{className:"pending",title:"Pending Judgement",key:t},e.JudgedSubmissions," ","+",e.pendingSubmissions):e.JudgedSubmissions?r.a.createElement("td",{className:"wrong-answer",title:"Attempted problem",key:t},e.JudgedSubmissions):r.a.createElement("td",{title:"no submission",key:t},"-/-")},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.index,a=t.detail,c=a.Username,s=a.Solved,o=a.Penalty,u=a.Problems;return r.a.createElement("tr",{style:{fontWeight:Object(v.a)("Username")===c&&"800"}},r.a.createElement("td",null,n+1),r.a.createElement("td",{className:"text-left"},r.a.createElement(d.a,{to:"/user/".concat(c),title:"",className:"username"},c)),r.a.createElement("td",null,s),r.a.createElement("td",null,o),u.map((function(t,n){return e.renderResult(t,n)})))}}]),n}(r.a.Component);pn.defaultProps={detail:{Penalty:0,Problems:[],Solved:0,Username:""},index:0};var dn=pn,fn=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){try{this.loadScoreboard()}catch(e){}}},{key:"render",value:function(){return this.state.fetched?r.a.createElement("table",{className:"basic-component-table scoreboard"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"2%"}},"#"),r.a.createElement("th",{style:{width:"30%"}},"T\xean"),r.a.createElement("th",{style:{width:"7%"}},"S\u1ed1 b\xe0i"),r.a.createElement("th",{style:{width:"7%"}},"Penalty"),this.props.problems.map((function(e,t){return r.a.createElement("th",{key:e.ProblemCode},r.a.createElement(d.a,{to:e.Link},String.fromCharCode(65+t)))})))),r.a.createElement("tbody",null,this.state.scoreboardDetail.map((function(e,t){return r.a.createElement(dn,{key:e.Id,detail:e,index:t})})))):r.a.createElement("div",{className:"mt-3"},r.a.createElement(oe,null))}}]),n}(mn),hn=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).loadScoreboard=Object(b.a)(h.a.mark((function t(){var n,a,r,c,s,o,u;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({fetched:!1}),t.next=3,rt.getScoreboard(e.props.courseId,e.props.lectureId);case 3:n=t.sent,a=n.Summary,r=n.ScoreboardDetail,c=n.UserRank,s=a.TotalUser,o=s/e.itemPerPage,u=!0,c?r.forEach((function(e){e.Id===c.Id&&(u=!1)})):u=!1,e.setState({summary:a,scoreboardDetail:r,userRank:u?c:void 0,numberOfPage:o,fetched:!0});case 12:case"end":return t.stop()}}),t)}))),e}return n}(fn),bn=new Z;bn.import(an);var vn=function(e){var t=Object(a.useState)(!1),n=Object(Xe.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(void 0),u=Object(Xe.a)(o,2),l=u[0],i=u[1],m=Object(a.useContext)(lt).getLecture,p=Object(a.useContext)(ne).language;return bn.use(p),Object(a.useEffect)((function(){(function(){var t=Object(b.a)(h.a.mark((function t(){var n,a,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.match.params,a=n.courseId,r=n.lectureId,t.next=3,m(a,r);case 3:c=t.sent,i(c),s(!0);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),c?l?r.a.createElement("div",null,r.a.createElement(ce,{nav:[["home","/"],["courses","/courses"],[l.Course.Name,l.Course.Link],[l.Name]]}),r.a.createElement($,{className:"d-block"},r.a.createElement($e.a,{className:"w-100 shadow-sm mb-4"},r.a.createElement($e.a.Body,null,r.a.createElement("h1",{className:"font-semi-bold text-center"},l.Course.Name),r.a.createElement("h2",{className:"font-semi-bold text-center"},l.Name),r.a.createElement("p",{className:"mb-0"},l.Description))),r.a.createElement("div",{className:"w-100"},r.a.createElement(nn,{controlKey:"view"},r.a.createElement("div",{title:"B\xe0i t\u1eadp",route:"problems",className:"px-2 py-4"},r.a.createElement(R.a,null,r.a.createElement(J,null,l.Problems.map((function(e){var t=Kt()({"text-warning":"Medium"===e.Difficulty,"text-success":["Easy","Very Easy"].includes(e.Difficulty),"text-danger":"Hard"===e.Difficulty,"light-blue":"Secret"===e.Difficulty});return r.a.createElement(d.a,{to:e.Link,key:e.Id},r.a.createElement($e.a,{className:"border corner shadow-sm user-single-problem mt-0",key:e.Id},r.a.createElement($e.a.Body,{className:"d-flex"},r.a.createElement("div",{className:"flex-grow-1"},r.a.createElement("h2",{className:"font-semi-bold"},e.Name),r.a.createElement("ul",null,r.a.createElement("li",null,"\u0110\u1ed9 kh\xf3:",r.a.createElement("span",{className:t},bn.get(e.Difficulty))),r.a.createElement("li",null,"S\u1ed1 ng\u01b0\u1eddi gi\u1ea3i:",e.TotalSolved))),r.a.createElement("div",null,e.IsSolved?r.a.createElement("div",{className:"bg-green text-white px-2 py-1",style:{borderRadius:"10rem"}},"\u0110\xe3 gi\u1ea3i \u0111\u01b0\u1ee3c"):r.a.createElement("div",{className:"bg-light-pink text-white px-2 py-1",style:{borderRadius:"10rem"}},"Ch\u01b0a gi\u1ea3i \u0111\u01b0\u1ee3c")))))}))),r.a.createElement(X,null,r.a.createElement(Xt,{scoreboard:l.Scoreboard.ScoreboardDetail.map((function(e){return{Id:e.Id,Username:e.Username,Rank:e.Rank,Solved:e.Solved}}))})))),r.a.createElement("div",{title:"B\u1ea3ng x\u1ebfp h\u1ea1ng",route:"scoreboard",className:"px-2 py-4"},r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("div",{className:"border corner p-1 mb-2"},r.a.createElement("span",{className:"first-solved corner mr-1"},"\xa0\xa0\xa0\xa0\xa0"),"First to solve problem",r.a.createElement("span",{className:"solved corner mr-1 ml-2"},"\xa0\xa0\xa0\xa0\xa0"),"Solved problem",r.a.createElement("span",{className:"wrong-answer corner mr-1 ml-2"},"\xa0\xa0\xa0\xa0\xa0"),"Attempted problem",r.a.createElement("span",{className:"pending corner mr-1 ml-2"},"\xa0\xa0\xa0\xa0\xa0"),"Pending problem")),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(hn,{courseId:l.Course.Id,lectureId:l.Id,problems:l.Problems}))))))):r.a.createElement(de,null):r.a.createElement(le,null)},gn=n(155),En=n.n(gn),xn=n(156),wn=n.n(xn),yn=n(124),kn=n.n(yn),Cn=(n(298),n(299),n(300),n(301),n(302),n(303),new En.a({html:!0,linkify:!0,highlight:function(e,t){var n,a="";["cpp","c"].includes(t)&&(a="clike");try{n=kn.a.highlight(e,kn.a.languages[a])}catch(r){n=Cn.utils.escapeHtml(e)}return'<pre class="language-'.concat(a,'"><code class="language-').concat(a,'">').concat(n,"</code></pre>")}}));Cn.use(wn.a,{throwOnError:!1,errorColor:" #cc0000"});var On=function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.getElementsByTagName("script"),a=n.length;a--;)n[a].parentNode.removeChild(n[a]);return t.innerHTML},jn=function(e){var t=e.value;return r.a.createElement("div",{className:"m-0 p-0 text-justify",dangerouslySetInnerHTML:{__html:On(Cn.render(t))}})};jn.defaultProps={value:""};var Sn=jn,Nn=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).setLanguage=function(e){a.setState({language:e})},a.state={language:0},a}return n}(r.a.Component),In=function(e){var t=e.languages,n=e.activeLanguage,a=e.setLanguage,c=e.add,s=e.addLanguage;return r.a.createElement("span",{className:"language-content-bar"},t.map((function(e,t){return r.a.createElement("button",{type:"button",key:e.Id,className:n===t?"active":"",onClick:function(){return a(t)}},Z.getLanguageName(e.Language.Id))})),"\xa0",c&&r.a.createElement("button",{type:"button",onClick:function(){s()}},r.a.createElement("span",{className:"fas fa-plus"})))};In.defaultProps={add:void 0,addLanguage:void 0};var Pn=In,Tn=n(157);n(304),n(305),n(306),n(307),n(308),n(311),n(312),n(313);var Ln={C:"text/x-csrc","C++":"text/x-c++src",Java:"text/x-java","JavaScript (Node.js)":"javascript",Pascal:"pascal","Python 2":"python","Python 3":"python",Ruby:"ruby",markdown:"markdown",text:"text"},Rn=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).editorDidMount=function(e){a.editor=e,setTimeout((function(){return e.refresh()}),1)},a.onBeforeChange=function(e,t,n){a.setState({value:n,valueIsChanging:!0})},a.onValueChange=function(e,t,n){var r=a.props,c=r.onChange,s=r.name;try{a.setState({value:n,valueIsChanging:!1}),setTimeout((function(){return e.refresh()}),1),c({target:{name:s,value:n}})}catch(o){}},a.onSelection=function(e,t){var n=a.props.onSelectionChange;try{n(t)}catch(r){}};var r=a.props,c=r.value,s=r.mode,u=r.theme,l=r.tabSize,i=r.lineNumbers,m=r.readOnly,p=r.cursorBlinkRate;return a.state={value:c||"",valueIsChanging:!1,option:{mode:Ln[s],tabSize:l||2,smartIndent:!0,autoCloseBrackets:!0,lineNumbers:!1!==i,lineWrapping:!0,autoRefresh:!0,readOnly:!!m,theme:u||"default",cursorBlinkRate:p||530}},a}return Object(u.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.theme,n=e.mode,a=e.value,r=this.state,c=r.option,s=r.valueIsChanging;this.setState({option:Object(H.a)(Object(H.a)({},c),{},{theme:t,mode:Ln[n]})}),!1===s&&this.setState({value:a})}},{key:"render",value:function(){var e=this.state,t=e.value,n=e.option;return r.a.createElement(Tn.Controlled,{value:t,options:n,onBeforeChange:this.onBeforeChange,onChange:this.onValueChange,onSelection:this.onSelection,editorDidMount:this.editorDidMount})}}]),n}(r.a.Component);Rn.defaultProps={value:"",onChange:null,name:"",tabSize:null,lineNumbers:null,readOnly:null,cursorBlinkRate:null,onSelectionChange:null};var Un=Rn,An=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"getLanguages",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.bb).request();case 3:return t=e.sent,e.abrupt("return",t.languages);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Dn=r.a.createContext(),Mn=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetchLanguages=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.state.languages.length>0)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,An.getLanguages();case 5:t=e.sent,a.setState({languages:t});case 7:case"end":return e.stop()}}),e)}))),a.findLanguageId=function(e){return a.state.languages.find((function(t){return t.Name===e})).Id},a.state={languages:[],fetchLanguages:a.fetchLanguages,findLanguageId:a.findLanguageId},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(Dn.Provider,{value:this.state},e)}}]),n}(r.a.Component),Fn=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).onChange=function(e){var t=e.target,n=t.name,r=t.value,c=a.props.changeSetting;"theme"===n&&a.setState({theme:r}),c(n,r)};var r=a.props.init;return a.state={fetched:!1,theme:r.theme||"default"},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.languageContext.fetchLanguages();case 2:this.setState({fetched:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.fetched,a=t.theme,c=this.props.init,s=Kt()({"dark-bar":"material"===a});return r.a.createElement("div",{className:"language-bar ".concat(s)},r.a.createElement(L.a,{className:"p-0"},r.a.createElement(R.a,null,r.a.createElement(U.a,{md:4,className:"d-flex p-0"},r.a.createElement(Dn.Consumer,null,(function(t){return e.languageContext=t,n?r.a.createElement(en.a,{className:"m-1",as:"select",onChange:e.onChange,id:"search-tag",name:"mode",value:c.mode},t.languages.map((function(e){return r.a.createElement("option",{key:e.Id,value:e.Name},e.Name)}))):r.a.createElement(se,null)}))),r.a.createElement(U.a,{md:4}),r.a.createElement(U.a,{md:4,className:"p-0"},r.a.createElement(en.a,{className:"m-1 ml-auto",as:"select",onChange:this.onChange,id:"search-tag",name:"theme",value:c.theme},r.a.createElement("option",{value:"default"},"Light"),r.a.createElement("option",{value:"material"},"Dark"))))))}}]),n}(r.a.Component),Bn=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onChange=Object(b.a)(h.a.mark((function e(){var t,n,r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({toggling:!0}),t=a.props,n=t.onChange,r=t.checked,c=t.name,s=t.id,e.prev=2,e.next=5,n({target:{value:!r,checked:!r,name:c,id:s}});case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:a.mounted&&a.setState({toggling:!1});case 10:case"end":return e.stop()}}),e,null,[[2,7]])}))),a.state={toggling:!1},a.mounted=!1,a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.state.toggling,t=this.props,n=t.className,a=t.checked,c=t.label,s=t.labelClassName;return e?r.a.createElement(se,{className:n}):r.a.createElement("span",{role:"checkbox",tabIndex:0,"aria-checked":!1,onClick:this.onChange,style:{cursor:"pointer"}},a?r.a.createElement("span",{className:"fas fa-check-square ".concat(n),style:{fontSize:"18px"}}):r.a.createElement("span",{className:"fas fa-square ".concat(n),style:{fontSize:"18px"}}),c&&r.a.createElement("span",{className:s},c))}}]),n}(r.a.Component);Bn.defaultProps={className:"",checked:!1,label:null,labelClassName:"",onChange:null,id:null,name:null};var qn=Bn,Hn=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"getLanguageId",value:function(e){return{C:49,"C++":54,Java:62,"JavaScript (Node.js)":63,Pascal:67,"Python 2":70,"Python 3":71,Ruby:72}[e]}},{key:"submit",value:function(){var t=Object(b.a)(h.a.mark((function t(n,a,r){var c,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c={language_id:e.getLanguageId(n),source_code:a},r.trim()&&(c.stdin=r),t.next=5,new y.a("post","https://judge0.bigocoder.com/submissions",void 0,c,!1,{"X-Auth-Token":"khanh_judge-0-olala"}).request();case 5:return s=t.sent,t.abrupt("return",s);case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"getSubmission",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get","https://judge0.bigocoder.com/submissions/:token?base64_encoded=true",{token:t},null,!1,{"X-Auth-Token":"khanh_judge-0-olala"}).request();case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"testCode",value:function(e,t,n){var a=this,r=new Promise((function(r,c){try{var s=a.submit(e,t,n);if("string"===typeof s||!s.token)throw new Error("error");var o=setInterval(Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"string"===typeof(t=a.getSubmission(s.token))?(clearInterval(o),c(t)):[1,2].includes(t.status.id)||(clearInterval(o),r(t));case 2:case"end":return e.stop()}}),e)}))),2e3)}catch(u){c(u.message)}}));return Promise.resolve(r)}}]),e}(),Wn=function(e){var t=e.submission;return 3===t.status.id?r.a.createElement("div",{className:"test-code-result"},r.a.createElement("h3",{className:"green"},r.a.createElement("strong",null,"Ok")),r.a.createElement("p",null,r.a.createElement("strong",null,"Compile message:")),r.a.createElement("br",null),t.compile_output&&r.a.createElement(Un,{value:ge.Base64.decode(t.compile_output),readOnly:!0,lineNumbers:!1,mode:"text",theme:"default",cursorBlinkRate:-1}),t.stderr&&r.a.createElement(Un,{value:ge.Base64.decode(t.compile_output),readOnly:!0,lineNumbers:!1,mode:"text",theme:"default",cursorBlinkRate:-1}),r.a.createElement("p",null,r.a.createElement("strong",null,"Time:\xa0")),r.a.createElement("p",null,t.time," ","second(s)"),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("strong",null,"Memory:\xa0")),r.a.createElement("p",null,t.memory," ","KB"),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("strong",null,"Output:")),r.a.createElement("br",null),r.a.createElement("div",{className:"custom-input"},t.stdout&&r.a.createElement(Un,{value:ge.Base64.decode(t.stdout),readOnly:!0,mode:"text",theme:"default",cursorBlinkRate:-1}))):6===t.status.id?r.a.createElement("div",{className:"test-code-result"},r.a.createElement("h3",{className:"text-danger"},r.a.createElement("strong",null,"Compilation Error")),r.a.createElement("p",null,r.a.createElement("strong",null,"Compile message:")),r.a.createElement("br",null),r.a.createElement(Un,{value:ge.Base64.decode(t.compile_output),readOnly:!0,lineNumbers:!1,mode:"text",theme:"default",cursorBlinkRate:-1})):t.status.id>=7&&t.status.id<=12?r.a.createElement("div",{className:"test-code-result"},r.a.createElement("h3",{className:"text-danger"},r.a.createElement("strong",null,"Runtime Error")),r.a.createElement("p",null,r.a.createElement("strong",null,"Compile message:")),r.a.createElement("br",null),t.compile_output&&r.a.createElement(Un,{value:ge.Base64.decode(t.compile_output),readOnly:!0,lineNumbers:!1,mode:"text",theme:"default",cursorBlinkRate:-1}),t.stderr&&r.a.createElement(Un,{value:ge.Base64.decode(t.stderr),readOnly:!0,lineNumbers:!1,mode:"text",theme:"default",cursorBlinkRate:-1}),r.a.createElement("p",null,r.a.createElement("strong",null,"Message:")),r.a.createElement("br",null),t.message&&r.a.createElement(Un,{value:ge.Base64.decode(t.message),readOnly:!0,lineNumbers:!1,mode:"text",theme:"default",cursorBlinkRate:-1}),r.a.createElement("p",null,r.a.createElement("strong",null,"Time:\xa0")),r.a.createElement("p",null,t.time," ","second(s)"),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("strong",null,"Memory:\xa0")),r.a.createElement("p",null,t.memory," ","KB"),r.a.createElement("br",null)):null},Vn=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).changeSetting=function(e,t){var n=a.state.setting;n[e]=t,te.write("submitcodesetting",n),a.setState({setting:n})},a.onChange=function(e){var t=e.target.value,n=a.props.problem;a.setState({value:t}),te.write("temp-code:".concat(n.Id),t)},a.onChangeCustomInput=function(e){a.setState({customInput:e.target.value})},a.submit=Object(b.a)(h.a.mark((function e(){var t,n,r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.value,r=t.setting,c=a.props.problem,Object(v.b)()||(alert("You need to login first!"),T.a.push("/login")),""!==n.trim()){e.next=5;break}return e.abrupt("return");case 5:return a.setState({submitting:!0}),e.next=8,c.submit({Content:n,LanguageId:a.findLanguageId(r.mode)});case 8:(s=e.sent)?a.setState({error:s,submitting:!1}):a.addNotification("Big-O Coding","Submitted"),a.setState({submitting:!1});case 11:case"end":return e.stop()}}),e)}))),a.closeError=function(){a.setState({error:""})},a.testCode=Object(b.a)(h.a.mark((function e(){var t,n,r,c,s,o,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.value,r=t.customInput,c=t.setting,s=a.props.problem,""!==n.trim()){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,a.setState({testing:!0,submission:void 0}),o="",r?o=r:s.SampleTests.length>0&&(o=ge.Base64.decode(s.SampleTests[0].InputContent)),e.next=10,Hn.testCode(c.mode,n,o);case 10:"string"===typeof(u=e.sent)?a.setState({error:"C\xf3 nhi\u1ec1u b\xe0i \u0111ang \u0111\u01b0\u1ee3c ch\u1ea5m th\u1eed! H\xe3y th\u1eed l\u1ea1i sau.",testing:!1}):a.setState({submission:u,testing:!1}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),a.setState({error:"C\xf3 nhi\u1ec1u b\xe0i \u0111ang \u0111\u01b0\u1ee3c ch\u1ea5m th\u1eed! H\xe3y th\u1eed l\u1ea1i sau.",testing:!1});case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));var r=te.read("submitcodesetting");return a.state={value:te.read("temp-code:".concat(e.problem.Id))||"",error:"",submitting:!1,customInput:"",withInput:!1,testing:!1,submission:void 0},a.state.setting=r?{mode:r.mode||"C",theme:r.theme||"default"}:{mode:"C",theme:"default"},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.setting,a=t.value,c=(t.withInput,t.submitting),s=(t.customInput,t.testing,t.submission),o=t.error;return r.a.createElement("div",{id:"submit-code"},r.a.createElement("div",{className:"editor border"},r.a.createElement(Dn.Consumer,null,(function(t){var n=t.findLanguageId;return e.findLanguageId=n,r.a.createElement(r.a.Fragment,null)})),r.a.createElement(Y.Consumer,null,(function(t){var n=t.addNotification;return e.addNotification=n,r.a.createElement(r.a.Fragment,null)})),r.a.createElement(Fn,{changeSetting:this.changeSetting,init:n}),r.a.createElement("hr",{className:"m-0"}),r.a.createElement("div",null,r.a.createElement(Un,{value:a,onChange:this.onChange,mode:n.mode,theme:n.theme}))),r.a.createElement(R.a,{className:"mt-1"},r.a.createElement(U.a,{md:9,className:"p-0 py-1 pr-1 d-flex flex-column justify-content-center"}),r.a.createElement(U.a,{md:3,className:"p-0 pr-1"},r.a.createElement(F,{className:"m-1 p-1 bg-green border-0 text-white corner w-100",onClick:this.submit,disabled:c},c&&r.a.createElement("span",{className:"fas fa-spinner fa-spin"})||r.a.createElement("div",null,"N\u1ed9p b\xe0i",r.a.createElement("span",{className:"fas fa-paper-plane"}))))),s&&r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement(Wn,{submission:s})),r.a.createElement(De,{title:"L\u1ed7i",error:1,show:""!==o,onHide:this.closeError,closebutton:1},r.a.createElement("div",{className:"p-3"},o)))}}]),n}(r.a.Component),zn={vi:{Difficulty:"\u0110\u1ed9 kh\xf3",Secret:"B\xed m\u1eadt",SolvedPersons:"S\u1ed1 ng\u01b0\u1eddi gi\u1ea3i","Very hard":"R\u1ea5t kh\xf3",Hard:"Kh\xf3",Medium:"Trung b\xecnh",Easy:"D\u1ec5","Very easy":"R\u1ea5t d\u1ec5",Solved:"\u0110\xe3 gi\u1ea3i \u0111\u01b0\u1ee3c",Unsolved:"Ch\u01b0a gi\u1ea3i \u0111\u01b0\u1ee3c"}},Gn={vi:Object(H.a)(Object(H.a)({},zn.vi),{},{statement:"\u0111\u1ec1 b\xe0i",tutorial:"h\u01b0\u1edbng d\u1eabn gi\u1ea3i",information:"th\xf4ng tin","time limit":"Gi\u1edbi h\u1ea1n th\u1eddi gian","memory limit":"Gi\u1edbi h\u1ea1n b\u1ed9 nh\u1edb",difficulty:"\u0110\u1ed9 kh\xf3",resource:"Ngu\u1ed3n b\xe0i",dataset:"B\u1ed9 test","sample testcases explanation":"Gi\u1ea3i th\xedch v\xed d\u1ee5","my submission":"b\xe0i n\u1ed9p c\u1ee7a t\xf4i",discussion:"th\u1ea3o lu\u1eadn",submit:"N\u1ed9p b\xe0i","sample testcases":"V\xed d\u1ee5","input format":"D\u1eef li\u1ec7u nh\u1eadp","output format":"D\u1eef li\u1ec7u xu\u1ea5t"})},Yn=n(158),Qn=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onClick=function(){var t=e.props.contentId,n=document.getElementById(t),a=document.createRange();a.selectNodeContents(n);var r=window.getSelection();r.removeAllRanges(),r.addRange(a),document.execCommand("copy"),r.removeAllRanges(),e.ToastContext.addNotification("Big-O Coder","Copied")},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(Y.Consumer,null,(function(t){return e.ToastContext=t,r.a.createElement("button",{type:"button",className:"bg-white border float-right corner",style:{fontSize:"11px"},onClick:e.onClick},"copy")}))}}]),n}(r.a.Component),Kn=function(e){var t=e.testcase,n=e.index,a=t.InputContent,c=t.OutputContent;return r.a.createElement(Yn.a,{striped:!0,bordered:!0,className:"sample-testcase"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"border-0 text-center p-1"},r.a.createElement("strong",null,"input"),r.a.createElement(Qn,{contentId:"sample-input-".concat(n)}))),r.a.createElement("tr",null,r.a.createElement("td",{className:"text-formatted p-1",id:"sample-input-".concat(n)},ge.Base64.decode(a))),r.a.createElement("tr",null,r.a.createElement("td",{className:"border-0 text-center p-1"},r.a.createElement("strong",null,"output"),r.a.createElement(Qn,{contentId:"sample-output-".concat(n)}))),r.a.createElement("tr",null,r.a.createElement("td",{className:"text-formatted p-1",id:"sample-output-".concat(n)},ge.Base64.decode(c)))))},_n=new Z;_n.import(Gn);var Jn=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state=Object(H.a)({},a.state),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.problem,n=this.state.language;return r.a.createElement(ne.Consumer,null,(function(a){var c=a.language;e.languageContext=a,_n.use(c);var s=t.Statements[n];return r.a.createElement("div",{className:"p-2"},r.a.createElement(Pn,{languages:t.Statements,activeLanguage:n,setLanguage:e.setLanguage}),r.a.createElement("button",{onClick:function(){window.location.hash="submit-code"},className:"basic-component-button bg-green m-auto",type:"button",style:{fontSize:"12px"}},"Submit"," ",r.a.createElement("span",{className:"fas fa-paper-plane"})),r.a.createElement(V,null,r.a.createElement("h2",null,r.a.createElement("strong",null,t.Name))),t.Statements.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Sn,{value:s.Statement}),r.a.createElement("h3",null,r.a.createElement("strong",null,_n.get("Input format"))),r.a.createElement(Sn,{value:s.InputDescription}),r.a.createElement("h3",null,r.a.createElement("strong",null,_n.get("Output format"))),r.a.createElement(Sn,{value:s.OutputDescription}),r.a.createElement("h3",null,r.a.createElement("strong",null,_n.get("Sample testcases"))),t.SampleTests.map((function(e,t){return r.a.createElement(Kn,{key:e.Id,testcase:e,index:t})})),s.Explanation&&r.a.createElement("h3",null,r.a.createElement("strong",null,_n.get("Sample testcases explanation"))),r.a.createElement(Sn,{value:s.Explanation})),r.a.createElement("h3",{id:"submit-code"},r.a.createElement("strong",null,"N\u1ed9p b\xe0i")),r.a.createElement(Vn,{problem:t}))}))}}]),n}(Nn),Xn=new Z;Xn.import(Gn);var $n=function(e){var t=e.problem,n=t.TimeLimit,a=t.MemoryLimit,c=t.Resource,s=t.Dataset,o=t.Difficulty,u=Kt()({"text-warning":"Medium"===o,"text-success":["Easy","Very Easy"].includes(o),"text-danger":"Hard"===o,"light-blue":"Secret"===o});return r.a.createElement(ne.Consumer,null,(function(e){var t=e.language;return Xn.use(t),r.a.createElement(Jt,{title:Xn.get("Information"),className:"mb-4"},r.a.createElement("ul",{className:"mt-2"},r.a.createElement("li",null,Xn.get("Time Limit"),":"," ",r.a.createElement("strong",null,n,"ms")),r.a.createElement("li",null,Xn.get("Memory Limit"),":"," ",r.a.createElement("strong",null,a,"MB")),r.a.createElement("li",null,Xn.get("Difficulty"),":"," ",r.a.createElement("strong",null,r.a.createElement("span",{className:u},Xn.get(o)))),r.a.createElement("li",null,Xn.get("Resource"),":"," ",r.a.createElement("strong",null,c)),r.a.createElement("li",null,Xn.get("Dataset"),":"," ",r.a.createElement("strong",null,s))))}))},Zn=n(85),ea=n(161),ta={vi:{"Upload image":"T\u1ea3i \u1ea3nh l\xean",Ok:"Ok",Cancel:"H\u1ee7y","Picture size must be less than 5MB":"K\xedch th\u01b0\u1edbc h\xecnh ph\u1ea3i nh\u1ecf h\u01a1n 5MB"}},na=new Z;na.import(ta);var aa=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onChange=function(e){var t=a.state.files;a.setState({files:[].concat(Object(Le.a)(t),Object(Le.a)(e.target.files))})},a.onUpload=Object(b.a)(h.a.mark((function e(){var t,n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.files,n=a.props,r=n.onHide,c=n.uploadImage,e.next=4,a.setState({uploading:!0});case 4:return e.next=6,c(t);case 6:return e.next=8,a.setState({uploading:!1});case 8:r();case 9:case"end":return e.stop()}}),e)}))),a.toggleFileUpload=function(){document.getElementById("image-uploader").click()},a.onRemove=function(e){var t=a.state.files;t.splice(e,1),a.setState({files:t})},a.state={files:[],uploading:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onHide,a=t.multiple,c=t.show,s=this.state,o=s.uploading,u=s.files;return r.a.createElement(ne.Consumer,null,(function(t){var s=t.language;return na.use(s),r.a.createElement(De,{onHide:n,show:c,title:na.get("Upload image"),closebutton:1,footer:r.a.createElement("div",{className:"py-2 px-3 w-100 d-flex justify-content-between align-items-center"},r.a.createElement(ea.a,{variant:"warning",className:"m-0 p-2 mr-auto"},r.a.createElement("span",{className:"fas fa-exclamation-circle"}),"\xa0",na.get("Picture size must be less than 5MB")),o?r.a.createElement(se,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{onClick:e.onUpload,className:"bg-light-blue mr-2 p-2"},na.get("Ok")),r.a.createElement(F,{onClick:n,className:"bg-light-blue p-2"},na.get("Cancel"))))},r.a.createElement("div",{className:"p-3"},u.map((function(t,n){var a=URL.createObjectURL(t);return r.a.createElement("div",{className:"review-img",key:n},r.a.createElement(p.a,{key:n,src:a,rounded:!0}),r.a.createElement("button",{type:"button",title:na.get("remove"),onClick:function(){return e.onRemove(n)}},r.a.createElement("span",{className:"fas fa-times"})))})),r.a.createElement("input",{type:"file",accept:"image/*",style:{display:"none"},id:"image-uploader",multiple:!!a,onChange:e.onChange}),(a||!a&&0===u.length)&&r.a.createElement("button",{type:"button",className:"upload-image-btn",onClick:e.toggleFileUpload},r.a.createElement("span",{className:"fas fa-plus"}))))}))}}]),n}(r.a.Component);aa.defaultProps={multiple:!1};var ra=aa,ca=n(159),sa=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"uploadImage",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.size/1024/1024>5&&Object(ca.reject)("Your image size must be less than 5MB"),"https://api.imgur.com/3/image","75af4d1b972d53a",(n=new FormData).append("image",t),e.next=8,cn()({method:"post",url:"https://api.imgur.com/3/image",headers:{"Content-Type":"application/json",Authorization:"Client-ID ".concat("75af4d1b972d53a")},data:n});case 8:return a=e.sent,e.abrupt("return",a.data.data.link);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0.message;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),oa=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).toggleImageUploader=function(){var e=a.state.toggleImageUploader;a.setState({toggleImageUploader:!e})},a.onUploadImage=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r,c,s,o,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=[],r=Object(He.a)(t);try{for(r.s();!(c=r.n()).done;){s=c.value;try{n.push(sa.uploadImage(s))}catch(l){}}}catch(i){r.e(i)}finally{r.f()}return o=null,e.prev=5,e.next=8,Promise.all(n);case 8:o=e.sent,e.next=13;break;case 11:e.prev=11,e.t0=e.catch(5);case 13:u=a.props.insert,o.forEach((function(e){u("",'\n\n<img src="'.concat(e,'" width="450px"></img>'))})),e.next=19;break;case 17:e.prev=17,e.t1=e.catch(0);case 19:case"end":return e.stop()}}),e,null,[[0,17],[5,11]])})));return function(t){return e.apply(this,arguments)}}(),a.state={toggleImageUploader:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.showPreview,n=e.insert,a=this.state.toggleImageUploader;return r.a.createElement("div",{className:"toolbar m-1"},r.a.createElement("button",{type:"button",onClick:function(){return t()}},r.a.createElement("span",{className:"far fa-eye"})," ","Preview"),r.a.createElement("button",{type:"button","aria-label":"italic",onClick:function(){return n("*","*")}},r.a.createElement("span",{className:"fas fa-italic"})),r.a.createElement("button",{type:"button","aria-label":"bold",onClick:function(){return n("**","**")}},r.a.createElement("span",{className:"fas fa-bold"})),r.a.createElement("button",{type:"button","aria-label":"unoder list",onClick:function(){return n("\n- ")}},r.a.createElement("span",{className:"fas fa-list-ul"})),r.a.createElement("button",{type:"button","aria-label":"order list",onClick:function(){return n("\n1. ")}},r.a.createElement("span",{className:"fas fa-list-ol"})),r.a.createElement("button",{type:"button","aria-label":"quote",onClick:function(){return n("\n> ")}},r.a.createElement("span",{className:"fas fa-quote-right"})),r.a.createElement("button",{type:"button","aria-label":"link",onClick:function(){return n("[Description](link)")}},r.a.createElement("span",{className:"fas fa-link"})),r.a.createElement("button",{type:"button","aria-label":"image",onClick:this.toggleImageUploader},r.a.createElement("span",{className:"fas fa-image"})),r.a.createElement(ra,{show:a,onHide:this.toggleImageUploader,multiple:!0,uploadImage:this.onUploadImage}))}}]),n}(r.a.Component),ua=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).onSelectionChange=function(e){a.setState({selectionRange:e})},a.inserts=Object(b.a)(h.a.mark((function e(){var t,n,r,c,s,o=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]?o[1]:"",r=a.EditorRef.current.editor,c=r.getSelections(),s=0;s<c.length;s++)c[s]="".concat(t).concat(c[s]).concat(n);r.replaceSelections(c);case 6:case"end":return e.stop()}}),e)}))),a.togglePreview=function(){var e=a.state.showPreview;a.setState({showPreview:!e})};var c=a.props.showToolbar;return a.state={selectionRange:{},showPreview:!1,showToolbar:void 0===c||c},a.EditorRef=r.a.createRef(),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.showToolbar,n=e.showPreview,a=this.props,c=a.mode,s=a.theme,o=a.value,u=a.name,l=a.onChange;return r.a.createElement("div",{className:"editor border"},t&&r.a.createElement(oa,{insert:this.inserts,showPreview:this.togglePreview}),r.a.createElement("hr",{className:"m-0"}),r.a.createElement(Un,{mode:c,theme:s,value:o,name:u,ref:this.EditorRef,onSelectionChange:this.onSelectionChange,onChange:l}),r.a.createElement(De,{show:n,title:"Preview",onHide:this.togglePreview,closebutton:1},r.a.createElement("div",{className:"p-3"},r.a.createElement(Sn,{value:o}))))}}]),n}(r.a.Component);ua.defaultProps={name:"",theme:"default",value:"",showToolbar:void 0,onChange:void 0};var la=ua,ia=function(e){var t=Object(a.useState)(void 0),n=Object(Xe.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(!1),u=Object(Xe.a)(o,2),l=u[0],i=u[1],m=function(){var t=Object(b.a)(h.a.mark((function t(){var n,a,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.admin?new xt.a("get",e.linkToDetail,null,null):new y.a("get",e.linkToDetail,null,null,!0),t.next=4,n.request();case 4:a=t.sent,r=a.submission,s(r),i(!0),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){m()}),[]);var p=function(e){var t=e.toLowerCase();return"accepted"===t?{fontWeight:"600",color:"#2ecc71"}:t.includes("wrong")||t.includes("error")?{fontWeight:"600",color:"red"}:t.includes("output")?{fontWeight:"600",color:"#34495e"}:t.includes("limit")?{fontWeight:"600",color:"orange"}:null};return r.a.createElement(Ue.a,{show:!0,dialogClassName:"modal-90w",onHide:e.onHide},r.a.createElement(Ue.a.Header,{closeButton:!0},r.a.createElement(Ue.a.Title,null,"B\xe0i n\u1ed9p")),r.a.createElement(Ue.a.Body,null,!l&&r.a.createElement(ue,null),l&&r.a.createElement("div",null,r.a.createElement("table",{className:"basic-component-table bg-white"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{textAlign:"center"}},"#"),r.a.createElement("th",{style:{textAlign:"center"}},"Th\u1eddi gian n\u1ed9p"),r.a.createElement("th",null,"Ng\u01b0\u1eddi n\u1ed9p"),r.a.createElement("th",null,"T\xean b\xe0i"),r.a.createElement("th",{style:{textAlign:"center"}},"Lo\u1ea1i b\xe0i"),r.a.createElement("th",{style:{textAlign:"center"}},"Ng\xf4n ng\u1eef"),r.a.createElement("th",null,"K\u1ebft qu\u1ea3"),r.a.createElement("th",{style:{textAlign:"center"}},"\u0110i\u1ec3m"),r.a.createElement("th",{style:{textAlign:"right"}},"Th\u1eddi gian"),r.a.createElement("th",{style:{textAlign:"right"}},"B\u1ed9 nh\u1edb"))),r.a.createElement("tbody",null,r.a.createElement("tr",{className:"no-effect"},r.a.createElement("td",{style:{textAlign:"center"}},c.Id),r.a.createElement("td",{style:{textAlign:"center"}},et()(c.SubmitTime).format("DD/MM/YYYY"),r.a.createElement("br",null),et()(c.SubmitTime).format("HH:mm")),r.a.createElement("td",null,r.a.createElement("strong",null,c.User)),r.a.createElement("td",null,c.ProblemName),r.a.createElement("td",{style:{textAlign:"center"}},c.ProblemTypeName),r.a.createElement("td",{style:{textAlign:"center"}},c.Language),r.a.createElement("td",{style:p(c.Verdict)},c.Verdict),r.a.createElement("td",{style:Object(H.a)(Object(H.a)({},p(c.Verdict)),{},{textAlign:"center"})},Math.round(100*c.Score)/100),r.a.createElement("td",{style:{textAlign:"right"}},null!==c.Time&&"".concat(Math.round(parseFloat(c.Time))," ms")),r.a.createElement("td",{style:{textAlign:"right"}},null!==c.Memory&&"".concat(Math.round(parseFloat(c.Memory)/1024)," KB"))))),r.a.createElement("br",null),r.a.createElement(la,{value:ge.Base64.decode(c.Content),readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",showToolbar:!1,mode:c.Language}),r.a.createElement("br",null),c.CompileMessage&&r.a.createElement("div",{style:{padding:"10px",background:"white"}},r.a.createElement("h3",{style:{fontWeight:"600"}},"Compile message"),c.CompileMessage.split("\n").map((function(e,t){return r.a.createElement("p",{style:{margin:"0",fontWeight:"600"},key:t},e)}))),c.Tests&&c.Tests.map((function(e,t){return r.a.createElement("div",{className:"bg-white",key:e.TestcaseId,style:{padding:"10px"}},r.a.createElement("p",{style:{fontWeight:"600"}},"Test #",t+1,", Time:",Math.round(parseFloat(e.Time))," ","ms, Memory:",Math.round(parseFloat(e.Memory)/1024)," ","KB, Exit code:",e.ExitCode,", Verdict:",e.Verdict),r.a.createElement("p",null,r.a.createElement("strong",null,"Checker log: ")),r.a.createElement("p",null,r.a.createElement("strong",null,e.CheckerLog)),r.a.createElement("div",{style:{textAlign:"center",fontWeight:"600",background:"#ecf0f1",padding:"3px"},className:"border"},"Input"),r.a.createElement("p",{style:{whiteSpace:"pre-line"},className:"border p-2"},ge.Base64.decode(e.Input)),r.a.createElement("br",null),r.a.createElement("div",{style:{textAlign:"center",fontWeight:"600",background:"#ecf0f1",padding:"3px"}},"Output"),r.a.createElement("p",{style:{whiteSpace:"pre-line"},className:"border p-2"},ge.Base64.decode(e.Output)),r.a.createElement("br",null),r.a.createElement("div",{style:{textAlign:"center",fontWeight:"600",background:"#ecf0f1",padding:"3px"}},"Answer"),r.a.createElement("p",{style:{whiteSpace:"pre-line"},className:"border p-2"},ge.Base64.decode(e.Answer)),r.a.createElement("br",null),t<c.Tests.length-1&&r.a.createElement("br",null),t<c.Tests.length-1&&r.a.createElement("br",null))})))))};ia.defaultProps={admin:!1,onHide:null};var ma=ia,pa=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"fetchSubmissionListAtPage",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,r,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:1,n=c.length>1&&void 0!==c[1]?c[1]:"",0===parseInt(t,10)&&(t=1),n){e.next=5;break}return e.abrupt("return",{submissions:[],totalSubmissions:0});case 5:return e.prev=5,a=new y.a("get","".concat(n,"page=").concat(t),null,null,!0),e.next=9,a.request();case 9:return r=e.sent,e.abrupt("return",{submissions:r.submissions,totalSubmissions:r.totalSubmissions});case 13:return e.prev=13,e.t0=e.catch(5),e.abrupt("return",{submissions:[],totalSubmissions:0});case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchPendingSubmissions",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,r,c,s,o,u,l,i,m=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:[],n=m.length>1&&void 0!==m[1]?m[1]:[],e.prev=2,a=n,e.next=6,new y.a("put","submissions/submission-status",null,t,!0).request();case 6:r=e.sent,c=r.submissions,s=!1,o=0;case 10:if(!(o<c.length)){e.next=32;break}u=void 0,l=void 0,i=0;case 14:if(!(i<a.length)){e.next=22;break}if(a[o].Id!==c[o].Id){e.next=19;break}return u=i,l=a[i],e.abrupt("break",22);case 19:i+=1,e.next=14;break;case 22:e.prev=22,l&&l.Verdict!==c[o].Verdict&&"number"===typeof u&&(s=!0,a[u].Verdict=c[o].Verdict,"Pending"===c[o].Verdict||c[o].Verdict.includes("Judging")||(a[u].Score=c[o].Score,a[u].Memory=c[o].Memory,a[u].Time=c[o].Time)),e.next=29;break;case 26:return e.prev=26,e.t0=e.catch(22),e.abrupt("return",e.t0);case 29:o+=1,e.next=10;break;case 32:if(!s){e.next=34;break}return e.abrupt("return",a);case 34:return e.abrupt("return",[]);case 37:return e.prev=37,e.t1=e.catch(2),e.abrupt("return",[]);case 40:case"end":return e.stop()}}),e,null,[[2,37],[22,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"colorizeVerdict",value:function(e){return"Accepted"===e?{fontWeight:"600",color:"#2ecc71"}:e.includes("Wrong")||e.includes("error")?{fontWeight:"600",color:"red"}:e.includes("output")?{fontWeight:"600",color:"#34495e"}:e.includes("limit")?{fontWeight:"600",color:"orange"}:null}}]),e}(),da=function(e){var t=e.submission,n=e.showUsername,a=e.showProblemName;return r.a.createElement("tr",{onClick:function(){e.viewDetail(e.submission.Id)},style:{cursor:"pointer"}},r.a.createElement("td",{style:{textAlign:"center",width:"5%"}},t.Id),r.a.createElement("td",{style:{textAlign:"center"}},et()(t.SubmitTime).format("DD/MM/YYYY"),r.a.createElement("br",null),et()(t.SubmitTime).format("HH:mm")),n&&r.a.createElement("td",null,r.a.createElement("strong",null,t.User)),a&&r.a.createElement("td",null,t.ProblemName),r.a.createElement("td",{style:{textAlign:"center"}},t.ProblemTypeName),r.a.createElement("td",{style:{textAlign:"center"}},t.Language),r.a.createElement("td",{style:pa.colorizeVerdict(t.Verdict)},t.Verdict,"\xa0",(t.Verdict.includes("Pending")||t.Verdict.includes("Judging")||t.Verdict.includes("Running"))&&r.a.createElement("span",{className:"fas fa-spin fa-spinner m-auto",style:{verticalAlign:"middle"}})),r.a.createElement("td",{style:Object(H.a)({textAlign:"center"},pa.colorizeVerdict(t.Verdict))},Math.round(100*(t.Score||0))/100),r.a.createElement("td",{style:{textAlign:"right"}},null!==t.Time&&"".concat(Math.round(parseFloat(t.Time))," ms")),r.a.createElement("td",{style:{textAlign:"right"}},null!==t.Memory&&"".concat(Math.round(parseFloat(t.Memory)/1024)," kb")))};da.defaultProps={showProblemName:!1,showUsername:!1};var fa=da,ha=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).autoRefresh=function(){a.refresh=Object(Zn.b)(Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.props.autoRefresh){e.next=5;break}return e.next=3,a.fetchPendingSubmissions();case 3:e.next=12;break;case 5:if(a.countUpToFetchFull%5===4){e.next=10;break}return e.next=8,a.fetchPendingSubmissions();case 8:e.next=12;break;case 10:return e.next=12,a.fetchSubmissionListAtSpecificPage(a.state.currentPage,!1);case 12:a.countUpToFetchFull+=1;case 13:case"end":return e.stop()}}),e)}))),5e3)},a.UNSAFE_componentWillReceiveProps=function(){a.fetchSubmissionListAtSpecificPage()},a.componentDidMount=function(){a.fetchSubmissionListAtSpecificPage(),a.autoRefresh()},a.componentWillUnmount=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zn.a)(a.refresh);case 2:case"end":return e.stop()}}),e)}))),a.viewDetail=function(e){a.setState({detailId:e})},a.fetchPendingSubmissions=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],a.state.submissions.forEach((function(e){("Pending"===e.Verdict||e.Verdict.includes("Judging")||e.Verdict.includes("Running"))&&t.push(e.Id)})),0!==t.length){e.next=5;break}return a.props.autoRefresh||clearInterval(a.autoRefresh),e.abrupt("return");case 5:return e.next=7,pa.fetchPendingSubmissions(t,Object(Le.a)(a.state.submissions));case 7:(n=e.sent).length>0&&a.setState((function(){return{submissions:n}}));case 9:case"end":return e.stop()}}),e)}))),a.fetchSubmissionListAtSpecificPage=Object(b.a)(h.a.mark((function e(){var t,n,r,c,s,o=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:1,(n=!(o.length>1&&void 0!==o[1])||o[1])&&a.setState((function(){return{isLoading:!0}})),e.next=5,pa.fetchSubmissionListAtPage(t,a.props.apiUrl);case 5:r=e.sent,c=r.submissions,s=r.totalSubmissions,a.setState((function(){return{submissions:c,totalSubmissions:s,currentPage:t}})),n&&a.setState((function(){return{isLoading:!1}}));case 10:case"end":return e.stop()}}),e)}))),a.toSubmissionDetails=function(e,t){Object(v.b)()&&(a.state.submissions[t].Verdict.toLowerCase().includes("pending")||a.state.submissions[t].Verdict.toLowerCase().includes("judging")||T.a.push("".concat(window.location.pathname,"/").concat(e)))},a.render=function(){return r.a.createElement("div",null,a.state.isLoading&&r.a.createElement(ue,null),!a.state.isLoading&&r.a.createElement("table",{className:"basic-component-table bg-white"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{textAlign:"center",width:"5%"}},"#"),r.a.createElement("th",{style:{textAlign:"center"}},"Th\u1eddi gian n\u1ed9p"),a.props.showUsername&&r.a.createElement("th",null,"Ng\u01b0\u1eddi n\u1ed9p"),a.props.showProblemName&&r.a.createElement("th",null,"T\xean b\xe0i"),r.a.createElement("th",{style:{textAlign:"center"}},"Lo\u1ea1i b\xe0i"),r.a.createElement("th",{style:{textAlign:"center"}},"Ng\xf4n ng\u1eef"),r.a.createElement("th",null,"K\u1ebft qu\u1ea3"),r.a.createElement("th",{style:{textAlign:"center"}},"\u0110i\u1ec3m"),r.a.createElement("th",{style:{textAlign:"right"}},"Th\u1eddi gian"),r.a.createElement("th",{style:{textAlign:"right"}},"B\u1ed9 nh\u1edb"))),r.a.createElement("tbody",null,0===a.state.submissions.length&&r.a.createElement("tr",{className:"no-effect"},a.props.showUsername&&a.props.showProblemName&&r.a.createElement("td",{colSpan:9,style:{textAlign:"center"}},"Kh\xf4ng c\xf3 b\xe0i n\u1ed9p"),(a.props.showProblemName&&!a.props.showUsername||!a.props.showProblemName&&a.props.showUsername)&&r.a.createElement("td",{colSpan:8,style:{textAlign:"center"}},"Kh\xf4ng c\xf3 b\xe0i n\u1ed9p"),!a.props.showUsername&&!a.props.showProblemName&&r.a.createElement("td",{colSpan:7,style:{textAlign:"center"}},"Kh\xf4ng c\xf3 b\xe0i n\u1ed9p")),a.state.submissions.length>0&&a.state.submissions.map((function(e){return r.a.createElement(fa,{submission:e,key:e.Id,viewDetail:a.viewDetail,showProblemName:a.props.showProblemName,showUsername:a.props.showUsername})})))),a.state.totalSubmissions>20&&r.a.createElement(ft,{onPageChange:a.fetchSubmissionListAtSpecificPage,numberOfPage:Math.ceil(a.state.totalSubmissions/20)}),a.state.detailId&&r.a.createElement(ma,{submissionId:a.state.detailId,linkToDetail:a.state.linkToDetail+a.state.detailId,admin:a.props.admin,onHide:function(){return a.viewDetail(void 0)}}))},a.state={isLoading:!0,submissions:[],totalSubmissions:0,currentPage:1,detailId:void 0,linkToDetail:""},a.refresh=void 0,a.countUpToFetchFull=0,a}return n}(r.a.Component);ha.defaultProps={admin:!1,autoRefresh:!1,showUsername:!1,showProblemName:!1,apiUrl:void 0};var ba=ha,va=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetchSubmissionListAtSpecificPage=Object(b.a)(h.a.mark((function e(){var t,n,r,c,s,o,u,l,i,m=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:1,(n=!(m.length>1&&void 0!==m[1])||m[1])&&a.setState((function(){return{isLoading:!0}})),r=a.props,c=r.courseId,s=r.lectureId,o=r.problemId,e.next=6,rt.getProblemSubmissions(c,s,o,t);case 6:u=e.sent,l=u.submissions,i=u.totalSubmissions,a.setState((function(){return{submissions:l,totalSubmissions:i,currentPage:t}})),n&&a.setState((function(){return{isLoading:!1}}));case 11:case"end":return e.stop()}}),e)}))),a.state=Object(H.a)(Object(H.a)({},a.state),{},{linkToDetail:"courses/".concat(e.courseId,"/lectures/").concat(e.lectureId,"/problems/").concat(e.problemId,"/submissions/")}),a}return n}(ba),ga=function(e){var t=Object(a.useState)(!1),n=Object(Xe.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(void 0),u=Object(Xe.a)(o,2),l=u[0],i=u[1],m=Object(a.useContext)(Dn),p=m.languages,d=m.fetchLanguages;Object(a.useEffect)((function(){function t(){return(t=Object(b.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:return t.next=4,e.tutorial.get();case 4:i(e.tutorial.SourceCodes[0].LanguageId),s(!0);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var f=e.tutorial,v=e.onClose,g=f.SourceCodes.find((function(e){return e.LanguageId===l}));return r.a.createElement(De,{title:"H\u01b0\u1edbng d\u1eabn gi\u1ea3i",show:!0,onHide:v,dialogClassName:"modal-90w shadow-lg",closebutton:1},c?r.a.createElement("div",{className:"p-3"},r.a.createElement("h2",{className:"font-semi-bold"},f.Name),r.a.createElement(Sn,{value:f.Content}),r.a.createElement(en.a,{value:l,className:"w-25 mt-2 mb-2",as:"select",onChange:function(e){return i(parseInt(e.target.value,10))},id:"search-tag",name:"mode"},f.SourceCodes.map((function(e){return r.a.createElement("option",{key:e.Id,value:e.LanguageId},p.find((function(t){return t.Id===e.LanguageId})).Name)}))),r.a.createElement(la,{value:g.Content,onSelectionChange:function(){},theme:"default",showToolbar:!1,mode:p.find((function(e){return e.Id===l})).Name,readOnly:!0})):r.a.createElement(ue,null))},Ea=function(e){var t=e.tutorials,n=Object(a.useState)(void 0),c=Object(Xe.a)(n,2),s=c[0],o=c[1];return r.a.createElement("div",{className:"p-3"},t.map((function(e){return r.a.createElement($e.a,{key:e.Id,className:"border corner p-3 mb-3 cursor-pointer shadow-sm",onClick:function(){return o(e)}},r.a.createElement("h3",{className:"font-semi-bold mb-0"},e.Name))})),s&&r.a.createElement(ga,{tutorial:s,onClose:function(){return o(void 0)}}))},xa=function(e){var t=Object(a.useState)(!1),n=Object(Xe.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(void 0),u=Object(Xe.a)(o,2),l=u[0],i=u[1],m=Object(a.useState)(void 0),p=Object(Xe.a)(m,2),d=p[0],f=p[1],v=Object(a.useContext)(lt).getLecture;return Object(a.useEffect)((function(){(function(){var t=Object(b.a)(h.a.mark((function t(){var n,a,r,c,o,u;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.match.params,a=n.courseId,r=n.lectureId,c=n.problemId,t.next=3,v(a,r);case 3:return o=t.sent,t.next=6,f(o);case 6:return t.next=8,o.getProblem(parseInt(c,10));case 8:u=t.sent,i(u),s(!0);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),c?r.a.createElement("div",null,r.a.createElement(ce,{nav:[["home","/"],["courses","/courses"],[d.Course.Name,d.Course.Link],[d.Name,d.Link],[l.Name]]}),r.a.createElement($,null,r.a.createElement($e.a,{className:"w-100 shadow-sm mb-4"},r.a.createElement($e.a.Body,null,r.a.createElement("h1",{className:"font-semi-bold text-center"},d.Course.Name),r.a.createElement("h2",{className:"font-semi-bold text-center"},d.Name),r.a.createElement("p",{className:"mb-0"},d.Description))),r.a.createElement(J,null,r.a.createElement(nn,{controlKey:"view"},r.a.createElement(Jn,{title:"\u0110\u1ec1 b\xe0i",route:"statement",problem:l}),r.a.createElement("div",{title:"B\xe0i n\u1ed9p",route:"submissions"},r.a.createElement(va,{courseId:d.Course.Id,lectureId:d.Id,problemId:l.Id})),l.Lecture.PublicAnalysis&&r.a.createElement("div",{title:"H\u01b0\u1edbng d\u1eabn gi\u1ea3i",route:"tutorial"},r.a.createElement(Ea,{tutorials:l.Tutorials})))),r.a.createElement(X,null,r.a.createElement($n,{problem:l})))):r.a.createElement(le,null)},wa=function(){return(0,Object(a.useContext)(O).verifyUser)()?r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/courses",component:bt}),r.a.createElement(m.b,{exact:!0,path:"/courses/:id",component:$t}),r.a.createElement(m.b,{exact:!0,path:"/courses/:courseId/lectures/:lectureId",component:vn}),r.a.createElement(m.b,{exact:!0,path:"/courses/:courseId/lectures/:lectureId/problems/:problemId",component:xa})):r.a.createElement(m.a,{to:"/"})},ya=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"apiGetListContestsForUser",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.xb,null,null,!0).request();case 3:return t=e.sent,e.abrupt("return",t.Contests);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ka=r.a.createContext(),Ca=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).moveFromNotStartToRunning=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.state.upcomingContests,c=0;case 2:if(!(c<r.length)){e.next=11;break}if(r[c].Id!==t){e.next=8;break}return e.delegateYield(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=r.splice(c,1)[0]).ContestStatus="Running",(t=a.state.runningContests).push(n),t=t.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})),e.next=7,a.setState((function(){return{upcomingContests:r,runningContests:t}}));case 7:return e.abrupt("return",{v:void 0});case 8:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:++c,e.next=2;break;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.startFetchContests=Object(b.a)(h.a.mark((function e(){var t,n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ya.apiGetListContestsForUser();case 3:t=e.sent,n=t.filter((function(e){return"Running"===e.ContestStatus})).sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})).map((function(e){return new jt(e)})),r=t.filter((function(e){return["Registration opened","Registration not open"].includes(e.ContestStatus)})).sort((function(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()})).map((function(e){return new jt(e)})),c=t.filter((function(e){return"Ended"===e.ContestStatus})).sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})).map((function(e){return new jt(e)})),a.setState({contests:t,upcomingContests:r,runningContests:n,endedContests:c}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])}))),a.state={contests:[],upcomingContests:[],runningContests:[],endedContests:[],startFetchContests:a.startFetchContests,moveContestFromNotStartToRunning:a.moveFromNotStartToRunning},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(ka.Provider,{value:this.state},e)}}]),n}(r.a.Component),Oa=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){Object(v.b)()&&T.a.push("/")},a.onChangeUsernameEmail=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState((function(){return{emailOrUsername:t}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onSendResetEmail=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==(n=a.state.emailOrUsername).trim().length){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,r={Username:n},e.next=8,a.setState((function(){return{isSending:!0}}));case 8:return c=new y.a("post","".concat(k.b,"forgot-password"),null,r),e.next=11,c.request();case 11:T.a.push("/reset"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),a.setState((function(){return{error:e.t0.message}}));case 17:a.setState((function(){return{isSending:!1}}));case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}(),a.render=function(){var e=a.state,t=e.emailOrUsername,n=e.error,c=e.isSending;return r.a.createElement("div",null,r.a.createElement(ce,{nav:[["home","/"],["login","/login"],["Qu\xean m\u1eadt kh\u1ea9u"]]}),r.a.createElement($,null,r.a.createElement(L.a,null,r.a.createElement(R.a,{className:"justify-content-md-center",style:{marginBottom:"30%"}},r.a.createElement(U.a,{xs:!0,lg:"5",className:"form shadow-sm",style:{backgroundColor:"white"}},r.a.createElement($e.a,null,r.a.createElement($e.a.Body,null,r.a.createElement("h1",{className:"text-center font-semi-bold"},"Qu\xean m\u1eadt kh\u1ea9u"),r.a.createElement("form",{onSubmit:a.onSendResetEmail},r.a.createElement(D,{name:"Username ho\u1eb7c Email",value:t,onChange:a.onChangeUsernameEmail,message:n}),r.a.createElement(F,{type:"submit",disabled:c,className:"w-50 bg-light-blue float-right"},r.a.createElement("div",{style:{fontSize:"18px"}},c?r.a.createElement("div",{className:"py-1"},r.a.createElement(se,null)):"X\xe1c nh\u1eadn"))))))))))},a.state={emailOrUsername:"",error:"",isSending:!1},a}return n}(r.a.Component),ja=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){Object(v.b)()&&T.a.push("/")},a.onChangeResetCode=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState((function(){return{resetCode:t}}));case 2:a.verifyResetCode();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.verifyResetCode=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a.state.resetCode.trim().length){e.next=6;break}return e.next=4,a.setState((function(){return{errorResetCode:"Reset code can not be empty."}}));case 4:e.next=8;break;case 6:return e.next=8,a.setState((function(){return{errorResetCode:""}}));case 8:case"end":return e.stop()}}),e)}))),a.onChangeNewPassword=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState((function(){return{newPassword:t}}));case 2:a.verifyNewPassword();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.verifyNewPassword=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a.state.newPassword.length){e.next=5;break}return e.next=3,a.setState((function(){return{errorNewPassword:"New password can not be empty.",passwordStrength:0,isPasswordValid:!1}}));case 3:e.next=13;break;case 5:if(!(a.state.newPassword.length<8)){e.next=10;break}return e.next=8,a.setState((function(){return{errorNewPassword:"Password must have at least 8 characters.",passwordStrength:0,isPasswordValid:!1}}));case 8:e.next=13;break;case 10:return e.next=12,a.setState((function(){return{errorNewPassword:"",isPasswordValid:!0}}));case 12:a.calculatePasswordStrength(a.state.newPassword);case 13:if(a.state.newPassword===a.state.confirmPassword){e.next=18;break}return e.next=16,a.setState((function(){return{errorConfirmPassword:"Confirm password must be the same as new password.",isPasswordValid:!1}}));case 16:e.next=20;break;case 18:return e.next=20,a.setState((function(){return{errorConfirmPassword:"",isPasswordValid:!0}}));case 20:case"end":return e.stop()}}),e)}))),a.calculatePasswordStrength=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r,c,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=/[a-z]/g,r=/[A-Z]/g,c=/[0-9]/g,s=/[`~!@#$%^&*()_+{}|;:'",<.>?]/g,o=0,t.match(n)&&(o+=1),t.match(r)&&(o+=1),t.match(c)&&(o+=1),t.match(s)&&(o+=1),e.next=11,a.setState((function(){return{passwordStrength:o}}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChangeConfirmPassword=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState((function(){return{confirmPassword:t}}));case 2:a.verifyConfirmPassword();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.verifyConfirmPassword=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.state.confirmPassword===a.state.newPassword){e.next=5;break}return e.next=3,a.setState((function(){return{errorConfirmPassword:"Confirm password must be the same as new password.",isPasswordValid:!1}}));case 3:e.next=7;break;case 5:return e.next=7,a.setState((function(){return{errorConfirmPassword:"",isPasswordValid:!0}}));case 7:case"end":return e.stop()}}),e)}))),a.onResetPassword=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r,c,s,o,u,l,i,m,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.verifyResetCode();case 3:return e.next=5,a.verifyNewPassword();case 5:return e.next=7,a.verifyConfirmPassword();case 7:if(n=a.state,r=n.errorUsername,c=n.errorResetCode,s=n.errorNewPassword,o=n.errorConfirmPassword,u=n.username,l=n.resetCode,i=n.newPassword,!(r||c||s||o)){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,a.setState((function(){return{isSending:!0}}));case 12:return e.prev=12,m={username:u,resetPasswordToken:l,newPassword:w()(i).toString()},p=new y.a("post","".concat(k.b,"reset-password"),null,m),e.next=17,p.request();case 17:T.a.push("/login"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(12),"Reset password token mismatch"===e.t0.message?a.setState((function(){return{errorResetCode:"Wrong reset code"}})):e.t0.message.includes("username")&&a.setState((function(){return{errorUsername:e.t0.message}}));case 23:a.setState((function(){return{isSending:!1}}));case 24:case"end":return e.stop()}}),e,null,[[12,20]])})));return function(t){return e.apply(this,arguments)}}(),a.render=function(){return r.a.createElement($,null,r.a.createElement(L.a,null,r.a.createElement(R.a,{className:"justify-content-md-center",style:{marginBottom:"5%"}},r.a.createElement(U.a,{xs:!0,lg:"5",className:"form reset-div shadow-sm",style:{backgroundColor:"white"}},r.a.createElement("form",{onSubmit:a.onResetPassword},r.a.createElement("h1",null,"Reset password"),r.a.createElement(D,{name:"Reset code",value:a.state.resetCode,onChange:a.onChangeResetCode,message:a.state.errorResetCode||"Reset code is send to your email",error:!!a.state.errorResetCode}),r.a.createElement(D,{name:"New password",value:a.state.newPassword,className:"reset-new-password-input",type:"password",onChange:a.onChangeNewPassword,message:a.state.errorNewPassword}),r.a.createElement(L.a,null,r.a.createElement(R.a,{className:"justify-content-md-center"},r.a.createElement(U.a,{className:"".concat(a.state.passwordStrength>0&&"very-weak-password")}),r.a.createElement(U.a,{className:"".concat(a.state.passwordStrength>1&&"weak-password")}),r.a.createElement(U.a,{className:"".concat(a.state.passwordStrength>2&&"medium-password")}),r.a.createElement(U.a,{className:"".concat(a.state.passwordStrength>3&&"strong-password")}))),r.a.createElement(D,{name:"Confirm password",value:a.state.confirmPassword,type:"password",onChange:a.onChangeConfirmPassword,message:a.state.errorConfirmPassword}),r.a.createElement(F,{type:"submit",disabled:a.state.isSending||!a.state.isPasswordValid,className:"start-reset-button w-100"},a.state.isSending?r.a.createElement(se,null):"Reset password"))))))},a.state={username:"",resetCode:"",newPassword:"",confirmPassword:"",passwordStrength:0,isSending:!1,isPasswordValid:!1,errorUsername:"",errorResetCode:"",errorNewPassword:"",errorConfirmPassword:""},a}return n}(r.a.Component),Sa=function e(t){var n=parseInt(t,10);if(n<60)return"".concat(n," gi\xe2y");if(n<3600){var a=Math.floor(n/60);if(60*a===n)return"".concat(Math.floor(n/60)," ph\xfat");var r=n-60*a;return"".concat(a," ph\xfat ").concat(e(r))}if(n<86400){var c=Math.floor(n/3600);if(3600*c===n)return"".concat(c," gi\u1edd");var s=n-3600*c;return"".concat(c," gi\u1edd ").concat(e(s))}var o=Math.floor(n/86400);if(86400*o===n)return"".concat(o," ng\xe0y");var u=n-86400*o;return"".concat(o," ng\xe0y ").concat(e(u))},Na=function(e){return function(t){var n=t.contest,a=t.forceUpdate;return r.a.createElement($e.a,{className:"single-contest shadow-sm my-3"},r.a.createElement($e.a.Body,{className:"p-2"},r.a.createElement(R.a,{style:{height:"200px"}},r.a.createElement(U.a,{className:"col-md-3 d-table h-100"},r.a.createElement("div",{className:"card card-block d-table-cell align-middle p-2"},r.a.createElement($e.a.Img,{width:"100%",src:n.Logo||"./image/logo.svg"}))),r.a.createElement(U.a,{className:"col-md-9 py-3"},r.a.createElement($e.a.Body,{className:"py-0"},r.a.createElement($e.a.Title,{style:{fontWeight:"600",fontSize:"20px",marginBottom:"20px"}},n.Name),r.a.createElement($e.a.Text,{style:{fontSize:"14px",marginBottom:"10px"}},r.a.createElement("span",{className:"fas fa-hourglass-half"}),"\xa0\xa0Th\u1eddi gian thi:"," ",r.a.createElement("span",{style:{fontWeight:"600"}},Sa(60*n.Duration))),r.a.createElement($e.a.Text,{style:{fontSize:"14px",marginBottom:"10px"}},r.a.createElement("span",{className:"fas fa-calendar-week"}),"\xa0\xa0Th\u1eddi gian b\u1eaft \u0111\u1ea7u:"," ",r.a.createElement("span",{style:{fontWeight:"600"}},et()(n.StartTime).format("DD/MM/YYYY - HH:mm"))),r.a.createElement(e,{contest:n,forceUpdate:a}))))))}},Ia=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"registerContest",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("post",k.eb,{id:t},n,!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getContestDetailsForUesr",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new y.a("get",k.n,{id:t},null,Object(v.b)()).request();case 2:return n=e.sent,e.abrupt("return",n.Contest);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getProblemsList",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new y.a("get",k.r,{id:t},null,!0).request();case 2:return n=e.sent.Problems,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getScoreboard",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:1,a=c.length>2&&void 0!==c[2]?c[2]:null,0===parseInt(n,10)&&(n=1),e.prev=3,e.next=6,new y.a("get",k.t,{id:t,page:n},null,Object(v.b)(),{},a).request();case 6:return r=e.sent,e.abrupt("return",r.scoreboard);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"adminGetScoreboard",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:1,a=c.length>2&&void 0!==c[2]?c[2]:null,0===parseInt(n,10)&&(n=1),e.prev=3,e.next=6,new xt.a("get",k.a,{id:t,page:n},null,{},a).request();case 6:return r=e.sent,e.abrupt("return",r.scoreboard);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getContestLink",value:function(e){var t=e.Name.toLowerCase();return t.includes("tour")?"https://codetour.vn/":t.includes("line")?"http://bit.ly/2OND5Zn":"/contests/".concat(e.Id,"/register")}},{key:"getProblemContestSubmissions",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a,r,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>2&&void 0!==c[2]?c[2]:1,0===parseInt(a,10)&&(a=1),e.prev=2,e.next=5,new y.a("get",k.s,{id:t,problemId:n,page:a},null,!0).request();case 5:return r=e.sent,e.abrupt("return",{submissions:r.submissions,totalSubmissions:r.totalSubmissions});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{submissions:[],totalSubmissions:0});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getContestSubmissions",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:1,0===parseInt(n,10)&&(n=1),e.prev=2,e.next=5,new y.a("get",k.u,{id:t,page:n},null,!0).request();case 5:return a=e.sent,e.abrupt("return",{submissions:a.submissions,totalSubmissions:a.totalSubmissions});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{submissions:[],totalSubmissions:0});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();Ia.sortScoreboardByRank=function(e){e.sort((function(e,t){return e.Rank-t.Rank}))};var Pa=Ia,Ta=Na(function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentWillUnmount=function(){void 0!==a.countDownTimer&&clearInterval(a.countDownTimer)},a.componentDidUpdate=function(){var e=a.state.count,t=a.props.forceUpdate;0===e&&void 0!==a.countDownTimer&&(t(),clearInterval(a.countDownTimer),a.countDownTimer=void 0)},a.render=function(){var e=a.props.contest,t=a.state,n=t.current,c=t.count;return r.a.createElement("div",null,n.isBefore(et()(Number(e.ActiveTime)))&&r.a.createElement($e.a.Text,{style:{fontSize:"14px",marginBottom:"10px"}},r.a.createElement("span",{className:"fas fa-calendar-week"}),"\xa0\xa0Th\u1eddi gian m\u1edf \u0111\u0103ng k\xfd tham gia:"," ",r.a.createElement("span",{style:{fontWeight:"600"}},et()(Number(e.ActiveTime)).format("DD/MM/YYYY - HH:mm"))),c>0&&r.a.createElement($e.a.Text,{style:{fontSize:"14px",marginBottom:"10px"}},r.a.createElement("span",{className:"fas fa-clock"}),"\xa0\xa0C\xf2n"," ",r.a.createElement("b",{style:{fontWeight:"600"}},Sa(Math.ceil(c)))," ","tr\u01b0\u1edbc khi b\u1eaft \u0111\u1ea7u k\u1ef3 thi"),et()().isAfter(Number(e.ActiveTime))&&r.a.createElement(R.a,{style:{margin:0,padding:0}},r.a.createElement(U.a,{style:{margin:0,padding:0}},(!e.RegistrationStatus||"Unregistered"===e.RegistrationStatus)&&r.a.createElement("a",{href:Pa.getContestLink(e)},r.a.createElement(F,{className:"w-75"},"\u0110\u0103ng k\xfd")),"Registered"===e.RegistrationStatus&&r.a.createElement(F,{disabled:!0,className:"w-75"},"\u0110\xe3 \u0111\u0103ng k\xfd")),r.a.createElement(U.a,null)))},a.state={count:"Registration opened"===a.props.contest.ContestStatus?Math.floor(et.a.duration(et()(a.props.contest.StartTime).diff(et()())).asSeconds()):-1,current:et()()},a.countDownTimer=void 0,-1!==a.state.count&&(a.countDownTimer=setInterval((function(){a.state.count>0&&a.setState((function(e){return{count:e.count-1}})),a.setState((function(){return{current:et()()}}))}),1e3)),a}return n}(r.a.Component)),La=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"getContestType",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.w).request();case 3:return t=e.sent,e.abrupt("return",t.contestTypes);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ra=r.a.createContext(),Ua=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).getContestType=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=a.state.contestTypes).length){e.next=7;break}return e.next=4,La.getContestType();case 4:return n=e.sent,a.setState({contestTypes:n}),e.abrupt("return",t);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)}))),a.getContestTypeName=function(e){var t=a.state.contestTypes.find((function(t){return t.Id===e}));return t?t.Name:""},a.getContestTypeId=function(e){return a.state.contestTypes.find((function(t){return t.Name===e})).Id},a.state={contestTypes:[],getContestType:a.getContestType,getContestTypeName:a.getContestTypeName,getContestTypeId:a.getContestTypeId},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getContestType();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.children;return r.a.createElement(Ra.Provider,{value:this.state},e)}}]),n}(r.a.Component),Aa=Na((function(e){var t=Object(a.useContext)(Ra).getContestTypeName,n=e.contest;return r.a.createElement(r.a.Fragment,null,r.a.createElement($e.a.Text,{style:{fontSize:"14px",fontWeight:"600",marginBottom:"10px"}},r.a.createElement("span",{className:"fas fa-clock"}),"\xa0\xa0\u0110ang di\u1ec5n ra"),r.a.createElement(R.a,{style:{margin:0,padding:0}},r.a.createElement(U.a,{style:{margin:0,padding:0}},["Registered","Joined"].includes(n.RegistrationStatus)&&r.a.createElement(d.a,{to:"/contests/".concat(n.Id)},r.a.createElement(F,{className:"w-75"},"V\xe0o thi")),["Ended"].includes(n.RegistrationStatus)&&"HIRING"!==t(n.ContestType)&&r.a.createElement(d.a,{to:"/contests/".concat(n.Id)},r.a.createElement(F,{className:"w-75"},"V\xe0o thi")),(!n.RegistrationStatus||"Unregistered"===n.RegistrationStatus)&&r.a.createElement("a",{href:Pa.getContestLink(n)},r.a.createElement(F,{className:"w-75"},"\u0110\u0103ng k\xfd"))),r.a.createElement(U.a,null,"HIRING"!==t(n.ContestType)&&r.a.createElement(d.a,{to:"/contests/".concat(n.Id,"?view=scoreboard")},r.a.createElement(F,{className:"w-75"},"Xem b\u1ea3ng x\u1ebfp h\u1ea1ng")))))})),Da=Na((function(e){var t=Object(a.useContext)(Ra).getContestTypeName,n=e.contest;return r.a.createElement(r.a.Fragment,null,r.a.createElement($e.a.Text,{style:{fontWeight:"600",fontSize:"14px",marginBottom:"10px"}},r.a.createElement("span",{className:"fas fa-clock"}),"\xa0\xa0\u0110\xe3 k\u1ebft th\xfac"),"HIRING"!==t(n.ContestType)&&"Code Tour 2019 - Code Challenge #02"!==n.Name&&"Code Tour 2019 - Code Challenge #01"!==n.Name&&r.a.createElement(R.a,{style:{margin:0,padding:0}},r.a.createElement(U.a,{style:{margin:0,padding:0}},r.a.createElement(d.a,{to:"/contests/".concat(n.Id,"?view=scoreboard")},r.a.createElement(F,{className:"single-contest-registered w-75"},"Xem b\u1ea3ng x\u1ebfp h\u1ea1ng"))),r.a.createElement(U.a,null)))})),Ma=function(e){return function(t){var n=t.contest,a=t.forceUpdate;return r.a.createElement($e.a,{style:{width:"100%",marginBottom:"20px"},className:"single-contest-mobile shadow-sm"},r.a.createElement(R.a,{style:{textAlign:"center",paddingTop:"20px"}},r.a.createElement(U.a,{style:{textAlign:"center"}},r.a.createElement($e.a.Img,{style:{width:"150px"},src:n.Logo||"./image/logo.svg"}))),r.a.createElement(R.a,{style:{textAlign:"center"}},r.a.createElement($e.a.Body,null,r.a.createElement($e.a.Title,{style:{fontWeight:"600",textAlign:"center",fontSize:"20px",marginBottom:"20px"}},n.Name),r.a.createElement($e.a.Text,{style:{fontSize:"14px",marginBottom:"20px"}},r.a.createElement("span",{className:"fas fa-hourglass-half"}),"\xa0\xa0Th\u1eddi gian thi"," ",r.a.createElement("br",null),r.a.createElement("span",{style:{fontWeight:"600"}},Sa(60*n.Duration))),r.a.createElement($e.a.Text,{style:{fontSize:"14px",marginBottom:"20px"}},r.a.createElement("span",{className:"fas fa-calendar-week"}),"\xa0\xa0Th\u1eddi gian b\u1eaft \u0111\u1ea7u"," ",r.a.createElement("br",null),r.a.createElement("span",{style:{fontWeight:"600"}},et()(n.StartTime).format("DD/MM/YYYY - HH:mm"))),r.a.createElement(e,{contest:n,forceUpdate:a}))))}},Fa=Ma((function(e){var t=Object(a.useContext)(Ra).getContestTypeName,n=e.contest;return r.a.createElement(r.a.Fragment,null,r.a.createElement($e.a.Text,{style:{fontSize:"14px",fontWeight:"600",marginBottom:"20px"}},r.a.createElement("span",{className:"fas fa-clock"}),"\xa0\xa0\u0110ang di\u1ec5n ra"),r.a.createElement(R.a,{style:{margin:0,padding:0}},r.a.createElement(U.a,{style:{margin:0,padding:0}},["Registered","Joined"].includes(n.RegistrationStatus)&&r.a.createElement(d.a,{to:"/contests/".concat(n.Id)},r.a.createElement(F,{className:"single-contest-mobile-button w-100"},"V\xe0o thi")),["Ended"].includes(n.RegistrationStatus)&&"HIRING"!==t(n.ContestType)&&r.a.createElement(d.a,{to:"/contests/".concat(n.Id)},r.a.createElement(F,{className:"single-contest-mobile-button w-100"},"V\xe0o thi")),(!n.RegistrationStatus||"Unregistered"===n.RegistrationStatus)&&r.a.createElement("a",{href:Pa.getContestLink(n)},r.a.createElement(F,{className:"single-contest-mobile-button w-100"},"\u0110\u0103ng k\xfd")))),"HIRING"!==t(n.ContestType)&&r.a.createElement(R.a,{style:{margin:0,padding:0}},r.a.createElement(U.a,{style:{margin:0,padding:0}},"HIRING"!==t(n.ContestType)&&r.a.createElement(d.a,{to:"/contests/".concat(n.Id,"?view=scoreboard")},r.a.createElement(F,{className:"single-contest-mobile-button w-100"},"Xem b\u1ea3ng x\u1ebfp h\u1ea1ng")))))})),Ba=Ma(function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentWillUnmount=function(){void 0!==a.countDownTimer&&clearInterval(a.countDownTimer)},a.componentDidUpdate=function(){var e=a.state.count,t=a.props.forceUpdate;0===e&&void 0!==a.countDownTimer&&(t(),clearInterval(a.countDownTimer),a.countDownTimer=void 0)},a.render=function(){var e=a.state,t=e.current,n=e.count,c=a.props.contest;return r.a.createElement("div",null,t.isBefore(et()(Number(c.ActiveTime)))&&r.a.createElement($e.a.Text,{style:{fontSize:"14px",marginBottom:"20px"}},r.a.createElement("span",{className:"fas fa-calendar-week"}),"\xa0\xa0Th\u1eddi gian m\u1edf \u0111\u0103ng k\xfd tham gia"," ",r.a.createElement("br",null),r.a.createElement("span",{style:{fontWeight:"600"}},et()(Number(c.ActiveTime)).format("DD/MM/YYYY - HH:mm"))),n>0&&r.a.createElement($e.a.Text,{style:{fontSize:"14px",marginBottom:"20px"}},r.a.createElement("span",{className:"fas fa-clock"}),"\xa0\xa0C\xf2n"," ",r.a.createElement("b",{style:{fontWeight:"600"}},Sa(Math.ceil(n))),r.a.createElement("br",null),"tr\u01b0\u1edbc khi b\u1eaft \u0111\u1ea7u k\u1ef3 thi"),et()().isAfter(Number(c.ActiveTime))&&r.a.createElement(R.a,{style:{margin:0,padding:0}},r.a.createElement(U.a,{style:{margin:0,padding:0}},(!c.RegistrationStatus||"Unregistered"===c.RegistrationStatus)&&r.a.createElement("a",{href:Pa.getContestLink(c)},r.a.createElement(F,{className:"single-contest-mobile-button w-100"},"\u0110\u0103ng k\xfd")),"Registered"===c.RegistrationStatus&&r.a.createElement(F,{className:"single-contest-mobile-button w-100",disabled:!0},"\u0110\xe3 \u0111\u0103ng k\xfd"))))},a.state={count:"Registration opened"===a.props.contest.ContestStatus?Math.floor(et.a.duration(et()(a.props.contest.StartTime).diff(et()())).asSeconds()):-1,current:et()()},a.countDownTimer=void 0,-1!==a.state.count&&(a.countDownTimer=setInterval((function(){a.state.count>0&&a.setState((function(e){return{count:e.count-1}})),a.setState((function(){return{current:et()()}}))}),1e3)),a}return n}(r.a.Component)),qa=Ma((function(e){var t=Object(a.useContext)(Ra).getContestTypeName,n=e.contest;return r.a.createElement(r.a.Fragment,null,r.a.createElement($e.a.Text,{style:{fontWeight:"600",fontSize:"14px",marginBottom:"20px"}},r.a.createElement("span",{className:"fas fa-clock"}),"\xa0\xa0\u0110\xe3 k\u1ebft th\xfac"),"HIRING"!==t(n.ContestType)&&"Code Tour 2019 - Code Challenge #02"!==n.Name&&"Code Tour 2019 - Code Challenge #01"!==n.Name&&r.a.createElement(R.a,{style:{margin:0,padding:0}},r.a.createElement(U.a,{style:{margin:0,padding:0}},r.a.createElement(d.a,{to:"/contests/".concat(n.Id,"?view=scoreboard")},r.a.createElement(F,{className:"single-contest-mobile-button"},"Xem b\u1ea3ng x\u1ebfp h\u1ea1ng")))))})),Ha=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onBrowserWidthChange=function(){a.setState((function(){return{width:window.innerWidth}}))},a.componentDidMount=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.context.startFetchContests,e.next=3,a.setState((function(){return{isLoading:!0}}));case 3:return e.prev=3,e.next=6,t();case 6:a.setState((function(){return{isLoading:!1}})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a.setState((function(){return{isLoading:!1}}));case 12:case"end":return e.stop()}}),e,null,[[3,9]])}))),a.componentWillUnmount=function(){window.removeEventListener("resize",a.onBrowserWidthChange)},a.onChangeSearchQuery=function(e){a.setState((function(){return{searchQuery:e}}))},a.onChangeFilterStatus=function(e){a.setState((function(){return{filterStatus:e}}))},a.onChangeFilterType=function(e){a.setState((function(){return{filterType:e}}))},a.filterContests=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=a.state,n=t.searchQuery,r=t.filterType;return e.filter((function(e){return e.Name.toLowerCase().includes(n)&&e.ContestType.Name.includes(r)}))},a.renderUpcomingContests=function(){var e=a.state.width,t=a.context,n=t.moveContestFromNotStartToRunning,c=t.upcomingContests;if(0===c.length)return r.a.createElement("p",{style:{textAlign:"center"}},"Kh\xf4ng c\xf3 k\u1ef3 thi n\xe0o s\u1eafp t\u1edbi.");var s=a.filterContests(c);return 0===s.length?r.a.createElement("p",{style:{textAlign:"center"}},"Kh\xf4ng t\xecm th\u1ea5y k\u1ef3 thi."):e>=1e3?s.map((function(e){return r.a.createElement(Ta,{key:e.Id,contest:e,forceUpdate:function(){return n(e.Id)}})})):s.map((function(e){return r.a.createElement(Ba,{key:e.Id,contest:e,forceUpdate:function(){return n(e.Id)}})}))},a.renderRunningContests=function(){var e=a.state.width,t=a.context.runningContests;if(0===t.length)return r.a.createElement("p",{style:{textAlign:"center"}},"Kh\xf4ng c\xf3 k\u1ef3 thi n\xe0o \u0111ang di\u1ec5n ra.");var n=a.filterContests(t);return 0===n.length?r.a.createElement("p",{style:{textAlign:"center"}},"Kh\xf4ng t\xecm th\u1ea5y k\u1ef3 thi."):e>=1e3?n.map((function(e){return r.a.createElement(Aa,{key:e.Id,contest:e})})):n.map((function(e){return r.a.createElement(Fa,{key:e.Id,contest:e})}))},a.renderFinishedContests=function(){var e=a.state.width,t=a.context.endedContests;if(0===t.length)return r.a.createElement("p",{style:{textAlign:"center"}},"Kh\xf4ng c\xf3 k\u1ef3 thi n\xe0o \u0111\xe3 k\u1ebft th\xfac.");var n=a.filterContests(t);return 0===n.length?r.a.createElement("p",{style:{textAlign:"center"}},"Kh\xf4ng t\xecm th\u1ea5y k\u1ef3 thi."):e>=1e3?n.map((function(e){return r.a.createElement(Da,{key:e.Id,contest:e})})):n.map((function(e){return r.a.createElement(qa,{key:e.Id,contest:e})}))},a.render=function(){var e=a.state,t=e.width,n=e.isLoading,c=e.filterStatus;return r.a.createElement("div",null,r.a.createElement(ce,{nav:[["Home","/"],["Contests","/contests"]]}),r.a.createElement(ka.Consumer,null,(function(e){return a.context=e,n?r.a.createElement($,null,r.a.createElement(L.a,null,r.a.createElement(ue,null))):r.a.createElement($,null,t>=1e3&&r.a.createElement(U.a,{className:"col-sm-1"}),r.a.createElement(U.a,{className:t>=1e3?"col-sm-10":"col-sm-12"},r.a.createElement("br",null),!c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{style:{fontWeight:"600",textAlign:t>=1e3?"left":"center"}},"K\u1ef3 thi \u0111ang di\u1ec5n ra"),a.renderRunningContests(),r.a.createElement("br",null),r.a.createElement("h2",{style:{fontWeight:"600",textAlign:t>=1e3?"left":"center"}},"K\u1ef3 thi s\u1eafp t\u1edbi"),a.renderUpcomingContests(),r.a.createElement("br",null),r.a.createElement("h2",{style:{fontWeight:"600",textAlign:t>=1e3?"left":"center"}},"K\u1ef3 thi \u0111\xe3 k\u1ebft th\xfac"),a.renderFinishedContests()),"Running"===c&&a.renderRunningContests(),"Registration opened"===c&&a.renderUpcomingContests(),"Ended"===c&&a.renderFinishedContests()),t>=1e3&&r.a.createElement(U.a,{className:"col-sm-1"}))})))},a.state={isLoading:!0,searchQuery:"",filterStatus:"",filterType:"",width:window.innerWidth},a.context=ka,window.addEventListener("resize",a.onBrowserWidthChange),a}return n}(r.a.Component),Wa=r.a.createContext(),Va=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).startFetchContest=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pa.getContestDetailsForUesr(t);case 2:return n=e.sent,e.next=5,a.setState({contest:new jt(n)});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.fetchContestProblem=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.contest,e.next=3,ke.getContestProblem(n.Id,t);case 3:r=e.sent,c=a.state.container,r&&c.add(r),a.setState((function(){return{container:c}}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getContestProblem=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchContestProblem(t);case 2:return n=a.state.container,e.abrupt("return",n.getId(parseInt(t,10)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={contest:null,startFetchContest:a.startFetchContest,container:new fe,getContestProblem:a.getContestProblem},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(Wa.Provider,{value:this.state},e)}}]),n}(r.a.Component),za=n(162),Ga=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).calculateJoinTime=function(){var e=a.props.contest;return"HIRING"===a.getContestTypeName(e.ContestType)?et()(e.ParticipateTime):et()(e.StartTime)},a.startCountDown=function(){var e=a.props.contest,t=a.state.current,n=a.calculateJoinTime();a.countDownInterval=setInterval((function(){var r=et()(t+1e3),c=et.a.duration(r.diff(n)).asSeconds();a.setState((function(){return{current:r,countDown:c/(60*e.Duration)*100,leftTime:Sa(Math.round(c)),remainingTime:Sa(Math.round(60*e.Duration-c))}}))}),1e3)},a.componentDidMount=function(){var e=a.props.contest;"Running"===e.ContestStatus?a.startCountDown():a.setState((function(){return{countDown:100,leftTime:Sa(60*e.Duration),remainingTime:"\u0111\xe3 h\u1ebft gi\u1edd"}}))},a.componentDidUpdate=function(){var e=a.props.contest;void 0!==a.countDownInterval&&(60*parseInt(e.Duration,10)-et.a.duration(et()().diff(a.calculateJoinTime())).asSeconds()<=0&&(clearInterval(a.countDownInterval),alert("K\u1ef3 thi n\xe0y \u0111\xe3 k\u1ebft th\xfac."),window.location.replace("/contests/".concat(e.Id))))},a.componentWillUnmount=function(){void 0!==a.countDownInterval&&clearInterval(a.countDownInterval)},a.render=function(){var e=a.props.contest,t=a.state,n=t.leftTime,c=t.countDown,s=t.remainingTime;return r.a.createElement(Ra.Consumer,null,(function(t){var o=t.getContestTypeName;return a.getContestTypeName=o,r.a.createElement(U.a,{className:"col-md-12 mb-4"},r.a.createElement($e.a,{className:"w-100 shadow-sm"},r.a.createElement($e.a.Body,null,r.a.createElement(R.a,{style:{textAlign:"center"}},r.a.createElement(U.a,null,r.a.createElement("h1",{style:{marginBottom:"10px"}},e.Name),r.a.createElement(za.a,{variant:"success",animated:!0,now:c}))),r.a.createElement(R.a,{style:{marginTop:"10px"}},r.a.createElement(U.a,null,"Th\u1eddi gian \u0111\xe3 qua:",r.a.createElement("b",null,n)),r.a.createElement(U.a,{style:{textAlign:"right"}},"Th\u1eddi gian c\xf2n l\u1ea1i:",r.a.createElement("b",null,s))))))}))},a.state={current:a.props.contest.CurrentTime,countDown:0,leftTime:r.a.createElement("span",{className:"fas fa-spin fa-spinner m-auto"}),remainingTime:r.a.createElement("span",{className:"fas fa-spin fa-spinner m-auto"})},a.countDownInterval=void 0,a}return n}(r.a.Component),Ya=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetchSubmissionListAtSpecificPage=Object(b.a)(h.a.mark((function e(){var t,n,r,c,s,o=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:1,(n=!(o.length>1&&void 0!==o[1])||o[1])&&a.setState((function(){return{isLoading:!0}})),e.next=5,Pa.getContestSubmissions(a.props.contestId,t);case 5:r=e.sent,c=r.submissions,s=r.totalSubmissions,a.setState((function(){return{submissions:c,totalSubmissions:s,currentPage:t}})),n&&a.setState((function(){return{isLoading:!1}}));case 10:case"end":return e.stop()}}),e)}))),a.state=Object(H.a)(Object(H.a)({},a.state),{},{linkToDetail:"contests/".concat(e.contestId,"/submissions/")}),a}return n}(ba),Qa=function(e){var t=e.contestId;return r.a.createElement("div",{className:"p-2"},r.a.createElement(Ya,{contestId:t,showProblemName:!0,autoRefresh:!0}))},Ka=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).toggleAdmin=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.isAdmin,e.next=3,a.setState({isAdmin:!t});case 3:return e.next=5,a.setState({isRefreshing:!0});case 5:return e.next=7,a.setState({isRefreshing:!1});case 7:case"end":return e.stop()}}),e)}))),a.state={isAdmin:!1,isRefreshing:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.isAdmin,a=t.isRefreshing,c=this.props,s=c.IOI,o=c.ACM,u=c.contestId,l=c.problems,i=c.service;return r.a.createElement(O.Consumer,null,(function(t){var c=t.verifyModerator;return r.a.createElement("div",{style:{width:"100%"}},c()&&r.a.createElement(qn,{label:"Admin",className:"green",name:"isAdmin",labelClassName:"font-weight-bold",checked:n,onChange:e.toggleAdmin}),r.a.createElement("div",{className:"border corner p-1 mb-1 float-right"},r.a.createElement("span",{className:"first-solved corner mr-1"},"\xa0\xa0\xa0\xa0\xa0"),"First to solve problem",r.a.createElement("span",{className:"solved corner mr-1 ml-2"},"\xa0\xa0\xa0\xa0\xa0"),"Solved problem",r.a.createElement("span",{className:"wrong-answer corner mr-1 ml-2"},"\xa0\xa0\xa0\xa0\xa0"),"Attempted problem",r.a.createElement("span",{className:"pending corner mr-1 ml-2"},"\xa0\xa0\xa0\xa0\xa0"),"Pending problem"),a&&r.a.createElement("div",null)||r.a.createElement(V,{style:{width:"100%",paddingTop:"1.0rem"}},s&&r.a.createElement(mn,{service:i,contestId:u,isAdmin:n}),o&&r.a.createElement(fn,{problems:l})))}))}}]),n}(r.a.Component);Ka.defaultProps={IOI:!1,ACM:!1,contestId:0,problems:[],service:void 0};var _a=Ka,Ja=function(e){var t=e.contestId;return r.a.createElement("div",{className:"p-2"},r.a.createElement(_a,{IOI:!0,contestId:t,service:Pa}))},Xa=function(e){var t=e.problems,n=t.reduce((function(e,t){return e+t.BestSubmission.Score}),0),a=parseInt(100*n,10)/100,c=t.filter((function(e){return"Accepted"===e.BestSubmission.Verdict})).length;return r.a.createElement("div",null,r.a.createElement("table",{className:"basic-component-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center",style:{background:"#3498db"}},"K\u1ebft qu\u1ea3"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"p-2"},r.a.createElement("strong",null," S\u1ed1 \u0111i\u1ec3m \u0111\u1ea1t \u0111\u01b0\u1ee3c: "),a," ","\u0111i\u1ec3m"),r.a.createElement("div",{className:"p-2"},r.a.createElement("strong",null," S\u1ed1 b\xe0i \u0111\xe3 gi\u1ea3i: "),c,"/",t.length))))))},$a=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(b.a)(h.a.mark((function e(){var t,n,r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.contestId,e.prev=1,n=new y.a("get",k.r,{id:t},null,!0),e.next=5,n.request();case 5:for(r=e.sent.Problems.sort((function(e,t){return e.Order-t.Order})),c=[],s=0;s<r.length;++s)c.push(-1);a.setState((function(){return{problems:r,isFetched:!0}})),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,null,[[1,11]])}))),a.result=function(e){var t=parseInt(100*e.Score,10)/100;return"Accepted"===e.Verdict?r.a.createElement("td",{className:"green text-center"},r.a.createElement("strong",null,t," ",r.a.createElement("span",{className:"far fa-check-circle"}))):t>0?r.a.createElement("td",{className:"text-warning text-center"},r.a.createElement("strong",null,t," ",r.a.createElement("span",{className:"far fa-check-circle"}))):0===t?r.a.createElement("td",{className:"text-danger text-center"},r.a.createElement("strong",null,t," ",r.a.createElement("span",{className:"far fa-times-circle"}))):void 0},a.render=function(){var e=a.state,t=e.isFetched,n=e.problems,c=a.props.contestId;return r.a.createElement("div",{className:"p-2"},!t&&r.a.createElement(ue,null),t&&r.a.createElement(R.a,null,r.a.createElement(U.a,{md:9,className:"pl-0"},r.a.createElement("table",{className:"basic-component-table bg-white"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"}},"#"),r.a.createElement("th",{style:{width:"80%"}},"T\xean b\xe0i"),r.a.createElement("th",{style:{textAlign:"center"}},"K\u1ebft qu\u1ea3"))),r.a.createElement("tbody",null,n.map((function(e){return r.a.createElement("tr",{key:e.Id},r.a.createElement("td",{className:"py-3"},r.a.createElement(d.a,{to:"/contests/".concat(c,"/problems/").concat(e.Id)},String.fromCharCode(e.Rank+64))),r.a.createElement("td",null,r.a.createElement(d.a,{to:"/contests/".concat(c,"/problems/").concat(e.Id)},e.Name)),a.result(e.BestSubmission))}))))),r.a.createElement(U.a,{md:3,className:"pr-0"},r.a.createElement(Xa,{problems:n}))))},a.state={isFetched:!1,problems:[]},a}return n}(r.a.Component),Za=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetchSubmissionListAtSpecificPage=Object(b.a)(h.a.mark((function e(){var t,n,r,c,s,o=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:1,(n=!(o.length>1&&void 0!==o[1])||o[1])&&a.setState((function(){return{isLoading:!0}})),e.next=5,Pa.getProblemContestSubmissions(a.props.contestId,a.props.problemId,t);case 5:r=e.sent,c=r.submissions,s=r.totalSubmissions,a.setState((function(){return{submissions:c,totalSubmissions:s,currentPage:t}})),n&&a.setState((function(){return{isLoading:!1}}));case 10:case"end":return e.stop()}}),e)}))),a.state=Object(H.a)(Object(H.a)({},a.state),{},{linkToDetail:"contests/".concat(e.contestId,"/problems/").concat(e.problemId,"/submissions/")}),a}return n}(ba),er=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(b.a)(h.a.mark((function e(){var t,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.context.getContestProblem,n=a.props.match,e.prev=2,e.next=5,t(n.params.id);case 5:if(!(r=e.sent)){e.next=10;break}a.setState((function(){return{problem:r,isProblemFetched:!0}})),e.next=11;break;case 10:throw new Error("");case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),T.a.push("/contests/".concat(n.params.contestId)),a.setState((function(){return{hasError:!0,isProblemFetched:!0}}));case 17:case"end":return e.stop()}}),e,null,[[2,13]])}))),a.render=function(){return r.a.createElement(Wa.Consumer,null,(function(e){a.context=e;var t=a.state,n=t.isProblemFetched,c=t.hasError,s=t.problem,o=a.props.match;return n?c?r.a.createElement(de,null):n&&!c?r.a.createElement("div",{className:"container p-0"},r.a.createElement(R.a,null,r.a.createElement(J,{className:"pl-0",md:9},r.a.createElement($e.a,{className:"shadow-sm corner"},r.a.createElement(nn,{controlKey:"problem_view"},r.a.createElement(Jn,{route:"statement",title:"\u0110\u1ec1 b\xe0i",problem:s}),r.a.createElement("div",{route:"submissions",title:"B\xe0i n\u1ed9p c\u1ee7a t\xf4i"},r.a.createElement(Za,{problemId:s.Id,contestId:o.params.contestId}))))),r.a.createElement(X,{className:"pr-0",md:3},r.a.createElement($n,{problem:s})))):void 0:r.a.createElement(ue,null)}))},a.state={isProblemFetched:!1,hasError:!1,problem:void 0},a.context=Wa,a}return n}(r.a.Component),tr=n(13),nr=function(e){return new Bt({ContestId:e,UserId:Object(v.a)("Id"),Username:Object(v.a)("Username"),Title:"",Question:"",Answer:"",IsAnswered:!1,IsPublic:!1,createdAt:(new Date).getTime()})},ar=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"getClarification",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.c,{id:t},null,!0).request();case 3:return n=e.sent,e.abrupt("return",n.clarifications.map((function(e){return new Bt(e)})).sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addClarification",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,r){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("post",k.c,{id:t},{Title:n,Question:a,IsPublic:r,Username:Object(v.a)("Username")},!0).request();case 3:return c=e.sent,e.abrupt("return",c);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a,r){return e.apply(this,arguments)}}()}]),e}(),rr=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"getClarification",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("get",k.c,{id:t}).request();case 3:return n=e.sent,e.abrupt("return",n.clarifications.map((function(e){return new Bt(e)})).sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addClarification",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("post",k.c,{id:t},{Title:n,Answer:a,IsPublic:!0,IsAnswered:!0}).request();case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"updateClarification",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("put",k.d,{id:t,clarificationId:n},{Answer:a,IsPublic:r}).request();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"deleteClarification",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("delete",k.d,{id:t,clarificationId:n}).request();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),cr=r.a.createContext(),sr=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).stopFetching=function(){a.timer&&Object(Zn.a)(a.timer),a.timer=void 0},a.startFetching=function(){a.getClarification(),a.timer=Object(Zn.b)(Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getClarification();case 2:case"end":return e.stop()}}),e)}))),5e3)},a.componentDidMount=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.startFetching();case 2:case"end":return e.stop()}}),e)}))),a.notificationFooter=function(){var e=a.props.contest;return r.a.createElement("div",null,r.a.createElement(F,{className:"bg-light-pink",onClick:a.clearError},"\u0110\xf3ng"),"\xa0",r.a.createElement(d.a,{to:"/contests/".concat(e.Id,"?view=clarification")},r.a.createElement(F,{className:"bg-light-blue",onClick:a.clearError},"Xem th\xf4ng b\xe1o")))},a.handleNotification=function(){var e=a.props.contest;if(!et()(e.CurrentTime).isAfter(e.EndTime)){te.read("clarification")||te.write("clarification",{}),te.read("readClarification")||te.write("readClarification",{}),te.read("showNotification")||te.write("showNotification",!1);var t,n=te.read("clarification"),r=te.read("readClarification"),c=!1,s=a.state.clarification,o=Object(He.a)(s);try{for(o.s();!(t=o.n()).done;){var u=t.value;Object.prototype.hasOwnProperty.call(n,u.Id)?n[u.Id]!==u.IsAnswered&&(te.write("showNotification",!0),c=u.Username===Object(v.a)("Username")?2:1,r[u.Id]=!1,n[u.Id]=u.IsAnswered):(te.write("showNotification",!0),u.Username!==Object(v.a)("Username")&&(Object.prototype.hasOwnProperty.call(r,u.Id)||(c=1)),n[u.Id]=u.IsAnswered)}}catch(l){o.e(l)}finally{o.f()}c&&te.read("showNotification")&&(1===c?a.setState({message:"C\xf3 th\xf4ng b\xe1o ho\u1eb7c c\xe2u h\u1ecfi m\u1edbi trong m\u1ee5c h\u1ecfi/\u0111\xe1p!",footer:a.notificationFooter()}):a.setState({message:"Admin v\u1eeba tr\u1ea3 l\u1eddi c\xe2u h\u1ecfi c\u1ee7a b\u1ea1n!",footer:a.notificationFooter()}),te.write("showNotification",!1)),te.write("clarification",n),te.write("readClarification",r)}},a.readClarification=function(e){te.read("readClarification")||te.write("readClarification",{});var t=te.read("readClarification");t[e]=!0,te.write("readClarification",t)},a.getClarification=function(){var e=Object(b.a)(h.a.mark((function e(t,n){var r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n&&(a.setFetched=t,a.setClarification=n),r=a.props.contest,c=r.Id,!C.verifyModerator()){e.next=9;break}return e.next=6,rr.getClarification(c);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,ar.getClarification(c);case 11:e.t0=e.sent;case 12:return s=e.t0,a.setState({clarification:s}),a.handleNotification(),a.setFetched&&(a.setFetched(!1),a.setClarification(s),a.setFetched(!0)),e.abrupt("return",s);case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.addClarification=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r,c,s,o,u,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.ContestId,r=t.Title,c=t.Question,s=t.Answer,!C.verifyModerator()){e.next=7;break}return e.next=4,rr.addClarification(n,r,s);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,ar.addClarification(n,r,c);case 9:e.t0=e.sent;case 10:o=e.t0,u=a.state.clarification,"string"===typeof o?a.setState({error:o}):(u.unshift(o.clarification),(l=te.read("readClarification"))[o.clarification.Id]=o.clarification.IsAnswered,te.write("readClarification",l),a.setState({clarification:u,message:C.verifyModerator()?"Th\xf4ng b\xe1o \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u0103ng":"C\xe2u h\u1ecfi \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u0103ng!",footer:void 0}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.updateClarification=function(){var e=Object(b.a)(h.a.mark((function e(t,n){var r,c,s,o,u,l,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.contestId,c=t.Id,s=t.IsPublic,(o=t.Answer)&&(u=te.read("readClarification"),(l=te.read("clarification"))[c]=!0,u[c]=!0,te.write("readClarification",u),te.write("clarification",l)),e.next=4,rr.updateClarification(r,c,o,s);case 4:(i=e.sent)?a.setState({error:i,footer:void 0}):n&&a.setState({message:"\u0110\xe3 c\u1eadp nh\u1eadt!",footer:void 0});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.clearError=function(){a.setState({error:"",message:"",footer:void 0})},a.state={clarification:[],error:"",message:"",timer:void 0,footer:void 0,notification:!1,getClarification:a.getClarification,addClarification:a.addClarification,updateClarification:a.updateClarification,startFetching:a.startFetching,stopFetching:a.stopFetching,readClarification:a.readClarification},a.timer=void 0,a}return Object(u.a)(n,[{key:"componentWillUnmount",value:function(){this.stopFetching()}},{key:"render",value:function(){var e=this.state,t=e.message,n=e.error,a=e.footer,c=this.props.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(cr.Provider,{value:this.state},c),(n.length>0||t.length>0)&&r.a.createElement(Fe,{title:"H\u1ecfi/\u0111\xe1p",clearError:this.clearError,message:t,error:n,Footer:a}))}}]),n}(r.a.Component),or=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onChange=function(e){var t=e.target.value,n=e.target.name,r=a.state.clarification;r[n]=t,a.setState({clarification:r})},a.onSave=function(){var e=a.state.clarification,t=a.props.contestId;""===e.Title.trim()||!C.verifyModerator()&&""===e.Question.trim()||(a.setState({isSaving:!0}),a.clarificationContext.addClarification(e),a.setState({isSaving:!1,showModal:!1,clarification:be.a.cloneDeep(nr(t))}),a.clarificationContext.startFetching())},a.openModal=function(){var e=a.props.contestId;a.clarificationContext.stopFetching(),a.setState({showModal:!0,clarification:be.a.cloneDeep(nr(e))})},a.closeModal=function(){var e=a.props.contestId;a.clarificationContext.startFetching(),a.setState({showModal:!1,clarification:be.a.cloneDeep(nr(e))})},a.state={clarification:be.a.cloneDeep(nr(e.contestId)),isSaving:!1,showModal:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.showModal,a=t.isSaving,c=t.clarification;return r.a.createElement(cr.Consumer,null,(function(t){return e.clarificationContext=t,r.a.createElement("div",null,r.a.createElement(F,{className:"bg-light-blue mb-2 p-2",onClick:e.openModal},r.a.createElement("strong",null,r.a.createElement("span",{className:"fas fa-plus-circle"})," ","\u0110\u0103ng c\xe2u h\u1ecfi")),r.a.createElement(De,{title:"\u0110\u0103ng c\xe2u h\u1ecfi",show:n,onHide:e.closeModal,closebutton:!0,footer:r.a.createElement("div",{className:"py-2 px-3 d-flex justify-content-between w-100"},r.a.createElement("em",null,"Admin s\u1ebd tr\u1ea3 l\u1eddi th\u1eafc m\u1eafc c\u1ee7a b\u1ea1n trong v\xf2ng v\xe0i ph\xfat."),r.a.createElement("div",{className:"float-right"},r.a.createElement(F,{className:"bg-light-blue",onClick:e.onSave,disabled:a},a&&r.a.createElement("span",{className:"fas fa-spin fa-spinner"})||r.a.createElement("span",{style:{fontSize:"16px"}}," \u0110\u0103ng c\xe2u h\u1ecfi"))))},r.a.createElement($e.a,{classNam:"border corner"},r.a.createElement($e.a.Body,null,r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"Ti\xeau \u0111\u1ec1 c\xe2u h\u1ecfi")),r.a.createElement(tr.a.Control,{type:"text",name:"Title",value:c.Title,onChange:e.onChange})),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"N\u1ed9i dung c\xe2u h\u1ecfi")),r.a.createElement(la,{mode:"markdown",theme:"default",name:"Question",value:c.Question,onChange:e.onChange}))))))}))}}]),n}(r.a.Component),ur=function(e){var t=e.width,n=e.className,a=e.children;return r.a.createElement("table",{className:"basic-component-table ".concat(n),style:t?{width:t.toString()}:null},a)};ur.defaultProps={width:null,className:""};var lr=ur,ir=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).openModal=function(){var e=a.props.clarification;a.clarificationContext.stopFetching(),a.clarificationContext.readClarification(e.Id),a.setState({showModal:!0})},a.closeModal=function(){a.clarificationContext.startFetching(),a.setState({showModal:!1})},a.state={showModal:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state.showModal,n=this.props.clarification,a=n.Id,c=n.Username,s=n.Title,o=n.Question,u=n.Answer,l=n.createdAt,i=n.IsAnswered;return r.a.createElement(cr.Consumer,null,(function(n){return e.clarificationContext=n,r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:"single-clarification",onClick:e.openModal},r.a.createElement("td",{style:{textAlign:"left"}},c),r.a.createElement("td",{style:{textAlign:"center"}},et()(l).format("hh:mm")),r.a.createElement("td",{style:{textAlign:"left"}},!0===te.read("readClarification")[a]&&s||r.a.createElement("strong",null,s)),r.a.createElement("td",{className:"text-center"},i&&r.a.createElement("span",{className:"fas fa-check-circle green"}))),r.a.createElement(De,{title:"H\u1ecfi \u0111\xe1p",show:t,onHide:e.closeModal,closebutton:1},r.a.createElement("strong",null,s),r.a.createElement("br",null),r.a.createElement("span",null,c,","," ",et()(l).format("hh:mm DD/MM/YYYY")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("em",null,"N\u1ed9i dung:"),r.a.createElement(Sn,{value:o}),u&&r.a.createElement(r.a.Fragment,null,r.a.createElement("em",null,"Tr\u1ea3 l\u1eddi:"),r.a.createElement(Sn,{value:u}))||r.a.createElement("em",null,"C\xe2u h\u1ecfi ch\u01b0a \u0111\u01b0\u1ee3c tr\u1ea3 l\u1eddi.")))}))}}]),n}(r.a.Component),mr=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).openModal=function(){var e=a.props.clarification;a.clarificationContext.stopFetching(),a.clarificationContext.readClarification(e.Id),a.setState({showModal:!0})},a.closeModal=function(){a.clarificationContext.startFetching(),a.setState({showModal:!1})},a.state={showModal:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.clarification,n=t.Id,a=t.Username,c=t.Title,s=t.Answer,o=t.createdAt,u=this.state.showModal;return r.a.createElement(cr.Consumer,null,(function(t){return e.clarificationContext=t,r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:"single-clarification",onClick:e.openModal},r.a.createElement("td",{style:{textAlign:"left"}},a),r.a.createElement("td",{style:{textAlign:"center"}},et()(o).format("hh:mm")),r.a.createElement("td",{style:{textAlign:"left"}},!0===te.read("readClarification")[n]&&c||r.a.createElement("strong",null,c)),r.a.createElement("td",null)),r.a.createElement(De,{title:"H\u1ecfi \u0111\xe1p",show:u,onHide:e.closeModal,closebutton:1},r.a.createElement("div",{className:"mx-3 mt-2"},r.a.createElement("strong",null,c),r.a.createElement("br",null),r.a.createElement("span",null,a,",",et()(o).format("hh:mm DD/MM/YYYY")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("em",null,"N\u1ed9i dung:"),r.a.createElement(Sn,{value:s}))))}))}}]),n}(r.a.Component),pr=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onChange=function(e){var t=e.target.name,n=e.target.value;"boolean"===typeof n&&(n=!0===n?"1":"0");var r=a.state.clarification;r[t]=n,a.setState({clarification:r})},a.onSave=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.state.clarification,a.setState({isSaving:!0}),a.clarificationContext.updateClarification(t,!0),a.setState({isSaving:!1}),a.clarificationContext.startFetching();case 5:case"end":return e.stop()}}),e)}))),a.openModal=function(){var e=a.props.clarification;a.clarificationContext.stopFetching(),a.clarificationContext.readClarification(e.Id),a.setState({showModal:!0})},a.closeModal=function(){a.clarificationContext.startFetching(),a.setState({showModal:!1})},a.state={showModal:!1,clarification:be.a.cloneDeep(a.props.clarification),isSaving:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.clarification,a=t.showModal,c=t.isSaving,s=n.Id,o=n.Username,u=n.Title,l=n.Question,i=n.Answer,m=n.IsPublic,p=n.createdAt,d=n.IsAnswered;return r.a.createElement(cr.Consumer,null,(function(t){return e.clarificationContext=t,r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:"single-clarification",onClick:e.openModal},r.a.createElement("td",{style:{textAlign:"left"}},o),r.a.createElement("td",{style:{textAlign:"center"}},et()(p).format("hh:mm")),r.a.createElement("td",{style:{textAlign:"left"}},!0===te.read("readClarification")[s]&&u||r.a.createElement("strong",null,u)),r.a.createElement("td",{className:"text-center"},d&&r.a.createElement("span",{className:"fas fa-check-circle green"}))),r.a.createElement(De,{title:"H\u1ecfi \u0111\xe1p",show:a,onHide:e.closeModal,closebutton:1},r.a.createElement("strong",null,u),r.a.createElement("br",null),r.a.createElement("span",null,o,","," ",et()(p).format("hh:mm DD/MM/YYYY")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("em",null,"N\u1ed9i dung:"),r.a.createElement(Sn,{value:l}),r.a.createElement("em",null,"Tr\u1ea3 l\u1eddi:"),e.props.clarification.Answer?r.a.createElement(r.a.Fragment,null,r.a.createElement(Sn,{value:i})):r.a.createElement(la,{mode:"markdown",theme:"default",name:"Answer",value:i,onChange:e.onChange}),r.a.createElement("div",{className:"float-right mt-2"},r.a.createElement(qn,{label:"C\xf4ng khai",name:"IsPublic",className:"green",labelClassName:"font-weight-bold",checked:1==m,onChange:e.onChange}),"\xa0\xa0",r.a.createElement(F,{className:"bg-light-blue",onClick:e.onSave,disabled:c},c&&r.a.createElement("span",{className:"fas fa-spin fa-spinner"})||r.a.createElement("span",{style:{fontSize:"16px"}}," L\u01b0u thay \u0111\u1ed5i")))))}))}}]),n}(r.a.Component),dr=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).setFetched=function(e){a.setState({fetched:e})},a.setClarification=function(e){a.setState({clarification:e})},a.state={fetched:!1,clarification:[]},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.clarificationContext.getClarification(this.setFetched,this.setClarification);case 2:t=e.sent,this.setState({clarification:t,fetched:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.fetched,a=t.clarification;return r.a.createElement(cr.Consumer,null,(function(t){return e.clarificationContext=t,n?r.a.createElement("div",null,r.a.createElement(lr,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{textAlign:"left",width:"15%"}},"Ng\u01b0\u1eddi g\u1eedi"),r.a.createElement("th",{style:{textAlign:"center",width:"10%"}},"Th\u1eddi gian"),r.a.createElement("th",{style:{textAlign:"left",width:"65%"}},"Ti\xeau \u0111\u1ec1"),r.a.createElement("th",{style:{textAlign:"center",width:"10%"}},"\u0110\xe3 tr\u1ea3 l\u1eddi"))),r.a.createElement("tbody",null,a.map((function(e){var t=C.verifyModerator()?r.a.createElement(pr,{clarification:e,key:"cla-".concat(e.Id)}):r.a.createElement(ir,{clarification:e,key:"cla-".concat(e.Id)});return e.Question?t:r.a.createElement(mr,{clarification:e,key:"cla-".concat(e.Id)})}))))):r.a.createElement(ue,null)}))}}]),n}(r.a.Component),fr=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(cr.Consumer,null,(function(t){return e.clarificationContext=t,r.a.createElement("div",null,r.a.createElement(F,{className:"bg-light-blue mb-2 p-2",onClick:e.openModal},r.a.createElement("strong",null,r.a.createElement("span",{className:"fas fa-plus-circle"})," ","\u0110\u0103ng th\xf4ng b\xe1o")),r.a.createElement(De,{title:"\u0110\u0103ng th\xf4ng b\xe1o",show:e.state.showModal,onHide:e.closeModal,closebutton:1,footer:r.a.createElement("div",{className:"py-2 px-3"},r.a.createElement("div",{className:"float-right"},r.a.createElement(F,{className:"bg-light-blue",onClick:e.onSave,disabled:e.state.isSaving},e.state.isSaving&&r.a.createElement("span",{className:"fas fa-spin fa-spinner"})||r.a.createElement("span",{style:{fontSize:"16px"}}," \u0110\u0103ng th\xf4ng b\xe1o"))))},r.a.createElement($e.a,{className:"border corner"},r.a.createElement($e.a.Body,null,r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"Ti\xeau \u0111\u1ec1")),r.a.createElement(tr.a.Control,{type:"text",name:"Title",value:e.state.clarification.Title,onChange:e.onChange})),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"Th\xf4ng b\xe1o")),r.a.createElement(la,{mode:"markdown",theme:"default",name:"Answer",value:e.state.clarification.Answer,onChange:e.onChange}))))))}))}}]),n}(or),hr=function(e){var t=Object(a.useContext)(O).verifyModerator;return r.a.createElement("div",{className:"p-2"},t()?r.a.createElement(fr,e):r.a.createElement(or,e),r.a.createElement(dr,e))},br=function(e){var t=e.validViews,n=e.contestId;return r.a.createElement(nn,{controlKey:"view"},t.includes("problems")&&r.a.createElement($a,{route:"problems",title:"\u0110\u1ec1 b\xe0i",contestId:n}),t.includes("submissions")&&r.a.createElement(Qa,{route:"submissions",title:"B\xe0i n\u1ed9p c\u1ee7a t\xf4i",contestId:n}),t.includes("scoreboard")&&r.a.createElement(Ja,{route:"scoreboard",title:"B\u1ea3ng x\u1ebfp h\u1ea1ng",contestId:n}),t.includes("clarification")&&r.a.createElement(hr,Object.assign({},e,{route:"clarification",title:"H\u1ecfi/\u0110\xe1p",contestId:n})))},vr=function(e){return r.a.createElement(U.a,{md:"12"},r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/contests/:contestId",component:function(){return r.a.createElement(br,e)}}),r.a.createElement(m.b,{exact:!0,path:"/contests/:contestId/problems/:id",component:er})))},gr=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).startJoinContest=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new y.a("put",k.I,{id:a.props.match.params.contestId},null,!0),e.next=3,t.request();case 3:return e.next=5,a.context.startFetchContest(a.props.match.params.contestId);case 5:case"end":return e.stop()}}),e)}))),a.generateValidViews=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],"Running"===a.context.contest.ContestStatus&&a.context.contest.RegistrationStatus&&("Joined"===a.context.contest.RegistrationStatus||"Ended"===a.context.contest.RegistrationStatus&&"HIRING"!==a.getContestTypeName(a.context.contest.ContestType))&&(t.push("problems"),t.push("submissions"),t.push("clarification")),a.context.contest.RegistrationStatus&&"Ended"===a.context.contest.RegistrationStatus&&t.push("submissions"),"HIRING"!==a.getContestTypeName(a.context.contest.ContestType)&&t.push("scoreboard"),a.authContext.verifyModerator()&&t.push("clarification"),e.next=7,a.setState((function(){return{views:t}}));case 7:if(0!==t.length){e.next=9;break}throw new Error("Invalid access");case 9:case"end":return e.stop()}}),e)}))),a.checkValidViews=function(){ve.a.getQueryString("view")||ve.a.setQueryString("view",a.state.views[0])},a.generateNavBar=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[["Home","/"],["Contests","/contests"],[a.context.contest.Name,"/contests/".concat(a.context.contest.Id)]],(r=t.split("/")[4])&&n.push([r]),e.next=5,a.setState((function(){return{nav:n}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.componentDidMount=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.context.startFetchContest(a.props.match.params.contestId);case 3:if("Registered"!==a.context.contest.RegistrationStatus){e.next=6;break}return e.next=6,a.startJoinContest();case 6:return"Registration opened"===a.context.contest.ContestStatus&&T.a.push("/contests"),e.next=9,a.generateValidViews();case 9:a.checkValidViews(),a.generateNavBar(a.props.match.url),a.setState((function(){return{isLoading:!1}})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),a.setState((function(){return{hasError:!0,isLoading:!1}})),T.a.push("/contests");case 18:case"end":return e.stop()}}),e,null,[[0,14]])}))),a.UNSAFE_componentWillReceiveProps=function(e){e.match.url!==a.props.match.url&&a.generateNavBar(e.match.url)},a.render=function(){return r.a.createElement(O.Consumer,null,(function(e){return a.authContext=e,r.a.createElement(Ra.Consumer,null,(function(e){var t=e.getContestTypeName;return a.getContestTypeName=t,r.a.createElement(Wa.Consumer,null,(function(e){return a.context=e,a.state.isLoading?r.a.createElement(le,null):a.state.hasError?r.a.createElement(de,null):r.a.createElement("div",null,r.a.createElement(ce,{nav:a.state.nav}),r.a.createElement($,null,r.a.createElement(sr,{contest:a.context.contest},r.a.createElement(Ga,{contest:a.context.contest}),r.a.createElement(vr,Object.assign({},a.props,{contestId:a.context.contest.Id,validViews:a.state.views,match:a.props.match,location:a.props.location})))))}))}))}))},a.state={isLoading:!0,hasError:!1,nav:[["Home","/"],["Contests","/contests"]],views:[]},a.context=Wa,a}return n}(r.a.Component),Er=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(b.a)(h.a.mark((function e(){var t,n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.context,n=t.contest,r=t.startFetchContest,c=a.props.match,e.prev=2,e.next=5,r(c.params.contestId);case 5:n||T.a.push("/"),et()(Number(n.ActiveTime)).isAfter(et()())?T.a.push("/"):["Registered","Joined","ed"].includes(n.RegistrationStatus)&&T.a.push("/contests/".concat(n.Id)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),a.setState((function(){return{hasError:!0}}));case 12:a.setState((function(){return{isLoading:!1}}));case 13:case"end":return e.stop()}}),e,null,[[2,9]])}))),a.onChangeContestPassword=function(e){var t=a.state.errorPassword;a.setState((function(){return{contestPassword:e}})),t&&a.setState((function(){return{errorPassword:""}}))},a.onRegisterForContest=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.context.contest,r=a.state.contestPassword,t.preventDefault&&t.preventDefault(),e.next=5,a.setState((function(){return{isSending:!0}}));case 5:return c={},n.Private&&(c.Password=r),e.next=9,Pa.registerContest(n.Id,c);case 9:"string"===typeof e.sent?a.setState((function(){return{errorPassword:"Sai m\u1eadt kh\u1ea9u!",isSending:!1}})):"Registration opened"===n.ContestStatus?T.a.push("/contests"):T.a.push("/contests/".concat(n.Id,"/"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.render=function(){var e=a.state,t=e.isLoading,n=e.hasError,c=e.isSending,s=e.contestPassword,o=e.errorPassword,u=a.context.contest;return r.a.createElement(Wa.Consumer,null,(function(e){return a.context=e,t?r.a.createElement(le,null):null===u||n?r.a.createElement(de,null):r.a.createElement(O.Consumer,null,(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{nav:[["Home","/"],["Contests","/contests"],[u.Name,"/contests/".concat(u.Id,"/register")],["Register","/contests/".concat(u.Id,"/register")]]}),r.a.createElement($,null,r.a.createElement(L.a,null,r.a.createElement(R.a,{className:"justify-content-md-center"},r.a.createElement(U.a,{xs:!0,lg:"8",className:"form contest-entry-div shadow-sm",style:{backgroundColor:"white"}},r.a.createElement("form",{style:{padding:"30px 10px 20px 10px"},onSubmit:a.onRegisterForContest},r.a.createElement("h2",{style:{textAlign:"center",fontWeight:"600",marginBottom:"20px"}},u.Creater),r.a.createElement("div",{style:{textAlign:"center",marginBottom:"40px"}},r.a.createElement("img",{height:"150px",src:u.Logo?u.Logo:"./image/logo.svg",alt:"Contest's logo"})),r.a.createElement("h1",{style:{textAlign:"center",fontWeight:"600"}},u.Name),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h3",{style:{fontWeight:"600",marginBottom:"10px"}},"Th\xf4ng tin m\xf4 t\u1ea3"),r.a.createElement("p",null,u.Description),r.a.createElement("br",null),r.a.createElement("h3",{style:{fontWeight:"600",marginBottom:"10px"}},"Th\xf4ng tin k\u1ef3 thi"),r.a.createElement("ul",null,r.a.createElement("li",{style:{marginBottom:"8px"}},"Th\u1eddi gian l\xe0m b\xe0i:",r.a.createElement("b",{style:{fontWeight:"600"}},u.Duration," ","ph\xfat")),r.a.createElement("li",null,"Ng\xe0y thi:",r.a.createElement("b",{style:{fontWeight:"600"}},et()(u.StartTime).format("DD/MM/YYYY - HH:mm")))),u.Private&&Object(v.b)()&&r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("h3",{style:{fontWeight:"600",marginBottom:"10px"}},"Nh\u1eadp m\u1eadt kh\u1ea9u k\u1ef3 thi"),r.a.createElement(D,{width:a.isMobile?"100%":"50%",type:"password",value:s,onChange:a.onChangeContestPassword,message:o,autoComplete:"new-password"})),null!==e.user&&r.a.createElement("div",{style:{textAlign:"center",marginTop:"60px"}},r.a.createElement(F,{type:"submit",className:"contest-entry-register-button w-50",disabled:c},c?r.a.createElement("div",{style:{padding:"5px 0 5px 0"}},r.a.createElement(se,null)):"\u0110\u0103ng k\xfd tham gia")),!e.user&&r.a.createElement("div",{style:{textAlign:"center",marginTop:"40px"}},r.a.createElement("p",null,"B\u1ea1n c\u1ea7n ph\u1ea3i \u0111\u0103ng nh\u1eadp \u0111\u1ec3 \u0111\u0103ng k\xfd tham gia k\u1ef3 thi."))))),r.a.createElement("br",null),!e.user&&r.a.createElement(R.a,{className:"justify-content-md-center"},r.a.createElement(U.a,{xs:!0,lg:"8",className:"form contest-entry-div shadow-sm",style:{backgroundColor:"white",textAlign:"center",padding:"20px"}},"\u0110\xe3 c\xf3 s\u1eb5n t\xe0i kho\u1ea3n?"," ",r.a.createElement(d.a,{to:"/login"},r.a.createElement("b",{style:{cursor:"pointer",color:"#3498db"}},"\u0110\u0103ng nh\u1eadp ngay.")))))))}))}))},a.state={contestPassword:"",errorPassword:"",isSending:!1,isLoading:!0,hasError:!1},a.context=Wa,a.isMobile=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),a}return n}(r.a.Component),xr=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(b.a)(h.a.mark((function e(){var t,n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState((function(){return{isLoading:!0}}));case 2:return t=a.props.match,e.prev=3,n=new y.a("get","submission/".concat(t.params.submissionId),null,null,!0),e.next=7,n.request();case 7:return r=e.sent,c=r.submission,a.setState((function(){return{submission:c,isLoading:!1}})),e.next=12,a.generateNavigateLink();case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(3),e.next=18,a.setState((function(){return{isLoading:!1,error:!0}}));case 18:case"end":return e.stop()}}),e,null,[[3,14]])}))),a.generateNavigateLink=Object(b.a)(h.a.mark((function e(){var t,n,r,c,s,o,u,l,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.props.match,n=t.url.split("/"),r=t.path.split("/"),n.shift(),n.pop(),r.shift(),r.pop(),c=[["Home","/"]],s="/",o=0;case 10:if(!(o<n.length)){e.next=27;break}if(s+=n[o],":contestId"===r[o]){e.next=17;break}"courses"===n[0]&&2===o&&(s+="/problems"),c.push([n[o],s]),e.next=23;break;case 17:return u=new y.a("get","contest/".concat(n[o])),e.next=20,u.request();case 20:l=e.sent.Name,i="".concat(s,"/submissions"),c.push([l,i]);case 23:s+="/";case 24:++o,e.next=10;break;case 27:return c.push(["Details"]),e.next=30,a.setState((function(){return{urls:c}}));case 30:case"end":return e.stop()}}),e)}))),a.colorizeVerdict=function(e){var t=e.toLowerCase();return"accepted"===t?{fontWeight:"600",color:"#2ecc71"}:t.includes("wrong")||t.includes("error")?{fontWeight:"600",color:"red"}:t.includes("output")?{fontWeight:"600",color:"#34495e"}:t.includes("limit")?{fontWeight:"600",color:"orange"}:null},a.render=function(){var e=a.state,t=e.urls,n=e.isLoading,c=e.error,s=e.submission;return r.a.createElement("div",null,r.a.createElement(ce,{nav:t}),r.a.createElement($,null,r.a.createElement(U.a,null,n&&r.a.createElement(ue,null),c&&r.a.createElement(de,null),!n&&!c&&r.a.createElement("div",null,r.a.createElement("table",{className:"basic-component-table bg-white"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",{style:{textAlign:"center"}},"Th\u1eddi gian n\u1ed9p"),r.a.createElement("th",null,"Ng\u01b0\u1eddi n\u1ed9p"),r.a.createElement("th",null,"T\xean b\xe0i"),r.a.createElement("th",null,"Lo\u1ea1i b\xe0i"),r.a.createElement("th",null,"Ng\xf4n ng\u1eef"),r.a.createElement("th",null,"K\u1ebft qu\u1ea3"),r.a.createElement("th",null,"Th\u1eddi gian"),r.a.createElement("th",null,"B\u1ed9 nh\u1edb"))),r.a.createElement("tbody",null,r.a.createElement("tr",{className:"no-effect"},r.a.createElement("td",null,s.InternalId),r.a.createElement("td",{style:{textAlign:"center"}},et()(s.SubmitTime).format("DD/MM/YYYY"),r.a.createElement("br",null),et()(s.SubmitTime).format("HH:mm")),r.a.createElement("td",{style:{cursor:"pointer",fontWeight:"600"}},r.a.createElement("div",{role:"button",tabIndex:0,onClick:function(){return T.a.push("/user/".concat(s.User))}},s.User)),r.a.createElement("td",null,s.ProblemName.Vi?s.ProblemName.Vi:s.ProblemName.En),r.a.createElement("td",null,s.Type),r.a.createElement("td",null,s.Language),r.a.createElement("td",{style:a.colorizeVerdict(s.Verdict)},s.Verdict),r.a.createElement("td",null,Math.round(parseFloat(s.Time))," ","ms"),r.a.createElement("td",null,Math.round(parseFloat(s.Memory)/1024)," ","KB")))),r.a.createElement("br",null),r.a.createElement(la,{value:s.Content,readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",showToolbar:!1,mode:s.Language}),r.a.createElement("br",null),s.CompileMessage&&r.a.createElement("div",{style:{padding:"10px",background:"white"}},r.a.createElement("h3",{style:{fontWeight:"600"}},"Compile message"),s.CompileMessage.split("\n").map((function(e,t){return r.a.createElement("p",{style:{margin:"0",fontWeight:"600"},key:t},e)}))),s.Tests&&s.Tests.map((function(e,t){return r.a.createElement("div",{className:"bg-white",key:e.Id,style:{padding:"10px"}},r.a.createElement("p",{style:{fontWeight:"600"}},"Test #",t+1,", Time:",Math.round(parseFloat(e.Time))," ","ms, Memory:",Math.round(parseFloat(e.Memory)/1024)," ","KB, Exit code:",e.ExitCode,", Verdict:",e.Verdict),r.a.createElement("p",null,r.a.createElement("strong",null,"Checker log: ")),r.a.createElement("p",null,r.a.createElement("strong",null,e.CheckerLog)),r.a.createElement("div",{style:{textAlign:"center",fontWeight:"600",background:"#ecf0f1",padding:"3px"},className:"border"},"Input"),r.a.createElement("p",{style:{whiteSpace:"pre-line"},className:"border p-2"},e.Input),r.a.createElement("br",null),r.a.createElement("div",{style:{textAlign:"center",fontWeight:"600",background:"#ecf0f1",padding:"3px"}},"Output"),r.a.createElement("p",{style:{whiteSpace:"pre-line"},className:"border p-2"},e.Output),r.a.createElement("br",null),r.a.createElement("div",{style:{textAlign:"center",fontWeight:"600",background:"#ecf0f1",padding:"3px"}},"Answer"),r.a.createElement("p",{style:{whiteSpace:"pre-line"},className:"border p-2"},e.Answer),r.a.createElement("br",null),t<s.Tests.length-1&&r.a.createElement("br",null),t<s.Tests.length-1&&r.a.createElement("br",null))}))))))},a.state={isLoading:!0,submission:void 0,error:!1,urls:[["Home","/"],["Loading navigation bar...","/"]]},a}return n}(r.a.Component),wr=function(){return r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:Ha}),r.a.createElement(m.b,{exact:!0,path:"/contests",component:Ha}),r.a.createElement(m.b,{exact:!0,path:"/contests/:contestId",component:gr}),r.a.createElement(m.b,{exact:!0,path:"/contests/:contestId/register",component:Er}),r.a.createElement(m.b,{exact:!0,path:"/contests/:contestId/submissions/:submissionId",component:xr}),r.a.createElement(m.b,{exact:!0,path:"/contests/:contestId/problems/:id",component:gr}),r.a.createElement(m.b,{component:de}))},yr=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"login",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new y.a("post",k.b+k.hb,void 0,void 0,!1,{Authorization:t}).request();case 2:return n=e.sent,e.abrupt("return",n.user);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),kr=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={fetched:!1,status:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=ve.a.getAllQueryString(),n=t.token,a=t.red_to,e.next=4,yr.login(n);case 4:r=e.sent,Object(v.d)(r,!0),a?window.location.replace(a):window.location.replace("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.setState({fetched:!0});case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.fetched,n=e.status;return t?n?void 0:r.a.createElement("div",null,r.a.createElement(ce,{nav:[["home","/"]]}),r.a.createElement($,null,r.a.createElement($e.a,{className:"w-100"},r.a.createElement($e.a.Body,{className:"text-center"},r.a.createElement("h1",null,r.a.createElement("storng",null,"\u0110\u0103ng nh\u1eadp kh\xf4ng th\xe0nh c\xf4ng!")))))):r.a.createElement(le,null)}}]),n}(r.a.Component),Cr=function(){return r.a.createElement("div",null,r.a.createElement(R.a,{className:"justify-content-xl-center"},r.a.createElement(U.a,{xl:!0,lg:"1",className:"help-page-div",style:{backgroundColor:"white",padding:"3%"}},r.a.createElement("h1",null,"Th\xf4ng s\u1ed1"),r.a.createElement("table",{className:"basic-component-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"10%"}},"Ng\xf4n ng\u1eef"),r.a.createElement("th",null,"Phi\xean b\u1ea3n"),r.a.createElement("th",{style:{width:"15%"}},"H\u1ec7 s\u1ed1 th\u1eddi gian"),r.a.createElement("th",null,"Tham s\u1ed1 bi\xean d\u1ecbch"))),r.a.createElement("tbody",null,r.a.createElement("tr",{className:"no-effect"},r.a.createElement("td",null,"C"),r.a.createElement("td",null,"gcc (Ubuntu 5.5.0-12ubuntu1~14.04) 5.5.0 20171010"),r.a.createElement("td",null,"x1"),r.a.createElement("td",null,"gcc -x c -Wall -O2 -static -pipe $","{","files","}"," ","-lm")),r.a.createElement("tr",{className:"no-effect"},r.a.createElement("td",null,"C++"),r.a.createElement("td",null,"g++ (Ubuntu 5.5.0-12ubuntu1~14.04) 5.5.0 20171010"),r.a.createElement("td",null,"x1"),r.a.createElement("td",null,"g++ -x c++ -std=c++14 -Wall -O2 -static -pipe $","{","files","}")),r.a.createElement("tr",{className:"no-effect"},r.a.createElement("td",null,"Java"),r.a.createElement("td",null,r.a.createElement("p",{style:{margin:"0"}},'Openjdk version "1.8.0_171"'),r.a.createElement("p",{style:{margin:"0"}},"OpenJDK Runtime Environment (build 1.8.0_171-8u171-b11-2~14.04-b11)"),r.a.createElement("p",{style:{margin:"0"}},"OpenJDK 64-Bit Server VM (build 25.171-b11, mixed mode)")),r.a.createElement("td",null,"x3"),r.a.createElement("td",null,"javac -encoding UTF-8 -sourcepath . -d . $","{","files","}")),r.a.createElement("tr",{className:"no-effect"},r.a.createElement("td",null,"Python 2"),r.a.createElement("td",null,"Python 2.7.6"),r.a.createElement("td",null,"x5"),r.a.createElement("td",null,"python2 -m py_compile $","{","files","}")),r.a.createElement("tr",{className:"no-effect"},r.a.createElement("td",null,"Python 3"),r.a.createElement("td",null,"Python 3.4.3"),r.a.createElement("td",null,"x5"),r.a.createElement("td",null,"python3 -m py_compile $","{","files","}")),r.a.createElement("tr",{className:"no-effect"},r.a.createElement("td",null,"Pascal"),r.a.createElement("td",null,"fpc 3.0.4"),r.a.createElement("td",null,"x1"),r.a.createElement("td",null,"fpc -viwn -O2 -Sg -XS $","{","files","}")),r.a.createElement("tr",{className:"no-effect"},r.a.createElement("td",null,"NodeJS"),r.a.createElement("td",null,"Node.js v8.10.0"),r.a.createElement("td",null,"x5"),r.a.createElement("td",null,"nodejs $","{","files","}")),r.a.createElement("tr",{className:"no-effect"},r.a.createElement("td",null,"Ruby"),r.a.createElement("td",null,"Ruby 2.5.1"),r.a.createElement("td",null,"x5"),r.a.createElement("td",null,"ruby -c $","{","files","}")))),r.a.createElement("h1",{style:{marginTop:"5%"}},"Code m\u1eabu"),r.a.createElement("h3",{style:{marginTop:"3%"}},"\u0110\u1ec1 b\xe0i m\u1eabu"),r.a.createElement("p",null,'Cho m\u1ed9t s\u1ed1 nguy\xean n (0 < n < 10000), in ra d\xf2ng ch\u1eef "Hello, World!!!" n l\u1ea7n (kh\xf4ng c\xf3 d\u1ea5u " ")'),r.a.createElement("h3",{style:{marginTop:"3%"}},"Input m\u1eabu"),r.a.createElement(la,{value:"3",readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",mode:"markdown",showToolbar:!1}),r.a.createElement("h3",{style:{marginTop:"3%"}},"Output m\u1eabu"),r.a.createElement(la,{value:"Hello, World!!!\nHello, World!!!\nHello, World!!!",readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",mode:"markdown",showToolbar:!1}),r.a.createElement("h3",{style:{marginTop:"3%"}},"C"),r.a.createElement(la,{value:'#include <stdio.h>\n\nint main() {\n  int n;\n  scanf("%d", &n);\n\n  for (int i = 0; i < n; ++i) {\n    printf("Hello, World!!!\\n");\n  }\n\n  return 0;\n}',readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",mode:"C",showToolbar:!1}),r.a.createElement("h3",{style:{marginTop:"3%"}},"C++"),r.a.createElement(la,{value:'#include <iostream>\nusing namespace std;\n\nint main() {\n  int n;\n  cin >> n;\n  for (int i = 0; i < n; ++i) {\n    cout << "Hello, World!!!\\n";\n  }\n}',readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",mode:"CPP 14",showToolbar:!1}),r.a.createElement("h3",{style:{marginTop:"3%"}},"Java"),r.a.createElement(la,{value:'import java.io.*;\nimport java.util.*;\n\npublic class Main {\n  public static void main(String args[]) throws Exception {\n    Scanner reader = new Scanner(System.in);\n    int n = reader.nextInt();\n\n    for (int i = 0; i < n; ++i) {\n      System.out.println("Hello, World!!!");\n    }\n  }\n}',readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",mode:"Java 8",showToolbar:!1}),r.a.createElement("h3",{style:{marginTop:"3%"}},"Python 2"),r.a.createElement(la,{value:'n = int(raw_input())\nfor i in range(0, n):\n    print "Hello, World!!!"',readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",mode:"Python 2",showToolbar:!1}),r.a.createElement("h3",{style:{marginTop:"3%"}},"Python 3"),r.a.createElement(la,{value:'n = int(input())\nfor i in range(0, n):\n    print("Hello, World!!!")',readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",mode:"Python 3",showToolbar:!1}),r.a.createElement("h3",{style:{marginTop:"3%"}},"Pascal"),r.a.createElement(la,{value:"program HelloWorld;\nvar\n  n, i: integer;\nbegin\n  readln(n);\n  for i := 1 to n do\n  begin\n    writeln('Hello, World!!!');\n  end;\nend.",readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",mode:"Pascal",showToolbar:!1}),r.a.createElement("h3",{style:{marginTop:"3%"}},"NodeJS"),r.a.createElement(la,{value:'process.stdin.addListener("data", (data) => {\n  var n = data.toString();\n  for (let i = 0; i < n; ++i) {\n    console.log("Hello, World!!!");\n  }\n});',readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",mode:"JavaScript",showToolbar:!1}),r.a.createElement("h3",{style:{marginTop:"3%"}},"Ruby"),r.a.createElement(la,{value:'n = gets.to_i\nfor i in 0..n\n  puts("Hello World!!!")\nend',readOnly:!0,onChange:function(){},onSelectionChange:function(){},theme:"default",mode:"Ruby",showToolbar:!1}))))},Or=function(){return r.a.createElement(R.a,null,r.a.createElement("div",{style:{padding:"20px"}},r.a.createElement("h1",null,"H\xecnh th\u1ee9c ch\u1ea5m ACM-ICPC"),r.a.createElement("p",null,"B\xe0i thi ch\u1ea5m theo ACM-ICPC s\u1ebd \u0111\u01b0\u1ee3c ch\u1ea5m d\u1ef1a tr\xean to\xe0n b\u1ed9 c\xe1c test c\u1ee7a m\u1ed7i b\xe0i."),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("img",{alt:"scoreboard ACM-ICPC example",style:{width:"80%"},src:"./image/contest/scoreboard acm.png"})),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("b",null,"V\xed d\u1ee5"),": b\xe0i 1 th\xed sinh \u0111\xe3 gi\u1ea3i \u0111\u01b0\u1ee3c v\xe0 c\xf3 k\xfd hi\u1ec7u 5/27"),r.a.createElement("ul",null,r.a.createElement("li",null,"5: s\u1ed1 l\u1ea7n th\xed sinh submit cho b\xe0i 1 l\xe0 5 l\u1ea7n."),r.a.createElement("li",null,"27: th\u1eddi gian th\xed sinh gi\u1ea3i \u0111\u01b0\u1ee3c b\xe0i 1 (t\xednh theo ph\xfat).")),r.a.createElement("p",null,r.a.createElement("b",null,"C\xf4ng th\u1ee9c t\xednh \u0111i\u1ec3m cho m\u1ed7i b\xe0i trong k\u1ef3 thi h\xecnh th\u1ee9c ACM-ICPC \u0111\u01b0\u1ee3c t\xednh nh\u01b0 sau:")),r.a.createElement("code",null,r.a.createElement("b",null,"(<num_submissions> - 1) * <penalty_time> + <first_accepted>")),r.a.createElement("p",{style:{marginTop:"8px"}},"Trong \u0111\xf3:"),r.a.createElement("ul",null,r.a.createElement("li",{style:{marginBottom:"5px"}},"<num_submissions>: s\u1ed1 l\u1ea7n th\xed sinh \u0111\xf3 n\u1ed9p b\xe0i \u0111\xf3 t\xednh cho t\u1edbi khi \u0111\u01b0\u1ee3c accepted, nh\u1eefng submission sau khi accepted s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c t\xednh v\xe0o."),r.a.createElement("li",{style:{marginBottom:"5px"}},"<penalty_time>: th\u1eddi gian ph\u1ea1t t\xf9y theo m\u1ed7i k\u1ef3 thi (v\xed d\u1ee5 4 ph\xfat, 5 ph\xfat, 20 ph\xfat,...)."),r.a.createElement("li",null,r.a.createElement("b",null,"<first_accepted>: th\u1eddi \u0111i\u1ec3m \u0111\u1ea7u ti\xean th\xed sinh gi\u1ea3i \u0111\u01b0\u1ee3c b\xe0i \u0111\xf3 t\xednh t\u1eeb l\xfac b\u1eaft \u0111\u1ea7u k\u1ef3 thi."))),r.a.createElement("p",null,r.a.createElement("i",null,r.a.createElement("b",null,"L\u01b0u \xfd: penalty ch\u1ec9 t\xednh t\u1edbi th\u1eddi \u0111i\u1ec3m \u0111\u1ea7u ti\xean \u0111\u01b0\u1ee3c accepted, penalty trong k\u1ef3 thi h\xecnh th\u1ee9c ACM-ICPC s\u1ebd \u0111\u01b0\u1ee3c t\xednh ngay khi n\xe0o accepted."))),r.a.createElement("br",null),r.a.createElement("h1",null,"H\xecnh th\u1ee9c ch\u1ea5m IOI"),r.a.createElement("p",null,"B\xe0i thi ch\u1ea5m theo IOI s\u1ebd \u0111\u01b0\u1ee3c ch\u1ea5m d\u1ef1a theo s\u1ed1 test \u0111\xfang."),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("img",{alt:"scoreboard IOI example",style:{width:"80%"},src:"./image/contest/scoreboard IOI.png"})),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("b",null,"V\xed d\u1ee5"),": b\xe0i 1 c\xf3 t\u1ed5ng s\u1ed1 \u0111i\u1ec3m l\xe0 10, s\u1ed1 test l\xe0 20 (*), v\u1eady \u0111i\u1ec3m cho m\u1ed7i test s\u1ebd l\xe0 0.5."),r.a.createElement("p",null,r.a.createElement("i",null,"(*): s\u1ed1 test v\xe0 t\u1ed5ng s\u1ed1 \u0111i\u1ec3m c\u1ee7a m\u1ed7i b\xe0i s\u1ebd kh\xe1c nhau t\xf9y theo ng\u01b0\u1eddi ra \u0111\u1ec1.")),r.a.createElement("p",null,r.a.createElement("b",null,"C\xf4ng th\u1ee9c t\xednh \u0111i\u1ec3m cho m\u1ed7i b\xe0i trong k\u1ef3 thi h\xecnh th\u1ee9c IOI \u0111\u01b0\u1ee3c t\xednh nh\u01b0 sau:")),r.a.createElement("code",null,r.a.createElement("b",null,"(<num_submissions> - 1) * <penalty_time> + <last_submission>")),r.a.createElement("p",{style:{marginTop:"8px"}},"Trong \u0111\xf3:"),r.a.createElement("ul",null,r.a.createElement("li",{style:{marginBottom:"5px"}},"<num_submissions>: s\u1ed1 l\u1ea7n th\xed sinh \u0111\xf3 n\u1ed9p b\xe0i \u0111\xf3 t\xednh cho t\u1edbi khi \u0111\u01b0\u1ee3c accepted, nh\u1eefng submission sau khi accepted s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c t\xednh v\xe0o."),r.a.createElement("li",{style:{marginBottom:"5px"}},"<penalty_time>: th\u1eddi gian ph\u1ea1t t\xf9y theo m\u1ed7i k\u1ef3 thi (v\xed d\u1ee5 4 ph\xfat, 5 ph\xfat, 20 ph\xfat,...)."),r.a.createElement("li",null,r.a.createElement("b",null,"<last_submission>: th\u1eddi \u0111i\u1ec3m n\u1ed9p b\xe0i cu\u1ed1i c\xf9ng c\u1ee7a thi sinh cho b\xe0i \u0111\xf3."))),r.a.createElement("p",null,r.a.createElement("strong",null,"L\u01b0u \xfd:")),r.a.createElement("ul",null,r.a.createElement("li",{style:{marginBottom:"5px"}},"Penalty trong k\u1ef3 thi h\xecnh th\u1ee9c IOI s\u1ebd \u0111\u01b0\u1ee3c t\xednh ngay khi n\xe0o c\xf3 b\xe0i n\u1ed9p (c\xe1c b\xe0i d\xf9 c\xf3 \u0111i\u1ec3m hay kh\xf4ng c\xf3 \u0111i\u1ec3m \u0111\u1ec1u b\u1ecb t\xednh penalty khi b\u1ea1n n\u1ed9p)"),r.a.createElement("li",{style:{marginBottom:"5px"}},"B\xe0i n\u1ed9p c\u1ee7a b\u1ea1n ch\u1ec9 \u0111\u01b0\u1ee3c t\xednh \u0111i\u1ec3m khi \u0111\xfang b\u1ed9 test v\xed d\u1ee5 c\u1ee7a \u0111\u1ec1 b\xe0i")),r.a.createElement("br",null),r.a.createElement("h2",null,"C\xe1c k\u1ebft qu\u1ea3 ch\u1ea5m"),r.a.createElement("p",null,"C\u1ea3 2 k\u1ef3 thi h\xecnh th\u1ee9c ACM-ICPC v\xe0 IOI \u0111\u1ec1u c\xf3 c\xe1c k\u1ebft qu\u1ea3 ch\u1ea5m nh\u01b0 sau:"),r.a.createElement("ul",null,r.a.createElement("li",{style:{marginBottom:"5px"}},"Accepted: b\xe0i l\xe0m \u0111\xfang t\u1ea5t c\u1ea3 c\xe1c test."),r.a.createElement("li",{style:{marginBottom:"5px"}},"Wrong answer: c\xf3 1 test cho k\u1ebft qu\u1ea3 sai."),r.a.createElement("li",{style:{marginBottom:"5px"}},"Runtime error: l\u1ed7i khi ch\u1ea1y ch\u01b0\u01a1ng tr\xecnh (tr\xe0n m\u1ea3ng, chia cho 0, exit code kh\xe1c 0,...)."),r.a.createElement("li",{style:{marginBottom:"5px"}},"Time limit exceed: ch\u1ea1y qu\xe1 gi\u1edbi h\u1ea1n th\u1eddi gian c\u1ee7a b\xe0i."),r.a.createElement("li",{style:{marginBottom:"5px"}},"Memory limit exceed: ch\u1ea1y qu\xe1 gi\u1edbi h\u1ea1n b\u1ed9 nh\u1edb c\u1ee7a b\xe0i."),r.a.createElement("li",null,"Compilation error: bi\xean d\u1ecbch l\u1ed7i (l\u1ed7i n\xe0y kh\xf4ng t\xednh \u0111i\u1ec3m ph\u1ea1t penalty trong k\u1ef3 thi)."))))},jr=function(){return r.a.createElement("div",null,r.a.createElement(ce,{nav:[["Home","/"],["Help","/help"]]}),r.a.createElement($,null,r.a.createElement(U.a,null,r.a.createElement(nn,{controlKey:"view"},r.a.createElement(Cr,{route:"environment",title:"Environment"}),r.a.createElement(Or,{route:"judgement",title:"Judgement"})))))},Sr=function(){return r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/help",component:jr}),r.a.createElement(m.b,{exact:!0,path:"/help/:view",component:jr}))},Nr=n(323),Ir=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"getTopics",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:1,e.prev=1,a=t?k.ab:k.m,e.next=5,new y.a("get",a,{problemId:t,pageNumber:n},void 0,!0).request();case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{totalTopic:0,topics:[]});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTopic",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.qb,{topicId:t},void 0,!0).request();case 3:return n=e.sent,e.abrupt("return",n.topic);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getLatestTopic",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.J).request();case 3:return t=e.sent,e.abrupt("return",t.topics);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"addTopic",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("post",k.pb,void 0,{Title:t,Content:n},!0).request();case 3:return r=e.sent,e.abrupt("return",r.topic);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"deleteTopic",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("delete",k.qb,{topicId:t},void 0,!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"voteTopic",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("post",k.Db,{id:t},{Value:n},!0).request();case 3:return a=e.sent,e.abrupt("return",a.vote);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"editTopic",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("put",k.qb,{topicId:t},{Content:n},!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Pr=function(){var e=Object(a.useState)(""),t=Object(Xe.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),o=Object(Xe.a)(s,2),u=o[0],l=o[1],i=Object(a.useState)(!1),m=Object(Xe.a)(i,2),p=m[0],d=m[1],f=Object(a.useContext)(O).user,v=Object(a.useState)(!1),g=Object(Xe.a)(v,2),E=g[0],x=g[1];p&&(f||T.a.push("/login"));var w=function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,Ir.addTopic(u,n);case 3:t=e.sent,x(!1),t&&T.a.push("/community/post/".concat(t.Id));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement($e.a,{className:"shadow-sm w-100 bg-white mb-3 add-new-post"},r.a.createElement(Nr.a,null,r.a.createElement(Nr.a.Toggle,{as:"div",variant:"link",eventKey:"0"},r.a.createElement("div",{className:"p-2 bg-light-blue ".concat(p?"rounded-top":"rounded"," text-white"),onClick:function(){return d(!p)}},r.a.createElement("div",{className:"mb-0 cursor-pointer"},p?r.a.createElement("span",{className:"fas fa-chevron-circle-down mr-2"}):r.a.createElement("span",{className:"fas fa-chevron-circle-right mr-2"}),r.a.createElement("span",{className:"font-semi-bold"},"\u0110\u0103ng b\xe0i vi\u1ebft m\u1edbi")))),r.a.createElement(Nr.a.Collapse,{eventKey:"0"},r.a.createElement("div",{className:"p-2"},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement(r.a.Fragment,null,"Ti\xeau \u0111\u1ec1")),r.a.createElement(tr.a.Control,{type:"text",name:"ProblemCode",autoComplete:"off",value:u,onChange:function(e){return l(e.target.value)}})),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement(r.a.Fragment,null,"N\u1ed9i dung")),r.a.createElement(la,{mode:"markdown",theme:"default",name:"Content",value:n,onChange:function(e){return c(e.target.value)}})),r.a.createElement(F,{className:"bg-light-blue text-white float-right w-25 py-1 mb-2",onClick:w,disabled:E},E?r.a.createElement("span",{className:"fas fa-spinner fa-spin"}):r.a.createElement("div",null,r.a.createElement("span",{className:"font-semi-bold mr-2"},"\u0110\u0103ng b\xe0i"),r.a.createElement("span",{className:"fas fa-paper-plane"})))))))},Tr=function(e){var t=e.topic,n=t.Id,a=t.Title,c=t.Author,s=t.Content,o=t.createdAt,u=t.View,l=t.Vote;return r.a.createElement(d.a,{to:"/community/post/".concat(n)},r.a.createElement("div",{className:"single-topic p-2 corner mb-2"},r.a.createElement("div",{className:"d-flex"},r.a.createElement(p.a,{src:"image/logo.svg",fluid:!0,roundedCircle:!0,style:{width:"42px",height:"42px",marginRight:"15px"}}),r.a.createElement("div",{className:"flex-grow-1"},r.a.createElement("h3",{className:"font-semi-bold w-75 mb-1 title"},a),r.a.createElement("p",{className:"text-secondary"},r.a.createElement("em",null,c.Username,","," ",et()(o).format("hh:mm DD/MM/YYYY")))),r.a.createElement("div",{className:"text-right"},r.a.createElement("div",{className:"count-vote"},r.a.createElement("span",{className:"fas fa-caret-".concat(l>=0?"up green":"down light-pink")})," ",l," ","votes"),r.a.createElement("div",{className:"mb-1"},u," ","views"))),r.a.createElement(Sn,{value:s})))},Lr=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetchTopic=Object(b.a)(h.a.mark((function e(){var t,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ir.getTopics();case 2:t=e.sent,n=t.totalTopic,r=t.topics,a.setState({totalTopic:n,topics:r});case 6:case"end":return e.stop()}}),e)}))),a.state=Object(H.a)(Object(H.a)({},a.state),{},{fetched:!1,totalTopic:0,topics:[]}),a}return Object(u.a)(n,[{key:"render",value:function(){return this.state.fetched?r.a.createElement("div",null,this.state.topics.map((function(e){return r.a.createElement(Tr,{topic:e,key:e.Id})}))):r.a.createElement(ue,null)}},{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({fetched:!0});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ln),Rr=function(){var e=Object(a.useState)([]),t=Object(Xe.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){(function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ir.getLatestTopic();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(Jt,{title:"B\xe0i vi\u1ebft m\u1edbi nh\u1ea5t"},n.map((function(e){return r.a.createElement(d.a,{to:"/community/post/".concat(e.Id),key:e.Id},r.a.createElement("div",{className:"m-2 p-2 single-topic"},r.a.createElement("div",{className:"font-semi-bold"},e.Title),r.a.createElement("p",{className:"text-secondary mb-1"},r.a.createElement("em",null,e.Author.Username)),r.a.createElement("div",null,r.a.createElement(Sn,{value:e.Content}))))})))},Ur=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{nav:[["home","/"],["B\xe0i vi\u1ebft"]]}),r.a.createElement($,null,r.a.createElement(J,null,r.a.createElement(Pr,null),r.a.createElement("div",{className:"shadow-sm bg-white py-2 px-2 corner"},r.a.createElement("h2",{className:"font-semi-bold my-2"},"B\xe0i vi\u1ebft n\u1ed5i b\u1eadt"),r.a.createElement("hr",null),r.a.createElement(Lr,null))),r.a.createElement(X,null,r.a.createElement(Rr,null))))},Ar=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).Replies=[],a}return Object(u.a)(n,[{key:"vote",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t===this.UserVoteComment&&(t=0),e.next=3,Dr.voteComment(this.Id,t);case 3:if("string"!==typeof(n=e.sent)){e.next=6;break}return e.abrupt("return");case 6:this.Vote=n,this.UserVoteComment=t;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.editComment(this.Id,t);case 2:if("string"!==typeof(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return this.updateProperty(n),e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ee.default),Dr=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"getComments",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("get",k.l,{topicId:t,page:n},void 0,!0).request();case 3:return a=e.sent,e.abrupt("return",{totalComment:a.totalComment,comments:a.comments.map((function(e){return new Ar(e)}))});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{totalComment:0,comments:[]});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addComment",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("post",k.l,{topicId:t},{Content:n},!0).request();case 3:return a=e.sent,e.abrupt("return",a.comment);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"editComment",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("put",k.k,{id:t},{Content:n},!0).request();case 3:return a=e.sent,e.abrupt("return",a.comment);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeComment",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("delete",k.k,{id:t},void 0,!0).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"voteComment",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new y.a("post",k.Cb,{id:t},{Value:n},!0).request();case 3:return a=e.sent,e.abrupt("return",a.vote);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Mr=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).totalComment=0,a.commentPage=0,a.comments=[],a.canGetMoreComment=!0,a}return Object(u.a)(n,[{key:"getComments",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.commentPage+=1,e.next=3,Dr.getComments(this.Id,this.commentPage);case 3:t=e.sent,this.totalComment=t.totalComment,this.comments=this.comments.concat(t.comments),this.canGetMoreComment=this.comments.length<this.totalComment;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addComment",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.addComment(this.Id,t);case 2:if("string"!==typeof(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return this.totalComment+=1,this.comments.unshift(new Ar(n)),e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeComment",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.removeComment(t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return this.comments=this.comments.filter((function(e){return e.Id!==t})),e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"vote",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ir.voteTopic(this.Id,t);case 2:null!==(n=e.sent)&&(this.Vote=n,this.UserVoteTopic=t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ir.editTopic(this.Id,t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return this.Content=t,e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ee.default),Fr=function(e){var t=e.children,n=Object(a.useState)(!1),c=Object(Xe.a)(n,2),s=c[0],o=c[1];return r.a.createElement("div",{className:"option-menu position-relative d-inline"},r.a.createElement(F,{className:"bg-transparent dark-gray no-effect",onClick:function(){return o(!s)},style:{zIndex:10}},r.a.createElement("span",{className:"fas fa-ellipsis-h"})),s&&r.a.createElement("div",null,r.a.createElement("div",{className:"option-menu-body position-absolute",role:"button",tabIndex:0,style:{left:"100%",top:0,zIndex:10},onClick:function(){return o(!1)}},t),r.a.createElement("div",{className:"position-fixed",role:"button",tabIndex:0,style:{top:0,bottom:0,left:0,right:0},onClick:function(){return o(!1)}})))},Br=function(e){var t=e.comment,n=t.Author,c=t.Content,s=t.createdAt,o=t.Vote,u=t.UserVoteComment,l=Object(a.useState)(!1),i=Object(Xe.a)(l,2),m=i[0],d=i[1],f=Object(a.useContext)(O),v=f.user,g=f.verifyAdministrator,E=Object(a.useState)(!1),x=Object(Xe.a)(E,2),w=x[0],y=x[1],k=Object(a.useState)("view"),C=Object(Xe.a)(k,2),j=C[0],S=C[1],N=Object(a.useState)(""),I=Object(Xe.a)(N,2),P=I[0],T=I[1],L=function(e){S(e),"edit"===e&&T(t.Content)},R=function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,t.update(P);case 3:e.sent||L("view"),y(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(b.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.vote(n);case 2:d(!0),d(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var n=Object(b.a)(h.a.mark((function n(){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.confirm("B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a b\xecnh lu\u1eadn n\xe0y?")){n.next=5;break}return n.next=3,e.topic.removeComment(t.Id);case 3:n.sent||e.refresh();case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return r.a.createElement("div",{className:"d-flex mb-4 single-comment"},r.a.createElement(p.a,{src:"image/logo.svg",fluid:!0,roundedCircle:!0,style:{width:"36px",height:"36px",marginRight:"15px"},className:"mt-1"}),r.a.createElement("div",{className:"flex-grow-1"},r.a.createElement("p",{className:"text-secondary mb-0"},r.a.createElement("em",null,n.Username,","," ",et()(s).format("HH:mm DD/MM/YYYY"))),"edit"===j?r.a.createElement("div",null,r.a.createElement(la,{mode:"markdown",theme:"default",name:"Content",value:P,onChange:function(e){return T(e.target.value)}}),r.a.createElement(F,{className:"bg-light-blue text-white float-right w-25 py-1 my-2",onClick:R,disabled:w},w?r.a.createElement("span",{className:"fas fa-spinner fa-spin"}):r.a.createElement("div",null,"C\u1eadp nh\u1eadt"))):r.a.createElement(Sn,{value:c}),"view"===j&&!m&&r.a.createElement("div",{style:{marginTop:"-10px"}},r.a.createElement("span",{className:"count-vote mr-2"},r.a.createElement("span",{className:"fas fa-caret-".concat(o>=0?"up green":"down light-pink")})," ",o),r.a.createElement(F,{className:"bg-white dark-gray border-0 vote-up",onClick:function(){return U(1)}},r.a.createElement("span",{className:Kt()(["far fa-thumbs-up",{green:1===u}]),style:{fontSize:"12px"}})),r.a.createElement(F,{className:"bg-white dark-gray border-0 vote-down",onClick:function(){return U(-1)}},r.a.createElement("span",{className:Kt()(["far fa-thumbs-down",{"light-pink":-1===u}]),style:{fontSize:"12px"}})))),v&&(v.Id===n.Id||g())&&r.a.createElement(Fr,null,r.a.createElement($e.a,{className:"shadow-sm border corner p-2 ml-1",style:{width:150}},v.Id===n.Id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{className:"bg-transparent no-effect dark-gray text-left",onClick:function(){return L("edit")}},r.a.createElement("span",{className:"fas fa-edit fa-fw font-sm mr-1"})," ","Ch\u1ec9nh s\u1eeda"),r.a.createElement("hr",{className:"m-1"})),r.a.createElement(F,{className:"bg-transparent no-effect dark-gray text-left text-danger",onClick:A},r.a.createElement("span",{className:"fas fa-trash fa-fw font-sm mr-1"})," ","X\xf3a"))))},qr=function(e){var t=Object(a.useState)(""),n=Object(Xe.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(!1),u=Object(Xe.a)(o,2),l=u[0],i=u[1],m=e.topic,p=function(){var t=Object(b.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),t.next=3,m.addComment(c);case 3:return t.next=5,e.refresh();case 5:i(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"add-new-comment"},r.a.createElement(la,{mode:"markdown",theme:"default",name:"Content",value:c,onChange:function(e){return s(e.target.value)}}),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(F,{className:"bg-light-blue text-white py-1 mt-2",onClick:p,disabled:l},r.a.createElement("div",null,"Th\xeam b\xecnh lu\u1eadn"))))},Hr=function(e){var t=e.topic,n=Object(a.useState)(!0),c=Object(Xe.a)(n,2),s=c[0],o=c[1],u=function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(!1);case 2:return e.next=4,o(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!1),e.next=3,t.getComments();case 3:o(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){l()}),[e.topic]),r.a.createElement("div",null,r.a.createElement(qr,{topic:t,refresh:u}),r.a.createElement("h4",{className:"font-semi-bold my-4"},"B\xecnh lu\u1eadn (",t.totalComment,")"),t.comments.map((function(e){return r.a.createElement(Br,{key:e.Id,comment:e,refresh:u,topic:t})})),r.a.createElement("div",{className:"d-flex justify-content-end"},s?r.a.createElement(F,{className:Kt()(["bg-white border-0 light-blue cursor-pointer",{"cursor-not-allowed silve no-effect":!t.canGetMoreComment}]),disabled:!t.canGetMoreComment,onClick:l},"Xem th\xeam b\xecnh lu\u1eadn"):r.a.createElement(se,null)))},Wr=function(e){var t=Object(a.useState)(!1),n=Object(Xe.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(void 0),u=Object(Xe.a)(o,2),l=u[0],i=u[1],m=Object(a.useState)(!1),d=Object(Xe.a)(m,2),f=d[0],v=d[1],g=Object(a.useState)("view"),E=Object(Xe.a)(g,2),x=E[0],w=E[1],y=Object(a.useState)(""),k=Object(Xe.a)(y,2),C=k[0],j=k[1],S=Object(a.useState)(!1),N=Object(Xe.a)(S,2),I=N[0],P=N[1],L=Object(a.useContext)(O),R=L.user,U=L.verifyAdministrator,A=function(e){w(e),"edit"===e&&j(l.Content)},D=function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,l.update(C);case 3:e.sent||A("view"),P(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a b\xe0i vi\u1ebft n\xe0y?")){e.next=5;break}return e.next=3,Ir.deleteTopic(l.Id);case 3:e.sent||T.a.push("/community");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){(function(){var t=Object(b.a)(h.a.mark((function t(){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ir.getTopic(e.match.params.id);case 2:n=t.sent,a=new Mr(n),i(a),s(!0),l&&l.getComments();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.match.params.id]);var B=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,l.UserVoteTopic===t&&(n=0),e.next=4,l.vote(n);case 4:v(!0),v(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(!c)return r.a.createElement(le,null);var q=l.Title,H=l.Content,W=l.Author,V=l.View,z=l.Vote,G=l.createdAt,Y=l.UserVoteTopic;return r.a.createElement("div",null,r.a.createElement(ce,{nav:[["home","/"],["topic","/community"],[q]]}),r.a.createElement($,null,r.a.createElement(J,null,r.a.createElement($e.a,{className:"w-100 bg-white corner shadow-sm p-3"},r.a.createElement("h2",{className:"font-semi-bold text-capitalize"},q),r.a.createElement("div",{className:"d-flex my-3"},r.a.createElement(p.a,{src:"image/logo.svg",fluid:!0,roundedCircle:!0,style:{width:"42px",height:"42px",marginRight:"15px"}}),r.a.createElement("div",{className:"flex-grow-1"},r.a.createElement("p",{className:"text-secondary mb-0"},r.a.createElement("em",null,W.Username,","," ",et()(G).format("HH:mm DD/MM/YYYY"))),r.a.createElement("p",{className:"text-secondary mb-0"},V," ","views")),!f&&r.a.createElement("div",null,r.a.createElement("span",{className:"count-vote mr-2"},r.a.createElement("span",{className:"fas fa-caret-".concat(z>=0?"up green":"down light-pink")})," ",z),r.a.createElement(F,{className:"bg-white dark-gray border-0 vote-up",onClick:function(){return B(1)}},r.a.createElement("span",{className:Kt()(["far fa-thumbs-up",{green:1===Y}]),style:{fontSize:"12px"}})),r.a.createElement(F,{className:"bg-white dark-gray border-0 vote-down",onClick:function(){return B(-1)}},r.a.createElement("span",{className:Kt()(["far fa-thumbs-down",{"light-pink":-1===Y}]),style:{fontSize:"12px"}})),R&&(R.Id===W.Id||U())&&r.a.createElement(Fr,null,r.a.createElement($e.a,{className:"shadow-sm border corner p-2 ml-1",style:{width:150}},R.Id===W.Id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{className:"bg-transparent no-effect dark-gray text-left",onClick:function(){return A("edit")}},r.a.createElement("span",{className:"fas fa-edit fa-fw font-sm mr-1"})," ","Ch\u1ec9nh s\u1eeda"),r.a.createElement("hr",{className:"m-1"})),r.a.createElement(F,{className:"bg-transparent no-effect dark-gray text-left text-danger",onClick:M},r.a.createElement("span",{className:"fas fa-trash fa-fw font-sm mr-1"})," ","X\xf3a"))))),"edit"===x?r.a.createElement("div",null,r.a.createElement(la,{mode:"markdown",theme:"default",name:"Content",value:C,onChange:function(e){return j(e.target.value)}}),r.a.createElement(F,{className:"bg-light-blue text-white float-right w-25 py-1 my-2",onClick:D,disabled:I},I?r.a.createElement("span",{className:"fas fa-spinner fa-spin"}):r.a.createElement("div",null,"C\u1eadp nh\u1eadt"))):r.a.createElement(Sn,{value:H}),r.a.createElement("hr",null),r.a.createElement(Hr,{topic:l}))),r.a.createElement(X,null,r.a.createElement(Rr,null))))},Vr=function(){return r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/community",component:Ur}),r.a.createElement(m.b,{exact:!0,path:"/community/post/:id",component:Wr}))},zr=function(){return r.a.createElement(Ge,null,r.a.createElement(Te,null,r.a.createElement(it,null,r.a.createElement(qe,null,r.a.createElement(Je,null,r.a.createElement(Q,null,r.a.createElement(Ua,null,r.a.createElement(Ca,null,r.a.createElement(Va,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:wr}),r.a.createElement(m.b,{path:"/contests",component:wr}),r.a.createElement(m.b,{exact:!0,path:"/login",component:ie}),r.a.createElement(m.b,{exact:!0,path:"/register",component:pe}),r.a.createElement(m.b,{path:"/help",component:Sr}),r.a.createElement(m.b,{exact:!0,path:"/forgot",component:Oa}),r.a.createElement(m.b,{exact:!0,path:"/reset",component:ja}),r.a.createElement(m.b,{exact:!0,path:"/SGCT/authentication",component:kr}),r.a.createElement(m.b,{path:"/contests",component:wr}),r.a.createElement(m.b,{path:"/courses",component:wa}),r.a.createElement(m.b,{path:"/community",component:Vr}),r.a.createElement(m.b,{component:de})))))))))))},Gr=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"getRoleFeatures",value:function(){var e={Administrator:["Problems","Executable","Contests","Quizzes","Contest","Collections","Courses","Users","Notification","Contribute","Premium"],Moderator:["Problems","Executable","Contests","Quizzes","Contest","Collections","Courses","Users","Notification","Contribute","Premium"],SuperAdministrator:["Problems","Executable","Contests","Quizzes","Contest","Collections","Courses","Users","Notification","Contribute","Premium"]}[Object(v.a)("Role")];return[["fas fa-file-powerpoint","Problems","/admin/problems","#2ecc71",!0],["fas fa-cog","Executable","/admin/executable","#e74c3c",!0],["fas fa-trophy","Contests","/admin/contests","#fbc531",!0],["fas fa-chalkboard-teacher","Courses","/admin/courses","#44bd32",!0],["fas fa-users-cog","Users","/admin/users","#273c75",!1]].filter((function(t){return e.includes(t[1])}))}}]),e}(),Yr=function(){return r.a.createElement("div",{className:"administrator-side-panel shadow-sm"},r.a.createElement("div",{className:"main-control"},r.a.createElement("div",{className:"main-control-content"},r.a.createElement(V,null,r.a.createElement("h1",null,r.a.createElement("strong",null,r.a.createElement("span",{className:"fas fa-cogs"})))),r.a.createElement(V,null,r.a.createElement("h1",null,r.a.createElement("strong",null,Object(v.a)("Role")))),r.a.createElement("ul",{className:"list-unstyled admin-feature-list"},r.a.createElement("li",{className:"admin-feature"},r.a.createElement(d.b,{exact:!0,to:"/admin",activeClassName:"admin-feature-active"},r.a.createElement("span",{className:"fas fa-cogs fa-fw"}),"\xa0\xa0\xa0Dashboard")),Gr.getRoleFeatures().map((function(e,t){return r.a.createElement("li",{className:"admin-feature",key:t},r.a.createElement(d.b,{to:e[2],activeClassName:"admin-feature-active"},r.a.createElement("span",{className:"".concat(e[0]," fa-fw")}),e[1]))}))))),r.a.createElement("div",{className:"hover-display d-flex align-items-center text-center"},r.a.createElement("span",{className:"fas fa-chevron-right m-auto"})))},Qr=function(e){var t=e.logo,n=e.color,a=e.title,c=e.addButton;return r.a.createElement($e.a,{className:"single-admin-feature shadow-sm"},r.a.createElement("div",{onClick:function(t){return function(t){"add-button"===t.target.id||"add-button"===t.target.parentElement.id?e.history.push("".concat(e.link,"/add")):e.history.push("".concat(e.link))}(t)},role:"link",tabIndex:"0"},r.a.createElement("div",{className:"cover"},r.a.createElement(R.a,null,r.a.createElement(U.a,{md:4,xs:4,className:"logo"},r.a.createElement("span",{className:t,style:{color:n}})))),r.a.createElement("hr",{className:"m-1"}),r.a.createElement("div",{className:"control"},r.a.createElement(R.a,null,r.a.createElement(U.a,{md:8,xs:8},r.a.createElement("h2",null,a)),r.a.createElement(U.a,{md:4,xs:4,className:"text-right"},c&&r.a.createElement("button",{className:"control-add",type:"button",id:"add-button"},r.a.createElement("span",{className:"fas fa-plus"}))||r.a.createElement("button",{className:"control-add",type:"button"},r.a.createElement("span",{className:"fas fa-tools"})))))))},Kr=function(e){var t=Gr.getRoleFeatures();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{nav:[["home","/"],["Admin","/admin"]]}),r.a.createElement($,null,t.map((function(t,n){return r.a.createElement(Qr,{key:n,logo:t[0],title:t[1],link:t[2],color:t[3],addButton:t[4],number:256,history:e.history})}))))},_r=r.a.createContext(),Jr=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetchProblems=Object(b.a)(h.a.mark((function e(){var t,n,r,c,s,o=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},!(!(o.length>1&&void 0!==o[1])||o[1])&&0!==a.state.problems.length){e.next=10;break}return e.next=5,Tt.a.getProblems(t);case 5:n=e.sent,r=n.totalProblems,c=n.problems,s=c.map((function(e){return new Ft(e)})),a.setState({totalProblems:r,problems:s});case 10:case"end":return e.stop()}}),e)}))),a.removeProblem=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("THIS ACTION CAN NOT BE UNDONE!")){e.next=3;break}return e.next=3,Tt.a.removeProblem(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={problems:[],totalProblems:0,fetchProblems:a.fetchProblems,editProblem:a.editProblem,filterProblems:a.filterProblems,removeProblem:a.removeProblem,addProblem:a.addProblem},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(_r.Provider,{value:this.state},e)}}]),n}(r.a.Component),Xr=function(e){var t,n=r.a.createRef();Object(a.useEffect)((function(){if(e.toggleQuery){var t=ve.a.getAllQueryString();n.current.value=t[e.searchKey]||""}}),[]);var c=e.Id;return r.a.createElement("div",{className:"d-flex border rounded"},r.a.createElement("div",{className:"px-2 bg-white rounded d-flex align-items-center"},r.a.createElement("span",{className:"fas fa-search fa-fw d-inline-block"})),r.a.createElement(en.a,{id:c,className:"border-0 rounded pl-0","aria-label":"Search",placeholder:"Search",onKeyUp:function(){clearTimeout(t),e.toggleQuery?t=setTimeout((function(){try{ve.a.setQueryString(e.searchKey,n.current.value)}catch(t){}}),500):e.onChange({target:{value:n.current.value}})},maxLength:"15",ref:n}))};Xr.defaultProps={Id:"search-pattern",onChange:void 0,searchKey:"search",toggleQuery:!1};var $r=Xr,Zr=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onRemoveTag=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.tag,a.setState({isRemoving:!0}),e.next=4,a.tagContext.removeTag(t);case 4:a.setState({isRemoving:!1});case 5:case"end":return e.stop()}}),e)}))),a.state={isRemoving:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state.isRemoving,n=this.props.tag;return r.a.createElement(Be.Consumer,null,(function(a){return e.tagContext=a,r.a.createElement(R.a,{className:"border-bottom p-2"},r.a.createElement(U.a,{md:10,xs:10},n),r.a.createElement(U.a,{md:2,xs:2},r.a.createElement("button",{type:"button",className:"bg-white text-danger border-0",disabled:!0===t,onClick:e.onRemoveTag},t?r.a.createElement(se,null):r.a.createElement("span",{className:"fas fa-trash"}))))}))}}]),n}(r.a.Component),ec=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onAddTag=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.tag,a.setState({isAddingTag:!0}),e.next=4,a.tagContext.addTag(t);case 4:a.setState({isAddingTag:!1,tag:""});case 5:case"end":return e.stop()}}),e)}))),a.state={tag:"",isAddingTag:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.isAddingTag,a=t.tag;return r.a.createElement(Be.Consumer,null,(function(t){return e.tagContext=t,r.a.createElement(Jt,{title:"Tags"},t.tags.map((function(e){return r.a.createElement(Zr,{tag:e,key:e.Id})})),r.a.createElement("div",{className:"d-flex m-2"},r.a.createElement(en.a,{onChange:function(t){return e.setState({tag:t.target.value.toLowerCase()})},placeholder:"Tag name","aria-label":"Tag name",className:"p-1 flex-grow-1",value:a,maxLength:20}),r.a.createElement(F,{className:"bg-light-blue white px-2 ml-1",onClick:e.onAddTag,disabled:n},n?r.a.createElement(se,null):"Add")))}))}}]),n}(r.a.Component),tc=r.a.createContext(),nc=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetchProblem=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.a.getProblem(t);case 2:n=e.sent,r=a.state.container,n&&r.add(new Ft(ke.parse(n)),0),a.setState((function(){return{container:r}}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getProblem=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=parseInt(t,10),e.next=3,a.fetchProblem(n);case 3:return e.abrupt("return",a.state.container.getId(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.addProblem=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.a.addProblem(t);case 2:return"string"===typeof(n=e.sent)?a.setState({error:n}):(r=a.state.container,n=new Ft(n),r.add(n),a.setState({container:r})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.editProblemLocal=function(e){a.state.container.update(e)},a.editProblem=function(){var e=Object(b.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.update(n);case 2:if("string"!==typeof(r=e.sent)){e.next=6;break}return a.setState({error:r}),e.abrupt("return",r);case 6:return a.state.container.update(be.a.cloneDeep(t)),e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.removeProblem=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("ARE YOU SURE?")){e.next=10;break}return e.next=3,Tt.a.removeProblem(t.Id);case 3:if(!(n=e.sent)){e.next=7;break}return a.setState({error:n}),e.abrupt("return",!1);case 7:return a.state.container.remove(t),a.setState({message:"Problem removed!"}),e.abrupt("return",!0);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.clearError=function(){a.setState({error:"",message:""})},a.state=Object(H.a)(Object(H.a)({},a.state),{},{addProblem:a.addProblem,editProblem:a.editProblem,removeProblem:a.removeProblem,fetchProblem:a.fetchProblem,getProblem:a.getProblem,editProblemLocal:a.editProblemLocal,error:"",message:""}),a}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(tc.Provider,{value:this.state},this.props.children),(this.state.error.length>0||this.state.message.length>0)&&r.a.createElement(Fe,{title:"Problem",clearError:this.clearError,message:this.state.message,error:this.state.error}))}}]),n}(Te),ac=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).refresh=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({refreshing:!0});case 2:return e.next=4,a.setState({refreshing:!1});case 4:case"end":return e.stop()}}),e)}))),a.onRemove=Object(b.a)(h.a.mark((function e(){var t,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.removeProblem,r=t.problem,a.setState({isRemoving:!0}),e.next=4,n(r.Id);case 4:a.setState({isRemoving:!1});case 5:case"end":return e.stop()}}),e)}))),a.state={problem:e.problem,refreshing:!1,isRemoving:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.problem,a=t.refreshing,c=t.isRemoving,s=n.Id,o=n.ProblemCode,u=n.Name,l=n.Creator,i=n.Solved,m=n.Published,p=n.Premium;return a?r.a.createElement("tr",null):r.a.createElement(tc.Consumer,null,(function(t){return e.problemContext=t,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(d.a,{to:"/admin/problems/".concat(s)},o)),r.a.createElement(ne.Consumer,null,(function(){return r.a.createElement("td",null,r.a.createElement(d.a,{to:"/admin/problems/".concat(s)},r.a.createElement("strong",null,u)))})),r.a.createElement("td",null,r.a.createElement(d.a,{to:"/user/".concat(l.Username)},l.Username)),r.a.createElement("td",{style:{textAlign:"right"}},i),r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement(qn,{className:"green",id:"public-".concat(o),name:"public-".concat(o),checked:m,onChange:Object(b.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.togglePublished();case 2:return e.problemContext.editProblemLocal(n),t.next=5,e.refresh();case 5:case"end":return t.stop()}}),t)})))})),r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement(qn,{className:"green",id:"premium-".concat(o),name:"premium-".concat(o),checked:p,onChange:Object(b.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.togglePremium();case 2:return e.problemContext.editProblemLocal(n),t.next=5,e.refresh();case 5:case"end":return t.stop()}}),t)})))})),r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement(d.a,{to:"/admin/problems/edit/".concat(s)},r.a.createElement("button",{type:"button",className:"basic-component-button bg-light-pink text-white"},r.a.createElement("span",{className:"fas fa-pen"})))),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"basic-component-button bg-light-pink text-white",onClick:e.onRemove,disabled:c},c&&r.a.createElement("span",{className:"fas fa-spin fa-spinner"})||r.a.createElement("span",{className:"fas fa-trash"}))))}))}}]),n}(r.a.Component),rc={vi:{"add new":"Th\xeam m\u1edbi","total problems":"S\u1ed1 l\u01b0\u1ee3ng b\xe0i t\u1eadp",code:"M\xe3 b\xe0i",name:"T\xean b\xe0i",author:"T\xe1c gi\u1ea3",solved:"Gi\u1ea3i \u0111\u01b0\u1ee3c"}},cc=new Z;cc.import(rc);var sc=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).refresh=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ve.a.setQueryString("page",a.state.page),a.setState({fetched:!1}),e.next=4,a.fetchProblems();case 4:case"end":return e.stop()}}),e)}))),a.fetchProblems=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ve.a.getAllQueryString(),e.next=3,a.problemContext.fetchProblems(t);case 3:a.setState({numberOfPage:Math.ceil(a.problemContext.totalProblems/20),fetched:!0});case 4:case"end":return e.stop()}}),e)}))),a.removeProblem=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.problemContext.removeProblem(t);case 3:return e.next=5,a.refresh();case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),a.itemPerPage=20;var r=ve.a.getAllQueryString(),c=r.page,s=r.search;return a.state=Object(H.a)(Object(H.a)({},a.state),{},{page:Number(c)||1,fetched:!1,search:s}),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(_r.Consumer,null,(function(t){return e.problemContext=t,e.state.fetched?r.a.createElement("div",null,r.a.createElement("table",{className:"basic-component-table"},r.a.createElement("thead",null,r.a.createElement(ne.Consumer,null,(function(e){var t=e.language;return cc.use(t),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"},rowSpan:2},cc.get("Code")),r.a.createElement("th",{rowSpan:2},cc.get("Name")),r.a.createElement("th",{style:{width:"10%"},rowSpan:2},cc.get("Author")),r.a.createElement("th",{style:{width:"2%",textAlign:"center"},rowSpan:2},r.a.createElement("span",{className:"fas fa-user-check"})),r.a.createElement("th",{style:{width:"2%",textAlign:"center"}},r.a.createElement("span",{className:"fas fa-globe-americas"})),r.a.createElement("th",{style:{width:"2%",textAlign:"center"}},r.a.createElement("span",{className:"fas fa-dollar-sign"})),r.a.createElement("th",{style:{width:"2%",textAlign:"center"}},r.a.createElement("span",{className:"fas fa-pencil-ruler"})),r.a.createElement("th",{style:{width:"2%",textAlign:"center"}},r.a.createElement("span",{className:"fas fa-pen"})),r.a.createElement("th",{style:{width:"2%",textAlign:"center"}},r.a.createElement("span",{className:"fas fa-trash"})))}))),r.a.createElement("tbody",null,t.problems.map((function(t){return r.a.createElement(ac,{key:t.Id,problem:t,removeProblem:e.removeProblem})})))),r.a.createElement("br",null),e.renderPagination(e.refresh)):r.a.createElement(ue,null)}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ve.a.getAllQueryString(),n=t.search,(a=t.page)===this.state.page){e.next=7;break}return e.next=4,this.setState({page:a||1});case 4:return e.next=6,this.refresh();case 6:return e.abrupt("return");case 7:if(void 0===n||n===this.state.search){e.next=12;break}return e.next=10,this.setState({page:1,search:n});case 10:return e.next=12,this.refresh();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchProblems();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ln),oc=function(){var e=new Z;e.import(rc);var t=Object(a.useContext)(ne).language;e.use(t);var n=Object(a.useContext)(_r).totalProblems;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{nav:[["admin","/admin"],["problems","/admin/problems"]]}),r.a.createElement($,null,r.a.createElement(J,{md:9},r.a.createElement($e.a,{style:{width:"100%"},className:"shadow-sm"},r.a.createElement($e.a.Body,{className:"p-2"},r.a.createElement("div",null,r.a.createElement("h2",{className:"mb-3"},r.a.createElement("strong",null,"B\xe0i t\u1eadp")),r.a.createElement("div",{className:"mb-2 d-flex"},r.a.createElement("div",{className:"mr-2"},r.a.createElement(d.a,{to:"/admin/problems/add"},r.a.createElement(F,{className:"bg-green p-2 shadow-sm"},r.a.createElement("strong",null,r.a.createElement("span",{className:"fas fa-plus-circle"})," ",e.get("Add new"))))),r.a.createElement("div",{className:"mr-2"},r.a.createElement(F,{className:"bg-green corner p-2 text-white"},r.a.createElement("strong",null,e.get("Total problems"),":"," ",n))),r.a.createElement("div",{className:"flex-grow-1"},r.a.createElement($r,{toggleQuery:!0})))),r.a.createElement(sc,null)))),r.a.createElement(X,{md:3},r.a.createElement(ec,null))))},uc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Dt({ProblemId:e,LanguageId:t,Statement:"",InputDescription:"",OutputDescription:"",Explanation:"",Published:!1})},lc=new Z;lc.import(an);var ic=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).addStatement=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.problem,e.next=3,Tt.a.addStatement(t.Id,uc(t.Id));case 3:"object"===typeof(n=e.sent)&&(t.Statements.push(new Dt(n)),a.setState(t),a.setLanguage(t.Statements.length-1));case 5:case"end":return e.stop()}}),e)}))),a.onChange=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r,c,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.state.problem,r=a.state.language,c=n.Statements[r],s=t.target.name,o=t.target.value,c[s]=o,a.setState({problem:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.removeStatement=Object(b.a)(h.a.mark((function e(){var t,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("THIS ACTION CAN NOT BE UNDONE?\nARE YOU SURE?")){e.next=8;break}return a.setState({isRemoving:!0}),t=a.state,n=t.problem,r=t.language,e.next=5,Tt.a.removeStatement(n.Id,n.Statements[r].Id);case 5:e.sent||(n.Statements.splice(r,1),a.setLanguage(Math.max(r-1,0)),a.setState(n)),a.setState({isRemoving:!1});case 8:case"end":return e.stop()}}),e)}))),a.state=Object(H.a)(Object(H.a)({},a.state),{},{problem:e.problem,isRemoving:!1}),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.problem,t=this.state.language,n=e.Statements[t];return r.a.createElement("div",{className:"p-2"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(Pn,{languages:e.Statements,activeLanguage:t,setLanguage:this.setLanguage,add:!0,addLanguage:this.addStatement}),e.Statements.length>0&&r.a.createElement(F,{className:"bg-danger mr-2",onClick:this.removeStatement,disabled:this.state.isRemoving},this.state.isRemoving&&r.a.createElement("span",{className:"fas fa-spin fa-spinner"})||r.a.createElement("span",{className:"fas fa-trash"}),"\xa0",lc.get("Remove"))),r.a.createElement("br",null),e.Statements.length>0&&r.a.createElement("div",null,r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"Ng\xf4n ng\u1eef")),r.a.createElement(tr.a.Control,{as:"select",name:"LanguageId",value:n.LanguageId,onChange:this.onChange},r.a.createElement("option",{value:1},"VI"),r.a.createElement("option",{value:2},"EN"))),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,lc.get("Statement"))),r.a.createElement(la,{mode:"markdown",theme:"default",name:"Statement",value:n.Statement,onChange:this.onChange})),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"Input format")),r.a.createElement(la,{mode:"markdown",theme:"default",name:"InputDescription",value:n.InputDescription,onChange:this.onChange})),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"Output format")),r.a.createElement(la,{mode:"markdown",theme:"default",name:"OutputDescription",value:n.OutputDescription,onChange:this.onChange})),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,lc.get("Sample testcase explanation"))),r.a.createElement(la,{mode:"markdown",theme:"default",name:"Explanation",value:n.Explanation,onChange:this.onChange})),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(qn,{label:lc.get("Published"),name:"Published",className:"green",labelClassName:"font-weight-bold",checked:n.Published,onChange:this.onChange}))))}}]),n}(Nn),mc=new Ft({Id:"",ProblemCode:"",Name:"",Tags:[],Author:[""],Score:1,ProblemTypeId:1,TimeLimit:1,MemoryLimit:512,Solved:0,Published:!1,Resource:"Big-O",Dataset:"Big-O",Difficulty:"Very easy",Premium:!1,RunScript:"run",CompareScript:"",CompareArgs:"",Testcase:[],Statement:[]}),pc=new Z;pc.import(an);var dc=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onInformationChange=function(e){var t=e.target.value,n=e.target.name,r=a.state.problem;r[n]=t,a.setState({problem:r})},a.onAddTag=function(e){var t=a.state.problem;t.Tags.includes(e)||t.Tags.push(e),a.setState({problem:t})},a.onRemoveTag=function(e){var t=a.state.problem;t.Tags=t.Tags.filter((function(t){return t!==e})),a.setState({problem:t})},a.state={problem:e.problem},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state.problem,n=t.ProblemCode,a=t.Name,c=t.TimeLimit,s=t.MemoryLimit,o=t.Score,u=t.ProblemTypeId,l=t.Published,i=t.Resource,m=t.Dataset,p=t.Difficulty;return r.a.createElement(ne.Consumer,null,(function(t){var d=t.language;return pc.use(d),r.a.createElement("div",{className:"p-2"},r.a.createElement(tr.a,{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,pc.get("Problem code"))),r.a.createElement(tr.a.Control,{type:"text",name:"ProblemCode",value:n,onChange:e.onInformationChange,autoComplete:"off"})),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,pc.get("Name"))),r.a.createElement(tr.a.Control,{type:"text",name:"Name",value:a,onChange:e.onInformationChange,autoComplete:"off"})),r.a.createElement(R.a,null,r.a.createElement(U.a,{md:6,className:"pl-0"},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,pc.get("Time limit")," ","(ms)")),r.a.createElement(tr.a.Control,{type:"number",name:"TimeLimit",value:c,onChange:e.onInformationChange}))),r.a.createElement(U.a,{md:6},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,pc.get("Memory limit")," ","(MB)")),r.a.createElement(tr.a.Control,{type:"number",name:"MemoryLimit",value:s,onChange:e.onInformationChange})))),r.a.createElement(R.a,null,r.a.createElement(U.a,{md:4,className:"pl-0"},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,pc.get("Type"))),r.a.createElement(tr.a.Control,{as:"select",name:"ProblemTypeId",value:u,onChange:e.onInformationChange},r.a.createElement("option",{value:1},"IOI"),r.a.createElement("option",{value:2},"ACM")))),r.a.createElement(U.a,{md:4},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,pc.get("Difficulty"))),r.a.createElement(tr.a.Control,{as:"select",name:"Difficulty",value:p,onChange:e.onInformationChange},r.a.createElement("option",{value:"Secret"},pc.get("Secret")),r.a.createElement("option",{value:"Very easy"},pc.get("Very Easy")),r.a.createElement("option",{value:"Easy"},pc.get("Easy")),r.a.createElement("option",{value:"Medium"},pc.get("Medium")),r.a.createElement("option",{value:"Hard"},pc.get("Hard")),r.a.createElement("option",{value:"Very hard"},pc.get("Very Hard"))))),r.a.createElement(U.a,{md:4},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,pc.get("Score"))),r.a.createElement(tr.a.Control,{type:"number",name:"Score",value:o,onChange:e.onInformationChange})))),r.a.createElement(R.a,null,r.a.createElement(U.a,{md:6,className:"pl-0"},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,pc.get("Resource"))),r.a.createElement(tr.a.Control,{type:"text",name:"Resource",value:i,spellCheck:!1,onChange:e.onInformationChange,autoComplete:"off"}))),r.a.createElement(U.a,{md:6},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"Dataset")),r.a.createElement(tr.a.Control,{type:"text",name:"Dataset",value:m,spellCheck:!1,onChange:e.onInformationChange,autoComplete:"off"})))),r.a.createElement(R.a,null,r.a.createElement(U.a,{md:2,className:"pl-0"},r.a.createElement(qn,{label:pc.get("Published"),className:"green",name:"Published",labelClassName:"font-weight-bold",checked:l,onChange:e.onInformationChange})))))}))}}]),n}(r.a.Component),fc=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"Pad",value:function(e,t){for(var n="".concat(e);n.length<t;)n="0".concat(n);return n}}]),e}(),hc=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).refresh=function(){a.setState({refreshing:!0}),a.setState({refreshing:!1})},a.orderUp=Object(b.a)(h.a.mark((function e(){var t,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.orderTestcase,r=t.index,e.next=3,n(r,-1);case 3:case"end":return e.stop()}}),e)}))),a.orderDown=Object(b.a)(h.a.mark((function e(){var t,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.orderTestcase,r=t.index,e.next=3,n(r,1);case 3:case"end":return e.stop()}}),e)}))),a.onToggleSample=Object(b.a)(h.a.mark((function e(){var t,n,r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.mode,r=t.testcase,c=t.setError,"add"!==n){e.next=6;break}return e.next=4,r.toggleSample(!1);case 4:e.next=12;break;case 6:return e.next=8,r.toggleSample(!1);case 8:if(!(s=e.sent)){e.next=12;break}return c(s),e.abrupt("return");case 12:a.refresh();case 13:case"end":return e.stop()}}),e)}))),a.onToggleInput=function(){var e=a.props.index;document.getElementById("replace-testcase-".concat(e)).click()},a.onUpload=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r,c,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props,r=n.mode,c=n.testcase,s=n.setError,a.setState({isReplacing:!0}),"add"!==r){e.next=7;break}return e.next=5,c.replaceFile(t.target.files[0]);case 5:e.next=13;break;case 7:return e.next=9,c.replaceFile(t.target.files[0],!1);case 9:if(!(o=e.sent)){e.next=13;break}return s(o),e.abrupt("return");case 13:a.setState({isReplacing:!1}),a.refresh();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onRemoveTestcase=Object(b.a)(h.a.mark((function e(){var t,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.onRemove,r=t.index,a.setState({isRemoving:!0}),!window.confirm("THIS ACTION CAN NOT BE UNDONE!")){e.next=6;break}return a.setState({isRemoving:!0}),e.next=6,n(r);case 6:a.setState({isRemoving:!1});case 7:case"end":return e.stop()}}),e)}))),a.state={refreshing:!1,isRemoving:!1,isReplacing:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.refreshing,n=e.isRemoving,a=e.isReplacing,c=this.props,s=c.index,o=c.testcase,u=c.lastTestcase,l=o.Rank,i=o.Name,m=o.InputContent,p=o.InputSize,d=o.OutputContent,f=o.OutputSize,h=o.IsSample;return t?r.a.createElement("tr",null):r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"d-flex flex-column"},s>0&&r.a.createElement(F,{className:"bg-light-blue",onClick:this.orderUp},r.a.createElement("span",{className:"fas fa-sort-up"})),r.a.createElement("strong",{className:"text-center"},fc.Pad(Number(l),3)),!u&&r.a.createElement(F,{className:"bg-light-blue",onClick:this.orderDown},r.a.createElement("span",{className:"fas fa-sort-down"})))),r.a.createElement("td",null,i),r.a.createElement("td",{style:{wordBreak:"break-all"}},atob(m).substr(0,200)+(atob(m).length>200?"...":"")),r.a.createElement("td",null,Math.ceil(p/1024)),r.a.createElement("td",{style:{wordBreak:"break-all"}},atob(d).substr(0,200)+(atob(d).length>200?"...":"")),r.a.createElement("td",null,Math.ceil(f/1024)),r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement(qn,{onChange:this.onToggleSample,checked:!0===h})),r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement("button",{type:"button",className:"basic-component-button bg-light-blue text-white corner mb-2 ml-2 mr-2 p-1",disabled:a,onClick:this.onToggleInput},a&&r.a.createElement("span",{className:"fas fa-spinner fa-spin"})||r.a.createElement("span",{className:"fas fa-pen fa-fw"})),r.a.createElement("button",{type:"button",className:"basic-component-button bg-light-pink text-white corner p-1",disabled:n,onClick:this.onRemoveTestcase},n&&r.a.createElement("span",{className:"fas fa-spinner fa-spin"})||r.a.createElement("span",{className:"fas fa-trash fa-fw"})),r.a.createElement("input",{type:"file",multiple:!1,className:"d-none",accept:".in,.ans",id:"replace-testcase-".concat(s),onChange:this.onUpload})))}}]),n}(r.a.Component),bc=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.problem,e.next=3,t.loadTestcase();case 3:a.setState({fetched:!0});case 4:case"end":return e.stop()}}),e)}))),a.toggleUploader=function(){document.getElementById("upload-testcase").click()},a.onUpload=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r,c,s,o,u,l,i,m,p,d,f;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isUploading:!0}),n=a.state,r=n.problem,c=n.numberOfLoadedTestcase,s=a.props.mode,o=t.target.files,u="",l=r.Testcase.reduce((function(e,t){return Math.max(e,t.Rank)}),0),e.next=8,At.handleInputFiles(o,l,r.Id);case 8:if(i=(i=e.sent).filter((function(e){return!r.Testcase.find((function(t){return t.Name===e.Name}))||(u=u.concat("Testcase ".concat(e.Name," already exists\n")),!1)})),"edit"!==s){e.next=19;break}a.setState({numberOfTestcase:i.length}),m=[],p=Object(He.a)(i);try{for(p.s();!(d=p.n()).done;)f=d.value,m.push(Ut.addTestcase(r.Id,f))}catch(h){p.e(h)}finally{p.f()}return e.next=17,Promise.all(m);case 17:e.sent.forEach((function(e,t){"string"===typeof e?u=u.concat('"'.concat(i[t].Name,'" - ').concat(e)):(i[t]=new At(e),a.setState({numberOfLoadedTestcase:c+1}))}));case 19:u.length>0&&a.setError(u),a.setState({numberOfLoadedTestcase:c+i.length}),r.Testcase=r.Testcase.concat(i),a.setState({problem:r,isUploading:!1,numberOfLoadedTestcase:0});case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onRemoveTestcase=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state.problem,"edit"!==a.props.mode){e.next=9;break}return e.next=5,Ut.removeTestcase(n.Id,n.Testcase[t].Id);case 5:if(!(r=e.sent)){e.next=9;break}return a.setState({error:r}),e.abrupt("return");case 9:n.Testcase.splice(t,1),a.setState({problem:n});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.orderTestcase=function(){var e=Object(b.a)(h.a.mark((function e(t,n){var r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.state.problem,e.prev=1,c=r.Testcase[t],e.next=5,c.changeOrder(n,!1);case 5:if((s=r.Testcase[t+n]).Rank!==c.Rank){e.next=9;break}return e.next=9,s.changeOrder(-n,!1);case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:r.Testcase=r.Testcase.sort((function(e,t){return e.Rank-t.Rank})),a.setState({problem:r});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),a.setError=function(e){a.setState({error:e})},a.clearError=function(){a.setState({error:""})},a.state={fetched:!1,problem:e.problem,isUploading:!1,numberOfLoadedTestcase:0,error:""},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.fetched,a=t.problem,c=t.isUploading,s=t.numberOfLoadedTestcase,o=t.numberOfTestcase,u=t.error,l=this.props.mode;if(!n)return r.a.createElement(ue,null);var i=a.Testcase.sort((function(e,t){return e.Rank-t.Rank}));return r.a.createElement("div",null,r.a.createElement("table",{className:"basic-component-table testcase-list"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"}},"#"),r.a.createElement("th",{style:{width:"10%"}},"Filename"),r.a.createElement("th",{style:{width:"30%"}},"Input Content"),r.a.createElement("th",{style:{width:"10%"}},"Input Size (KB)"),r.a.createElement("th",{style:{width:"30%"}},"Output Content"),r.a.createElement("th",{style:{width:"10%"}},"Output Size (KB)"),r.a.createElement("th",null,"Sample"),r.a.createElement("th",null,"Setting"))),r.a.createElement("tbody",null,i.map((function(t,n){return r.a.createElement(hc,{key:t.Id,index:n,testcase:t,onRemove:e.onRemoveTestcase,setError:e.setError,mode:l,orderTestcase:e.orderTestcase,lastTestcase:n===i.length-1})})))),r.a.createElement("input",{type:"file",multiple:!0,className:"d-none",accept:".in,.ans",id:"upload-testcase",onChange:this.onUpload}),r.a.createElement(V,null,r.a.createElement(F,{className:"mt-2 bg-light-blue",onClick:this.toggleUploader,disabled:c},c&&r.a.createElement("div",null,r.a.createElement("span",{className:"fas fa-spinner fa-spin"})," ","Uploading",s,"/",o)||r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"fas fa-plus-circle"})," ","Add new testcase"))),u&&r.a.createElement(Fe,{title:"Testcase",error:u,clearError:this.clearError,closebutton:1}))}}]),n}(r.a.Component),vc=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"fetchExecutable",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("get",k.H).request();case 3:return t=e.sent,e.abrupt("return",t.executables);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"addExecutable",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("post",k.H,void 0,{executable:t}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"editExecutable",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("put",k.G,{Id:t},{executable:n}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeExecutable",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("delete",k.G,{Id:t}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),gc=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"assignFile",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rt.readBinary(t);case 2:return n=e.sent,this.Zipfile=btoa(n),e.next=6,Rt.getMD5Hash(t);case 6:this.Md5sum=e.sent;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editExecutable",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=be.a.cloneDeep(t),a=be.a.cloneDeep(this),r=Ee.default.getDifferent(n,a),e.prev=3,e.next=6,vc.editExecutable(n.Id,r);case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ee.default),Ec=r.a.createContext(),xc=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetchExecutable=Object(b.a)(h.a.mark((function e(){var t,n,r,c,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a.state.executable.length){e.next=9;break}return e.next=3,vc.fetchExecutable();case 3:t=e.sent,n=t.map((function(e){return new gc(e)})).sort((function(e,t){return e.Id.localeCompare(t.Id)})),r=a.state.executable,c=Object(He.a)(n);try{for(c.s();!(s=c.n()).done;)o=s.value,r.add(o)}catch(u){c.e(u)}finally{c.f()}a.setState({executable:r});case 9:case"end":return e.stop()}}),e)}))),a.getExecutable=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchExecutable();case 2:return e.abrupt("return",a.state.executable.getCustom("Id",t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.addExecutable=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vc.addExecutable(t);case 2:(n=e.sent)?a.setState({error:n}):((r=a.state.executable).add(t),a.setState({executable:r,message:"Executable added!"}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.editExecutable=function(e,t){var n=a.state.executable;n.update(Object(H.a)(Object(H.a)({},t),{},{Id:e})),a.setState({executable:n,message:"Executable updated!"})},a.removeExecutable=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vc.removeExecutable(t);case 2:if(!(n=e.sent)){e.next=8;break}throw a.setState({error:n}),new Error(n);case 8:(r=a.state.executable).remove({Id:t}),a.setState({executable:r,message:"Executable removed!"});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.clearError=function(){a.setState({error:"",message:""})},a.state={executable:new fe,error:"",message:"",addExecutable:a.addExecutable,removeExecutable:a.removeExecutable,getExecutable:a.getExecutable,fetchExecutable:a.fetchExecutable,editExecutable:a.editExecutable},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.error,a=t.message;return r.a.createElement(Ec.Provider,{value:this.state},e,r.a.createElement(De,{title:"Executable",error:n.length>0,show:n.length>0||a.length>0,onHide:this.clearError,toggle:this.clearError,closebutton:!0},n&&r.a.createElement("p",null,r.a.createElement("span",{className:"fas fa-times-circle light-pink"})," ",n),a&&r.a.createElement("p",null,r.a.createElement("span",{className:"fas fa-check-circle green"})," ",a)))}}]),n}(r.a.Component),wc=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).onInformationChange=function(e){var t=e.target.value;"boolean"===typeof t&&(t=!0===t?"1":"0");var n=e.target.name,r=a.state.problem;r[n]=t,a.setState({problem:r})};var r=a.props.problem;return a.state={problem:r,fetched:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.executableContext.fetchExecutable();case 2:this.setState({fetched:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.fetched;return r.a.createElement(Ec.Consumer,null,(function(n){if(e.executableContext=n,!t)return r.a.createElement(oe,null);var a=e.state.problem,c=a.RunScript,s=a.CompareScript,o=a.CompareArgs;return r.a.createElement("div",{className:"p-2"},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"Run script")),r.a.createElement(tr.a.Control,{as:"select",name:"RunScript",value:c,onChange:e.onInformationChange},r.a.createElement("option",{value:"run"},"run"))),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"Compare script")),r.a.createElement(tr.a.Control,{as:"select",name:"CompareScript",value:s,onChange:e.onInformationChange},r.a.createElement("option",{value:"","aria-label":"executable"}),n.executable.container.map((function(e){return r.a.createElement("option",{value:e.Id,key:e.Id},e.Id)})))),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"Compare args")),r.a.createElement(tr.a.Control,{type:"text",name:"CompareArgs",value:o,spellCheck:!1,autoComplete:"off",onChange:e.onInformationChange})))}))}}]),n}(r.a.Component),yc=new Z;yc.import({vi:{save:"L\u01b0u",remove:"X\xf3a",saved:"\u0110\xe3 l\u01b0u"}});var kc=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;Object(o.a)(this,n),a=t.call(this,e);var r=e.mode,c=e.isRemoving,s=e.isSaving,u=e.isCanceling;return a.state={mode:r,isRemoving:c,isSaving:s,isCanceling:u,saveSuccessfully:!1},a}return Object(u.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.mode,n=e.isRemoving,a=e.isSaving,r=e.isCanceling,c=e.saveSuccessfully,s=this.state,o=s.mode,u=s.isRemoving,l=s.isSaving,i=s.isCanceling,m=s.saveSuccessfully;o===t&&u===n&&l===a&&i===r&&m===c||this.setState({mode:t,isRemoving:n,isSaving:a,saveSuccessfully:c})}},{key:"render",value:function(){var e=this.state,t=e.mode,n=e.isRemoving,a=e.isSaving,c=e.isCanceling,s=e.saveSuccessfully,o=this.props,u=o.onSaveAndPreview,l=o.onSave,i=o.onRemove,m=o.onCancel;return r.a.createElement(ne.Consumer,null,(function(e){var o=e.language;return yc.use(o),r.a.createElement($e.a,{className:"p-2 shadow-sm mt-2 w-100"},r.a.createElement($e.a.Body,{className:"p-0 d-flex justify-content-end",style:{fontSize:"16px"}},m&&r.a.createElement(F,{className:"bg-danger mr-2",onClick:m,disabled:c},c&&r.a.createElement("span",{className:"fas fa-spin fa-spinner"})||r.a.createElement("span",{className:"fas fa-ban"}),"\xa0",yc.get("Cancel")),"edit"===t&&r.a.createElement(F,{className:"bg-danger mr-2",onClick:i,disabled:n},n&&r.a.createElement("span",{className:"fas fa-spin fa-spinner"})||r.a.createElement("span",{className:"fas fa-trash"}),"\xa0",yc.get("Remove")),u&&"edit"===t&&r.a.createElement(F,{className:"bg-light-blue",onClick:u,disabled:a},r.a.createElement("span",{className:"fas fa-eye"}),"\xa0L\u01b0u v\xe0 xem th\u1eed"),"\xa0",s?r.a.createElement(F,{className:"bg-green"},r.a.createElement("span",{className:"fas fa-check-circle"}),"\xa0",yc.get("Saved")):r.a.createElement(F,{className:"bg-light-blue",onClick:l,disabled:a},a&&r.a.createElement("span",{className:"fas fa-spin fa-spinner"})||r.a.createElement("span",{className:"fas fa-save"}),"\xa0",yc.get("Save"))))}))}}]),n}(r.a.Component);kc.defaultProps={isCanceling:!1,saveSuccessfully:!1,onSaveAndPreview:null,onSave:null,onRemove:null,onCancel:null};var Cc=kc,Oc=n(62).default,jc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Oc({LanguageId:t,Content:"",Publised:!1},e)},Sc=function(e){var t=e.tutorial,n=Object(a.useContext)(Dn),c=n.languages,s=n.fetchLanguages,o=Object(a.useState)(!1),u=Object(Xe.a)(o,2),l=u[0],i=u[1],m=Object(a.useState)(t.SourceCodes[0]?t.SourceCodes[0].LanguageId:void 0),p=Object(Xe.a)(m,2),d=p[0],f=p[1];Object(a.useEffect)((function(){(function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:i(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var v=function(){var e=Object(b.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.addSourceCode(n);case 2:return f(n),e.next=5,i(!1);case 5:return e.next=7,i(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(!l)return r.a.createElement(se,null);var g=t.SourceCodes.map((function(e){return e.LanguageId})),E=t.SourceCodes.find((function(e){return e.LanguageId===d}));return r.a.createElement("div",null,c.map((function(e){return!g.includes(e.Id)&&r.a.createElement(F,{key:e.Id,className:"mr-2 bg-green text-white",onClick:function(){return v(e.Id)}},r.a.createElement("span",{className:"fas fa-plus-circle"})," ",e.Name)})),E&&r.a.createElement("div",null,r.a.createElement(en.a,{value:d,className:"w-25 mt-2 mb-2",as:"select",onChange:function(e){return f(parseInt(e.target.value,10))},id:"search-tag",name:"mode"},t.SourceCodes.map((function(e){return r.a.createElement("option",{key:e.Id,value:e.LanguageId},c.find((function(t){return t.Id===e.LanguageId})).Name)}))),r.a.createElement(la,{value:E.Content,onChange:function(e){E.Content=e.target.value},onSelectionChange:function(){},theme:"default",showToolbar:!1,mode:c.find((function(e){return e.Id===d})).Name})))},Nc=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onChange=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.state.tutorial,r=t.target.name,c=t.target.value,"LanguageId"===r&&(c=parseInt(c,10)),n[r]=c,a.setState({tutorial:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onSave=Object(b.a)(h.a.mark((function e(){var t,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setState({isSaving:!0}),"add"!==a.state.mode){e.next=10;break}return t=a.state.tutorial,n=a.props.problem,e.next=6,Tt.a.addTutorial(n.Id,t);case 6:"object"===typeof(r=e.sent)&&(t.updateProperty(r),n.Tutorials.push(t),a.setState({mode:"edit",origin:t,tutorial:be.a.cloneDeep(t),fetched:!1}),a.setState({fetched:!0})),e.next=14;break;case 10:return e.next=12,a.state.tutorial.update(a.state.origin);case 12:e.sent;case 14:a.setState({isSaving:!1});case 15:case"end":return e.stop()}}),e)}))),a.onRemove=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.tutorial,e.next=3,a.props.remove(t.Id);case 3:case"end":return e.stop()}}),e)}))),a.state={origin:void 0,tutorial:{},fetched:!1,mode:e.mode,saveSuccessfully:!1,isRemoving:!1,isSaving:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.mode,n=this.props,a=n.problem,r=n.tutorial,"add"!==t){e.next=6;break}c=jc(a.Id),e.next=9;break;case 6:return c=r,e.next=9,c.get();case 9:this.setState({tutorial:be.a.cloneDeep(c),fetched:!0,origin:c});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.tutorial,a=t.mode,c=t.isRemoving,s=t.isSaving,o=t.saveSuccessfully,u=t.fetched,l=this.props.onClose,i=n.Name,m=n.Content,p=n.Published,d=n.IsPremium,f=n.LanguageId;return r.a.createElement(De,{title:"H\u01b0\u1edbng d\u1eabn gi\u1ea3i",show:!0,onHide:l,dialogClassName:"modal-90w shadow-lg",footer:r.a.createElement(Cc,{mode:a,isRemoving:c,isSaving:s,saveSuccessfully:o,onSave:this.onSave,onRemove:this.onRemove}),closebutton:1},u?r.a.createElement("div",null,r.a.createElement("div",{className:"p-3"},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"Ng\xf4n ng\u1eef")),r.a.createElement(tr.a.Control,{as:"select",name:"LanguageId",value:f,onChange:this.onChange},r.a.createElement("option",{value:1},"VI"),r.a.createElement("option",{value:2},"EN"))),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"T\xean")),r.a.createElement(tr.a.Control,{type:"text",name:"Name",value:i||"",onChange:function(t){return e.onChange(t)},autoComplete:"off"})),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"N\u1ed9i dung")),r.a.createElement(la,{mode:"markdown",theme:"default",name:"Content",value:m,onChange:this.onChange})),r.a.createElement(qn,{label:"C\xf4ng khai",className:"green",name:"Published",labelClassName:"font-weight-bold",checked:p,onChange:this.onChange}),r.a.createElement("span",{className:"mr-2"},"\xa0"),r.a.createElement(qn,{label:"Premium",className:"green",name:"IsPremium",labelClassName:"font-weight-bold",checked:d,onChange:this.onChange})),"edit"===a&&r.a.createElement("div",{className:"p-3"},r.a.createElement("h3",{className:"font-semi-bold"},"M\xe3 ngu\u1ed3n"),r.a.createElement(Sc,{tutorial:n}))):r.a.createElement(ue,null))}}]),n}(r.a.Component);Nc.defaultProps={tutorial:void 0};var Ic=Nc;(new Z).import(an);var Pc=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).addTutorial=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({add:!0});case 1:case"end":return e.stop()}}),e)}))),a.onClose=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({fetched:!1,add:!1,edit:!1,editTutorial:void 0});case 2:return e.next=4,a.setState({fetched:!0});case 4:case"end":return e.stop()}}),e)}))),a.removeTutorial=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("THIS ACTION CAN NOT BE UNDONE?\nARE YOU SURE?")){e.next=9;break}return a.setState({isRemoving:!0}),n=a.state.problem,e.next=5,Tt.a.removeTutorial(n.Id,t);case 5:e.sent||(n.Tutorials=n.Tutorials.filter((function(e){return e.Id!==t})),a.setState(n)),a.setState({isRemoving:!1}),a.onClose();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state=Object(H.a)(Object(H.a)({},a.state),{},{problem:e.problem,isRemoving:!1,fetched:!1,add:!1,edit:!1,editTutorial:void 0}),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return this.state.fetched?r.a.createElement("div",{className:"p-2"},r.a.createElement(F,{className:"text-white bg-green p-2 font-semi-bold mb-3 shadow-sm",onClick:this.addTutorial},r.a.createElement("span",{className:"fas fa-plus-circle"})," ","Th\xeam m\u1edbi"),this.state.problem.Tutorials.map((function(t){return r.a.createElement($e.a,{key:t.Id,className:"w-100 border shadow-sm p-3 mb-2 cursor-pointer",onClick:function(){return e.editTutorial(t)}},r.a.createElement("h3",{className:"font-semi-bold mb-0"},t.Name))})),this.state.add&&r.a.createElement(Ic,{mode:"add",problem:this.state.problem,onClose:this.onClose,remove:this.removeTutorial}),this.state.edit&&r.a.createElement(Ic,{mode:"edit",tutorial:this.state.editTutorial,problem:this.state.problem,onClose:this.onClose,remove:this.removeTutorial})):r.a.createElement(ue,null)}},{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,r=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=this.state.problem).Tutorials.length){e.next=7;break}return e.next=4,Tt.a.getTutorials(this.state.problem.Id);case 4:n=e.sent,a=n.map((function(e){return new qt.default(e,r.state.problem.Id)})),t.Tutorials=a;case 7:this.setState({fetched:!0});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"editTutorial",value:function(e){this.setState({edit:!0,editTutorial:e})}}]),n}(Nn),Tc=new Z;Tc.import(an);var Lc=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).refresh=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({fetched:!1}),e.next=3,a.problemContext.fetchProblem(a.state.problem.Id);case 3:return t=a.props.match.params.id,e.next=6,a.problemContext.getProblem(t);case 6:n=e.sent,a.setState({origin:n,problem:be.a.cloneDeep(n),fetched:!0});case 8:case"end":return e.stop()}}),e)}))),a.onSaveProblem=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setState({isSaving:!0}),"add"!==a.state.mode){e.next=8;break}return e.next=4,a.problemContext.addProblem(a.state.problem);case 4:"object"===typeof(t=e.sent)&&(T.a.replace("/admin/problems/edit/".concat(t.Id)),a.setState({mode:"edit",problem:t,saveSuccessfully:!0})),e.next=12;break;case 8:return e.next=10,a.problemContext.editProblem(a.state.problem,a.state.origin,!1);case 10:e.sent||a.setState({saveSuccessfully:!0});case 12:setTimeout((function(){a.setState({saveSuccessfully:!1})}),2e3),a.setState({isSaving:!1});case 14:case"end":return e.stop()}}),e)}))),a.onSaveAndPreview=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.onSaveProblem();case 2:T.a.push("/admin/problems/".concat(a.state.problem.Id));case 3:case"end":return e.stop()}}),e)}))),a.onRemoveProblem=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isRemoving:!0}),e.next=3,a.problemContext.removeProblem(a.state.problem);case 3:e.sent?T.a.push("/admin/problems"):a.setState({isRemoving:!1});case 5:case"end":return e.stop()}}),e)}))),a.onCancelEdit=function(){a.setState({isCanceling:!0}),T.a.push("/admin/problems"),a.setState({isCanceling:!1})},a.state={mode:e.location.pathname.split("/")[3]||"add",fetched:!1,problem:void 0,isSaving:!1,isRemoving:!1,isCanceling:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state.mode,a=this.props.match,"edit"!==n){e.next=9;break}return r=a.params.id,e.next=6,this.problemContext.getProblem(r);case 6:t=e.sent,e.next=10;break;case 9:t=mc;case 10:this.setState({origin:t,problem:be.a.cloneDeep(t),fetched:!0});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(tc.Consumer,null,(function(t){e.problemContext=t;var n=e.state,a=n.fetched,c=n.problem,s=n.mode,o=n.isRemoving,u=n.isSaving,l=n.isCanceling,i=n.saveSuccessfully;return a?c?r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{nav:"add"===s?[["admin","/admin"],["problems","/admin/problems"],["add"]]:c.EditNavigation()}),r.a.createElement($,null,r.a.createElement(ne.Consumer,null,(function(t){var n=t.language;return Tc.use(n),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(nn,{controlKey:"view"},r.a.createElement(dc,{title:Tc.get("Information"),route:"information",problem:c}),"edit"===s&&r.a.createElement(ic,{title:Tc.get("Statement"),route:"statement",problem:c}),"edit"===s&&r.a.createElement(Pc,{title:"H\u01b0\u1edbng d\u1eabn gi\u1ea3i",route:"tutorial",problem:c}),"edit"===s&&r.a.createElement(bc,{title:"Testcase",route:"testcase",problem:c,mode:s,refresh:e.refresh}),"edit"===s&&r.a.createElement(wc,{title:"Checker",route:"Checker",problem:c})),r.a.createElement(Cc,{onSaveAndPreview:e.onSaveAndPreview,mode:s,isRemoving:o,isSaving:u,isCanceling:l,saveSuccessfully:i,onSave:e.onSaveProblem,onRemove:e.onRemoveProblem,onCancel:e.onCancelEdit}))})))):r.a.createElement(de,null):r.a.createElement(le,null)}))}}]),n}(r.a.Component),Rc=new Z;Rc.import(Gn);var Uc=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state=Object(H.a)({},a.state),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.problem,n=this.state.language;return r.a.createElement(ne.Consumer,null,(function(a){var c=a.language;e.languageContext=a,Rc.use(c);var s=t.Statements[n];return r.a.createElement("div",{className:"p-2"},r.a.createElement(Pn,{languages:t.Statements,activeLanguage:n,setLanguage:e.setLanguage}),r.a.createElement(d.a,{to:"/admin/problems/edit/".concat(t.Id),className:"mr-2"},r.a.createElement("button",{type:"button",className:"basic-component-button bg-light-pink m-auto",style:{fontSize:"12px"}},"Edit"," ",r.a.createElement("span",{className:"fas fa-pen"}))),r.a.createElement("button",{type:"button",onClick:function(){window.location.hash="submit-code"},className:"basic-component-button bg-green m-auto",style:{fontSize:"12px"}},"Submit"," ",r.a.createElement("span",{className:"fas fa-paper-plane"})),r.a.createElement(V,null,r.a.createElement("h2",null,r.a.createElement("strong",null,t.Name))),t.Statements.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Sn,{value:s.Statement}),r.a.createElement("h3",null,r.a.createElement("strong",null,Rc.get("Input format"))),r.a.createElement(Sn,{value:s.InputDescription}),r.a.createElement("h3",null,r.a.createElement("strong",null,Rc.get("Output format"))),r.a.createElement(Sn,{value:s.OutputDescription}),r.a.createElement("h3",null,r.a.createElement("strong",null,Rc.get("Sample testcases"))),t.SampleTests.map((function(e,t){return r.a.createElement(Kn,{key:e.Id,testcase:e,index:t})})),s.Explanation&&r.a.createElement("h3",null,r.a.createElement("strong",null,Rc.get("Sample testcases explanation"))),r.a.createElement(Sn,{value:s.Explanation})),r.a.createElement("h3",{id:"submit-code"},r.a.createElement("strong",null,Rc.get("Submit"))),r.a.createElement(Vn,{problem:t}))}))}}]),n}(Nn),Ac=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetchSubmissionListAtSpecificPage=Object(b.a)(h.a.mark((function e(){var t,n,r,c,s,o=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:1,(n=!(o.length>1&&void 0!==o[1])||o[1])&&a.setState((function(){return{isLoading:!0}})),e.next=5,Mt.getProblemSubmissions(a.props.problemId,t);case 5:r=e.sent,c=r.submissions,s=r.totalSubmissions,a.setState((function(){return{submissions:c,totalSubmissions:s,currentPage:t}})),n&&a.setState((function(){return{isLoading:!1}}));case 10:case"end":return e.stop()}}),e)}))),a.state=Object(H.a)(Object(H.a)({},a.state),{},{linkToDetail:"problems/".concat(e.problemId,"/submissions/")}),a}return n}(ba),Dc=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetchSubmissionListAtSpecificPage=Object(b.a)(h.a.mark((function e(){var t,n,r,c,s,o=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:1,(n=!(o.length>1&&void 0!==o[1])||o[1])&&a.setState((function(){return{isLoading:!0}})),e.next=5,Mt.getTestSubmissions(a.props.problemId,t);case 5:r=e.sent,c=r.submissions,s=r.totalSubmissions,a.setState((function(){return{submissions:c,totalSubmissions:s,currentPage:t}})),n&&a.setState((function(){return{isLoading:!1}}));case 10:case"end":return e.stop()}}),e)}))),a.state=Object(H.a)(Object(H.a)({},a.state),{},{linkToDetail:"problems/".concat(e.problemId,"/submissiontests/")}),a}return n}(ba),Mc=function(e){var t=e.tutorial,n=e.onClose,c=Object(a.useState)(!1),s=Object(Xe.a)(c,2),o=s[0],u=s[1],l=Object(a.useState)(void 0),i=Object(Xe.a)(l,2),m=i[0],p=i[1],d=Object(a.useContext)(Dn),f=d.languages,v=d.fetchLanguages;Object(a.useEffect)((function(){(function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return e.next=4,t.get();case 4:t.SourceCodes.length>0&&p(t.SourceCodes[0].LanguageId),u(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var g=t.SourceCodes.find((function(e){return e.LanguageId===m}));g||(g={Content:""});var E=f.find((function(e){return e.Id===m}));return E=E?E.Name:"VI",r.a.createElement(De,{title:"H\u01b0\u1edbng d\u1eabn gi\u1ea3i",show:!0,onHide:n,dialogClassName:"modal-90w shadow-lg",closebutton:1},o?r.a.createElement("div",{className:"p-3"},r.a.createElement("h2",{className:"font-semi-bold"},t.Name),r.a.createElement(Sn,{value:t.Content}),r.a.createElement(en.a,{value:m,className:"w-25 mt-2 mb-2",as:"select",onChange:function(e){return p(parseInt(e.target.value,10))},id:"search-tag",name:"mode"},t.SourceCodes.map((function(e){return r.a.createElement("option",{key:e.Id,value:e.LanguageId},f.find((function(t){return t.Id===e.LanguageId})).Name)}))),r.a.createElement(la,{value:g.Content,onSelectionChange:function(){},theme:"default",showToolbar:!1,mode:E,readOnly:!0})):r.a.createElement(ue,null))},Fc=function(e){var t=Object(a.useState)(void 0),n=Object(Xe.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(!1),u=Object(Xe.a)(o,2),l=u[0],i=u[1],m=Object(a.useState)([]),p=Object(Xe.a)(m,2),d=p[0],f=p[1];return Object(a.useEffect)((function(){(function(){var t=Object(b.a)(h.a.mark((function t(){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.problem,t.next=3,Tt.a.getTutorials(n.Id);case 3:(a=t.sent)&&f(a.map((function(e){return new qt.default(e,n.Id)}))),i(!0);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),l?r.a.createElement("div",{className:"p-3"},d.map((function(e){return r.a.createElement($e.a,{key:e.Id,className:"border corner p-3 mb-3 cursor-pointer shadow-sm",onClick:function(){return s(e)}},r.a.createElement("h3",{className:"font-semi-bold mb-0"},e.Name))})),c&&r.a.createElement(Mc,{tutorial:c,onClose:function(){return s(void 0)}})):r.a.createElement(ue,null)},Bc=new Z;Bc.import(Gn);var qc=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={problem:void 0,fetched:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match,n=this.context.getProblem,a=t.params.id,e.next=5,n(a);case 5:r=e.sent,this.setState((function(){return{problem:r,fetched:!0}}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.fetched,a=t.problem;return r.a.createElement(ne.Consumer,null,(function(t){var c=t.language;return r.a.createElement(tc.Consumer,null,(function(t){return e.context=t,Bc.use(c),n?a?r.a.createElement("div",null,r.a.createElement(ce,{nav:a.ViewNavigation(c)}),r.a.createElement($,null,r.a.createElement(J,null,r.a.createElement(nn,{controlKey:"view"},r.a.createElement(Uc,{route:"statement",title:Bc.get("statement"),problem:a}),r.a.createElement("div",{route:"submissiontests",title:"B\xe0i n\u1ed9p th\u1eed"},r.a.createElement(Dc,{autoRefresh:!0,admin:!0,showUsername:!0,problemId:a.Id})),r.a.createElement("div",{route:"submissions",title:"B\xe0i n\u1ed9p"},r.a.createElement(Ac,{autoRefresh:!0,admin:!0,showUsername:!0,problemId:a.Id})),r.a.createElement("div",{route:"tutorials",title:"H\u01b0\u1edbng d\u1eabn gi\u1ea3i"},r.a.createElement(Fc,{tutorials:a.Tutorials,problem:a})))),r.a.createElement(X,null,r.a.createElement($n,{problem:a})))):r.a.createElement(de,null):r.a.createElement(le,null)}))}))}}]),n}(r.a.Component),Hc=function(){return r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/admin/problems",component:oc}),r.a.createElement(m.b,{exact:!0,path:"/admin/problems/add",component:Lc}),r.a.createElement(m.b,{exact:!0,path:"/admin/problems/add/:view",component:Lc}),r.a.createElement(m.b,{exact:!0,path:"/admin/problems/edit/:id",component:Lc}),r.a.createElement(m.b,{exact:!0,path:"/admin/problems/:id",component:qc}))},Wc=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onRemove=Object(b.a)(h.a.mark((function e(){var t,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.onRemove,r=t.executable,a.setState({isRemoving:!0}),e.next=4,n(r.Id);case 4:a.setState({isRemoving:!1});case 5:case"end":return e.stop()}}),e)}))),a.state={executable:e.executable,isRemoving:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.executable,n=e.isRemoving,a=t.Id,c=t.Type,s=t.Description;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(d.a,{to:"/admin/executable/edit/".concat(a)},r.a.createElement("strong",null,a))),r.a.createElement("td",null,c),r.a.createElement("td",null,s),r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement(d.a,{to:"/admin/executable/edit/".concat(a)},r.a.createElement("button",{type:"button",className:"basic-component-button bg-light-pink"},r.a.createElement("span",{className:"fas fa-pen"}))),"\xa0",r.a.createElement("button",{type:"button",className:"basic-component-button bg-danger",onClick:this.onRemove,disabled:n},n&&r.a.createElement("span",{className:"fas fa-spinner fa-spin"})||r.a.createElement("span",{className:"fas fa-trash"}))))}}]),n}(r.a.Component),Vc={vi:{"add new":"Th\xeam m\u1edbi",type:"Lo\u1ea1i",name:"T\xean",description:"M\xf4 t\u1ea3",save:"L\u01b0u",remove:"X\xf3a",setting:"Ch\u1ec9nh s\u1eeda"}},zc=new Z;zc.import(Vc);var Gc=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).removeExecutable=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("THIS ACTION CAN NOT BE UNDONE!")){e.next=5;break}return e.next=3,a.executableContext.removeExecutable(t);case 3:a.setState({fetched:!1}),a.setState({fetched:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={fetched:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.executableContext.fetchExecutable();case 2:this.setState({fetched:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.fetched;return r.a.createElement(Ec.Consumer,null,(function(n){return e.executableContext=n,t?r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{nav:[["admin","/admin"],["executable"]]}),r.a.createElement($,null,r.a.createElement(ne.Consumer,null,(function(t){var a=t.language;return zc.use(a),r.a.createElement($e.a,{className:"w-100 shadow-sm"},r.a.createElement($e.a.Body,{className:"p-2"},r.a.createElement("h2",{className:"mb-3"},r.a.createElement("strong",null,"Executable")),r.a.createElement("div",{className:"mb-2"},r.a.createElement(d.a,{to:"/admin/executable/add"},r.a.createElement(F,{className:"bg-green corner p-2"},r.a.createElement("span",{className:"fas fa-plus-circle"})," ",r.a.createElement("strong",null,zc.get("Add new"))))),r.a.createElement("table",{className:"basic-component-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,zc.get("Name")),r.a.createElement("th",null,zc.get("Type")),r.a.createElement("th",null,zc.get("Description")),r.a.createElement("th",{style:{textAlign:"center"}},zc.get("Setting")))),r.a.createElement("tbody",null,n.executable.container.map((function(t){return r.a.createElement(Wc,{key:t.Id,executable:t,onRemove:e.removeExecutable})}))))))})))):r.a.createElement(ue,null)}))}}]),n}(r.a.Component),Yc=new gc({Id:"",Md5sum:"",Zipfile:"",Description:"",Type:"compile"}),Qc=new Z;Qc.import(Vc);var Kc=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onInformationChange=function(e){var t=e.target.name,n=e.target.value;"Id"===t&&(n=n.trim());var r=a.state.executable;r[t]=n,a.setState({executable:r})},a.onUpload=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.executable,e.next=3,n.assignFile(t.target.files[0]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onSave=Object(b.a)(h.a.mark((function e(){var t,n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.mode,r=t.executable,c=t.origin,a.setState({isSaving:!0}),e.prev=2,"add"!==n){e.next=8;break}return e.next=6,a.executableContext.addExecutable(r);case 6:e.next=11;break;case 8:return e.next=10,r.editExecutable(c);case 10:a.executableContext.editExecutable(c,r);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),a.setState({isSaving:!1,mode:"edit"}),T.a.replace("/admin/executable/edit/".concat(r.Id));case 17:case"end":return e.stop()}}),e,null,[[2,13]])}))),a.onRemove=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state.executable,a.setState({isRemoving:!0}),!window.confirm("THIS ACTION CAN NOT BE UNDONE!")){e.next=11;break}return e.prev=3,e.next=6,a.executableContext.removeExecutable(t.Id);case 6:T.a.replace("/admin/executable"),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:a.setState({isRemoving:!1});case 12:case"end":return e.stop()}}),e,null,[[3,9]])}))),a.onCancel=function(){a.setState({isCanceling:!0}),T.a.replace("/admin/executable"),a.setState({isCanceling:!1})},a.state={mode:e.location.pathname.split("/")[3]||"add",fetched:!1,executable:void 0,isSaving:!1,isRemoving:!1,isCanceling:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state.mode,a=this.props.match,"edit"!==n){e.next=9;break}return r=a.params.Id,e.next=6,this.executableContext.getExecutable(r);case 6:t=e.sent,e.next=10;break;case 9:t=Yc;case 10:this.setState({origin:t,executable:be.a.cloneDeep(t),fetched:!0});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.fetched,a=t.executable,c=t.mode,s=t.isRemoving,o=t.isSaving,u=t.isCanceling;return r.a.createElement(Ec.Consumer,null,(function(t){if(e.executableContext=t,!n)return r.a.createElement(le,null);var l=a.Id,i=a.Type,m=a.Description;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{nav:[["admin","/admin"],["executable","/admin/executable"],[l]]}),r.a.createElement(ne.Consumer,null,(function(t){var n=t.language;return Qc.use(n),r.a.createElement($,null,r.a.createElement($e.a,{className:"w-100 shadow-sm"},r.a.createElement($e.a.Body,null,r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,Qc.get("Type"))),r.a.createElement(tr.a.Control,{as:"select",name:"Type",value:i,onChange:e.onInformationChange},r.a.createElement("option",null,"run"),r.a.createElement("option",null,"compile"),r.a.createElement("option",null,"compare"))),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,Qc.get("Name"))),r.a.createElement(tr.a.Control,{type:"text",name:"Id",value:l,spellCheck:!1,onChange:e.onInformationChange})),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,Qc.get("Description"))),r.a.createElement(tr.a.Control,{type:"text",name:"Description",value:m,spellCheck:!1,onChange:e.onInformationChange})),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"Zip file")),r.a.createElement(tr.a.Control,{type:"file",name:"Resource",multiple:!1,onChange:e.onUpload})))),r.a.createElement(Cc,{mode:c,isRemoving:s,isSaving:o,isCanceling:u,onSave:e.onSave,onRemove:e.onRemove,onCancel:e.onCancel}))})))}))}}]),n}(r.a.Component),_c=function(){return r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/admin/executable",component:Gc}),r.a.createElement(m.b,{exact:!0,path:"/admin/executable/add",component:Kc}),r.a.createElement(m.b,{exact:!0,path:"/admin/executable/edit/:Id",component:Kc}))},Jc={vi:{"course code":"M\xe3 kh\xf3a h\u1ecdc",name:"T\xean kh\xf3a h\u1ecdc",setting:"C\xe0i \u0111\u1eb7t",lecture:"th\xeam bu\u1ed5i h\u1ecdc",lectures:"c\xe1c bu\u1ed5i h\u1ecdc","course type":"Lo\u1ea1i kh\xf3a h\u1ecdc",description:"M\xf4 t\u1ea3","start date":"Ng\xe0y b\u1eaft \u0111\u1ea7u","end date":"Ng\xe0y k\u1ebft th\xfac",published:"C\xf4ng khai",users:"H\u1ecdc vi\xean",information:"Th\xf4ng tin","add new":"Th\xeam m\u1edbi"}},Xc=r.a.createContext(),$c=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).clearError=function(){a.setState({error:"",message:""})},a.getCourses=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St.getCourses(t);case 2:return n=e.sent,r=n.courses,c=n.totalCourses,a.setState({totalCourses:c,courses:new fe(r.map((function(e){return new Pt(e)})))}),e.abrupt("return",{totalCourses:a.state.totalCourses,courses:a.state.courses});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getCourse=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.state.course[t]){e.next=5;break}return e.next=3,St.getCourse(t);case 3:n=e.sent,a.setState((function(e){return{course:Object(H.a)(Object(H.a)({},e.course),{},Object(tt.a)({},t,new Pt(n)))}}));case 5:return e.abrupt("return",a.state.course[t]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.addCourse=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St.addCourse(t);case 2:if("string"!==typeof(n=e.sent)){e.next=6;break}return a.setState({error:n}),e.abrupt("return",n);case 6:return r=a.state.courses,t.updateProperty(n),r.add(t),a.setState({courses:r}),e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.updateCourse=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.state.courses.update(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.removeCourse=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("THIS ACTION CAN NOT BE UNDONE!")){e.next=9;break}return e.next=3,St.removeCourse(t);case 3:if(!(n=e.sent)){e.next=7;break}return a.setState({error:n}),e.abrupt("return",n);case 7:a.state.courses.remove({Id:t}),a.setState({message:"Course removed!"});case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getLectures=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getCourse(t);case 2:return n=e.sent,e.next=5,n.getCourse();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.addLecture=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.EndTime&&new Date(t.EndTime).getTime()<=new Date(t.StartTime).getTime())){e.next=3;break}return a.setState({error:"End time must be less than Start time"}),e.abrupt("return",null);case 3:return e.next=5,t.Course.addLecture(t);case 5:if("string"!==typeof(n=e.sent)){e.next=9;break}return a.setState({error:n}),e.abrupt("return",n);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.updateLecture=function(){var e=Object(b.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.EndTime&&new Date(t.EndTime).getTime()<=new Date(t.StartTime).getTime())){e.next=3;break}return a.setState({error:"End time must be less than Start time"}),e.abrupt("return",null);case 3:return e.next=5,t.updateLecture(n);case 5:if(!(r=e.sent)){e.next=9;break}return a.setState({error:r}),e.abrupt("return",r);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.removeLecture=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("THIS ACTION CAN NOT BE UNDONE!")){e.next=8;break}return e.next=3,t.Course.removeLecture(t.Id);case 3:if(!(n=e.sent)){e.next=7;break}return a.setState({error:n}),e.abrupt("return",n);case 7:a.setState({message:"Lecture removed!"});case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={course:{},totalCourses:0,courses:[],getCourses:a.getCourses,getCourse:a.getCourse,addCourse:a.addCourse,updateCourse:a.updateCourse,removeCourse:a.removeCourse,getLectures:a.getLectures,addLecture:a.addLecture,removeLecture:a.removeLecture,updateLecture:a.updateLecture,error:"",message:""},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.message,a=t.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xc.Provider,{value:this.state},e),(a.length>0||n.length>0)&&r.a.createElement(Fe,{title:"Problem",clearError:this.clearError,message:n,error:a}))}}]),n}(r.a.Component),Zc=new Z;Zc.import(Jc);var es=function(){var e=Object(a.useState)(!1),t=Object(Xe.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),o=Object(Xe.a)(s,2),u=o[0],l=o[1],i=Object(a.useState)(0),m=Object(Xe.a)(i,2),p=m[0],f=m[1],v=Object(a.useContext)(Xc).getCourses,g=Object(a.useContext)(ne).language,E=Object(a.useState)(1),x=Object(Xe.a)(E,2),w=x[0],y=x[1];Zc.use(g);var k=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:n=e.sent,a=n.courses,r=n.totalCourses,l(a),f(r),c(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(!1);case 2:return e.next=4,c(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=ve.a.getQueryString("page")||1;k(e),y(e)}),[]),n?r.a.createElement("div",null,r.a.createElement("table",{className:"basic-component-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Lo\u1ea1i l\u1edbp"),r.a.createElement("th",null,"T\xean l\u1edbp"),r.a.createElement("th",null,"H\xecnh th\u1ee9c"),r.a.createElement("th",{className:"text-center","aria-label":"public"},r.a.createElement("span",{className:"fas fa-globe"})),r.a.createElement("th",null,"S\u1eeda"))),r.a.createElement("tbody",null,u.container.map((function(e){return r.a.createElement("tr",{key:e.Id},r.a.createElement("td",null,r.a.createElement(d.a,{to:e.Link},e.Category)),r.a.createElement("td",null,r.a.createElement(d.a,{to:e.Link},e.Name)),r.a.createElement("td",null,e.CourseType.Name),r.a.createElement("td",{className:"text-center"},r.a.createElement(qn,{className:"green",checked:e.Published,onChange:Object(b.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.togglePublished();case 2:C();case 3:case"end":return t.stop()}}),t)})))})),r.a.createElement("td",null,r.a.createElement(d.a,{to:e.Link},r.a.createElement("button",{type:"button",className:"basic-component-button bg-light-pink text-white"},r.a.createElement("span",{className:"fas fa-pen"})))))})))),r.a.createElement("br",null),r.a.createElement(ft,{numberOfPage:Math.ceil(p/20),init:w,onPageChange:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(t),y(t),ve.a.setQueryString("page",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})):r.a.createElement(ue,null)},ts=new Z;ts.import(Jc);var ns=function(){var e=Object(a.useContext)(ne).language;return ts.use(e),r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{nav:[["admin","/admin"],["Courses"]]}),r.a.createElement($,null,r.a.createElement($e.a,{className:"w-100 bg-white shadow-sm"},r.a.createElement($e.a.Body,{className:"p-2"},r.a.createElement("h2",{className:"mb-3"},r.a.createElement("strong",null,"L\u1edbp h\u1ecdc")),r.a.createElement("div",{className:"mb-2 d-flex"},r.a.createElement("div",{className:"mr-2"},r.a.createElement(d.a,{to:"/admin/courses/add"},r.a.createElement(F,{className:"bg-green p-2 shadow-sm"},r.a.createElement("strong",null,r.a.createElement("span",{className:"fas fa-plus-circle"})," ",ts.get("Add new"))))),r.a.createElement("div",{className:"flex-grow-1"},r.a.createElement($r,{toggleQuery:!0}))),r.a.createElement(es,null)))))},as=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Pt({CourseTypeId:1,CourseType:{Id:1,Name:"Class"},Category:"GREEN",Name:"",Description:"",Published:0,StartDate:null,EndDate:null},e)},rs=function(e){var t=e.lectures,n=e.course,c=Object(a.useState)(!1),s=Object(Xe.a)(c,2),o=s[0],u=s[1];return o?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement("div",{className:"mb-2"},r.a.createElement(d.a,{to:"/admin/courses/".concat(n.Id,"/lectures/add")},r.a.createElement(F,{className:"bg-green p-2 shadow-sm"},r.a.createElement("strong",null,r.a.createElement("span",{className:"fas fa-plus-circle"})," ","Th\xeam m\u1edbi")))),r.a.createElement("table",{className:"basic-component-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"T\xean"),r.a.createElement("th",{className:"text-center","aria-label":"public"},r.a.createElement("span",{className:"fas fa-globe"})),r.a.createElement("th",null,"Ch\u1ec9nh s\u1eeda"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.Id},r.a.createElement("td",null,r.a.createElement(d.a,{to:e.Link}," ",e.Name," ")),r.a.createElement("td",{className:"text-center"},r.a.createElement(qn,{className:"green",checked:!0===e.Published,id:e.Id,onChange:Object(b.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.togglePublished();case 2:u(!0),u(!1);case 4:case"end":return t.stop()}}),t)})))})),r.a.createElement("td",null,r.a.createElement(d.a,{to:e.Link},r.a.createElement("button",{className:"basic-component-button bg-light-pink text-white",type:"button"},r.a.createElement("span",{className:"fas fa-pen"})))))})))))},cs=n(160),ss=n.n(cs),os=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onChange=function(e){e instanceof et.a?(a.props.onChange&&a.props.onChange({target:{value:e.valueOf(),name:a.props.name,id:a.props.id}}),a.setState({error:!1})):a.setState({error:!0}),a.setState({value:e})},a.state={error:!1,value:"--/--/--"},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.value;if(e){var t=et()(Number(e)||e).set({second:0});this.setState({value:t})}}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.value!==t.value}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,a=e.dateFormat,c=e.timeFormat,s=this.state,o=s.value,u=s.error;return r.a.createElement("div",null,r.a.createElement(ss.a,{id:t,className:"basic-component-datetime-picker ".concat(n),dateFormat:a,timeFormat:c,defaultValue:o,value:o,onChange:this.onChange}),u&&r.a.createElement("div",{className:"text-danger"},r.a.createElement("em",null,"Wrong format")))}}]),n}(r.a.Component);os.defaultProps={value:0,className:"",id:void 0,dateFormat:!0,timeFormat:!0,onChange:null};var us=os,ls=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e,20)).onInformationChange=function(e){e.preventDefault()},a.getFilteredUsers=function(){var e=a.state.pattern;return e=e.toLowerCase(),a.props.contest.Users.filter((function(t){return""===e||t.Username.toLowerCase().includes(e)||t.Email.toLowerCase().includes(e)}))},a.setPage=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setSearchParam("page",a.state.page,1);case 2:case"end":return e.stop()}}),e)}))),a.onPatternChange=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,e.next=3,a.props.setSearchParam("pattern",n,1);case 3:return a.setState({pattern:n}),e.next=6,a.setState({numberOfPage:Math.ceil(a.getFilteredUsers().length/a.itemPerPage)});case 6:a.onPageChange(1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state=Object(H.a)(Object(H.a)({},a.state),{},{pattern:e.pattern,fetched:!1}),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return this.state.fetched?r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex my-2"},r.a.createElement("div",{className:"flex-grow-1 mr-2"},r.a.createElement($r,{Id:"Search-picked",onChange:this.onPatternChange})),r.a.createElement("div",{className:"p-2 bg-green text-white corner text-center"},r.a.createElement("strong",null,"S\u1ed1 l\u01b0\u1ee3ng:",this.props.contest.Users.length))),r.a.createElement("table",{className:"basic-component-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Email"),this.props.hasEndDate?r.a.createElement("th",null,"End Date"):null,r.a.createElement("th",null,"X\xf3a"))),r.a.createElement("tbody",null,this.getFilteredUsers().map((function(t,n){return n>=e.state.startIndex&&n<e.state.endIndex&&r.a.createElement("tr",{key:t.Id},r.a.createElement("td",{className:"text-break"},t.Username),r.a.createElement("td",{className:"text-break"},t.Email),e.props.hasEndDate?r.a.createElement("td",{className:"text-break"},r.a.createElement("div",{className:"basic-component-datetime-div"},r.a.createElement(us,{id:"end-date-".concat(t.id),name:"EndDate",dateFormat:!0,timeFormat:!0,value:new Date(t.EndDate).getTime(),onChange:function(n){return e.props.setEndDate(n,t.Id)}}))):null,r.a.createElement("td",{className:"text-break"},r.a.createElement(F,{className:"bg-light-pink",onClick:function(){return e.props.remove(t.Id)}},r.a.createElement("span",{className:"fas fa-trash"}))))})))),this.renderPagination(this.setPage)):r.a.createElement(oe,null)}},{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:1,numberOfPage:Math.ceil(this.getFilteredUsers().length/this.itemPerPage),fetched:!0});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.pattern,n=Math.ceil(this.getFilteredUsers().length/this.itemPerPage),a=this.state.page;a>n&&a>1&&(a-=1,this.onPageChange(a)),this.setState({pattern:t,numberOfPage:n})}}]),n}(ln),is=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"getUsers",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=be()(t).omitBy(be.a.isEmpty).value(),n=ve.a.stringify(t),e.next=5,new xt.a("get",k.wb,{queryString:n}).request();case 5:return a=e.sent,e.abrupt("return",{users:a.users,totalUsers:a.totalUsers});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{users:[],totalUsers:0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("put",k.vb,{id:t},n).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"changePassword",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("put",k.zb,null,{UserId:t,Password:n}).request();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getUserTypes",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new xt.a("get",k.Ab).request();case 3:return t=e.sent,e.abrupt("return",t.usertypes);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ms=r.a.createContext(),ps=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).blockUser=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state.users,!window.confirm("B\u1ea1n c\xf3 ch\u1eafc b\u1ea1n mu\u1ed1n ban ng\u01b0\u1eddi d\xf9ng ".concat(n[t].Username,"? H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c!"))){e.next=12;break}return e.prev=2,e.next=5,new y.a("delete","admin/users/".concat(n[t].Id),null,null,!0).request();case 5:Object(Le.a)(n).splice(t,1),a.setState((function(){return{users:n}})),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),a.changeUserRole=function(){var e=Object(b.a)(h.a.mark((function e(t,n){var r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.state.users,e.prev=1,e.next=4,new y.a("put","admin/users/".concat(r[t].Id),null,{Role:n},!0).request();case 4:(c=Object(Le.a)(r))[t].Role=n,a.setState((function(){return{users:c}})),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),a.setTargetUser=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState((function(){return{targetUserId:t}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.changeUserPassword=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.targetUserId,r={UserId:n,Password:w()(t).toString()},e.next=4,new y.a("put","admin/reset-password",null,r,!0).request();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getUsers=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a.state.users.length){e.next=7;break}return e.next=3,is.getUsers();case 3:t=e.sent,n=(n=t.users).map((function(e){return Object(H.a)(Object(H.a)({},e),{},{isLoading:!1})})),a.setState({users:n});case 7:case"end":return e.stop()}}),e)}))),a.fetchUsers=Object(b.a)(h.a.mark((function e(){var t,n,r,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(c.length>0&&void 0!==c[0])||c[0])&&0!==a.state.users.length){e.next=8;break}return t=ve.a.getAllQueryString(),e.next=5,is.getUsers(t);case 5:n=e.sent,r=n.users,a.setState({users:r});case 8:case"end":return e.stop()}}),e)}))),a.state={users:[],targetUserId:"",getUsers:a.getUsers,blockUser:a.blockUser,changeUserRole:a.changeUserRole,setTargetUser:a.setTargetUser,changeUserPassword:a.changeUserPassword,fetchUsers:a.fetchUsers,totalUser:0},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(ms.Provider,{value:this.state},e)}}]),n}(r.a.Component),ds=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e,20)).refresh=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({fetched:!1});case 2:return ve.a.setQueryString("page",a.state.page),e.next=5,a.fetchUsers(!0);case 5:case"end":return e.stop()}}),e)}))),a.fetchUsers=Object(b.a)(h.a.mark((function e(){var t,n=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],e.next=3,a.userContext.fetchUsers(t);case 3:a.setState({numberOfPage:Math.ceil(a.userContext.totalUsers/20),fetched:!0});case 4:case"end":return e.stop()}}),e)})));var r=ve.a.getAllQueryString(),c=r.page,s=r.key;return a.state=Object(H.a)(Object(H.a)({endIndex:20},a.state),{},{page:Number(c)||1,fetched:!1,key:s}),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(ms.Consumer,null,(function(t){if(e.userContext=t,!e.state.fetched)return r.a.createElement(oe,null);var n=e.props.contest.Users.map((function(e){return e.Id}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"my-2"},r.a.createElement($r,{Id:"Search-pick",toggleQuery:!0,searchKey:"key"})),r.a.createElement("table",{className:"basic-component-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Th\xeam"))),r.a.createElement("tbody",null,e.userContext.users.map((function(t){return r.a.createElement("tr",{key:t.Id},r.a.createElement("td",{className:"text-break"},t.Username),r.a.createElement("td",{className:"text-break"},t.Email),r.a.createElement("td",null,!n.includes(t.Id)&&r.a.createElement(F,{className:"bg-green",onClick:function(){return e.props.add(t)}},r.a.createElement("span",{className:"fas fa-plus-circle"}))))})))),e.renderPagination(e.refresh))}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ve.a.getAllQueryString(),n=t.key,a=t.tag,void 0!==n&&n!==this.state.key&&(this.onPageChange(1),this.setState({page:1,key:n,tag:a}),this.refresh());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.onPageChange(this.state.page),e.next=3,this.fetchUsers(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ln),fs=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onAddUser=function(e){var t=a.state.course,n=t.Users,r={Id:e.Id,Username:e.Username,Fullname:e.Fullname,Email:e.Email,EndDate:null};n.push(r),a.setState({course:t})},a.onRemoveUser=function(e){var t=a.state.course,n=t.Users.filter((function(t){return t.Id!==e}));t.Users=n,a.setState({course:t})},a.setSearchParam=function(){var e=Object(b.a)(h.a.mark((function e(t,n,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({isRefreshing:!0}),a.state[t][r]=n,a.setState({isRefreshing:!1});case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),a.setEndDate=function(e,t){var n=a.state.course,r=n.Users.map((function(n){var a=n;return a.Id===t&&(a.EndDate=e.target.value),a}));n.Users=r,a.setState({course:n})},a.state={course:e.course,pattern:["",""],page:[1,1],isRefreshing:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.isRefreshing,n=e.course,a=e.pattern,c=e.page;return t?r.a.createElement("div",null):r.a.createElement(R.a,null,r.a.createElement(U.a,{md:5,className:"pl-1"},r.a.createElement(ds,{add:this.onAddUser,contest:n,pattern:a[0],page:c[0],setSearchParam:this.setSearchParam})),r.a.createElement(U.a,{md:7,className:"pr-1"},r.a.createElement(ls,{remove:this.onRemoveUser,contest:n,pattern:a[1],page:c[1],setSearchParam:this.setSearchParam,setEndDate:this.setEndDate,hasEndDate:1})))}}]),n}(r.a.Component),hs=new Z;hs.import(Jc);var bs=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onChange=function(e){var t=e.target.name,n=e.target.value,r=a.state.course;r[t]=n,a.setState({course:r})},a.state=Object(H.a)(Object(H.a)({},a.state),{},{mode:a.props.mode,course:e.course}),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state.course;return r.a.createElement(ne.Consumer,null,(function(n){var a=n.language;return hs.use(a),r.a.createElement("div",{className:"m-2"},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"H\xecnh th\u1ee9c")),r.a.createElement(tr.a.Control,{type:"text",as:"select",value:t.CourseTypeId,autoComplete:"off",name:"CourseTypeId",onChange:e.onChange},r.a.createElement("option",{value:1},"Class"),r.a.createElement("option",{value:2},"Training"))),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,hs.get("Course type"))),r.a.createElement(tr.a.Control,{type:"text",as:"select",value:t.Category,autoComplete:"off",name:"Category",onChange:e.onChange},r.a.createElement("option",{value:"GREEN"},"GREEN"),r.a.createElement("option",{value:"BLUE"},"BLUE"),r.a.createElement("option",{value:"ORANGE"},"ORANGE"),r.a.createElement("option",{value:"ONLINE"},"ONLINE"))),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,hs.get("Name"))),r.a.createElement(tr.a.Control,{type:"text",value:t.Name,autoComplete:"off",name:"Name",onChange:e.onChange})),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,hs.get("Description"))),r.a.createElement(tr.a.Control,{type:"text",name:"Description",value:t.Description,spellCheck:!1,onChange:e.onChange,autoComplete:"Off"})),r.a.createElement(R.a,null,r.a.createElement(U.a,{md:6,className:"pl-0"},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,hs.get("Start date"))),r.a.createElement(us,{value:new Date(t.StartDate).getTime(),dateFormat:!0,onChange:e.onChange,name:"StartDate"}))),r.a.createElement(U.a,{className:"p-0"},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,hs.get("End date"))),r.a.createElement(us,{value:new Date(t.EndDate).getTime(),dateFormat:!0,onChange:e.onChange,name:"EndDate"})))),r.a.createElement(qn,{label:hs.get("Published"),className:"green",name:"Published",labelClassName:"font-weight-bold",checked:!0===t.Published,onChange:e.onChange}))}))}}]),n}(r.a.Component),vs=new Z;vs.import(Jc);var gs=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onSave=Object(b.a)(h.a.mark((function e(){var t,n,r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.mode,r=t.origin,c=t.course,a.setState({isSaving:!0}),"add"!==n){e.next=9;break}return e.next=5,a.courseContext.addCourse(c);case 5:"string"!==typeof(s=e.sent)&&(T.a.replace("/admin/courses/edit/".concat(s.Id)),a.setState({mode:"edit",saveSuccessfully:!0}),setTimeout((function(){a.setState({saveSuccessfully:!1})}),2e3)),e.next=15;break;case 9:return e.next=11,c.updateCourse(r);case 11:return e.next=13,a.courseContext.updateCourse(c,!0);case 13:a.setState({saveSuccessfully:!0}),setTimeout((function(){a.setState({saveSuccessfully:!1})}),2e3);case 15:a.setState({isSaving:!1});case 16:case"end":return e.stop()}}),e)}))),a.onRemove=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.course,a.setState({isRemoving:!0}),e.next=4,a.courseContext.removeCourse(t.Id);case 4:e.sent?a.setState({isRemoving:!1}):T.a.push("/admin/courses");case 6:case"end":return e.stop()}}),e)}))),a.onCancel=function(){a.setState({isCanceling:!0}),T.a.push("/admin/courses"),a.setState({isCanceling:!1})},a.state={mode:"add"===e.location.pathname.split("/")[3]?"add":"edit",origin:void 0,course:void 0,fetched:!1,isSaving:!1,isRemoving:!1,isCanceling:!1,saveSuccessfully:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.match,"add"!==this.state.mode){e.next=6;break}n=as(),e.next=12;break;case 6:return e.next=8,this.courseContext.getCourse(t.params.id);case 8:if(!(n=e.sent)){e.next=12;break}return e.next=12,n.getCourse();case 12:this.setState({origin:n,course:be.a.cloneDeep(n),fetched:!0});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.fetched,a=t.mode,c=t.saveSuccessfully,s=t.isRemoving,o=t.isSaving,u=t.isCanceling;return r.a.createElement(Xc.Consumer,null,(function(t){if(e.courseContext=t,!n)return r.a.createElement(le,null);var l=e.state.course;return l?r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{nav:[["admin","/admin"],["courses","/admin/courses"],[l.Name]]}),r.a.createElement($,null,r.a.createElement("div",{className:"w-100"},r.a.createElement(ne.Consumer,null,(function(e){var t=e.language;return vs.use(t),r.a.createElement(nn,{controlKey:"view"},r.a.createElement(bs,{title:vs.get("Information"),route:"information",course:l,mode:a}),"edit"===a&&r.a.createElement(rs,{title:vs.get("Lectures"),route:"lectures",lectures:l.Lectures,course:l}),"edit"===a&&r.a.createElement(fs,{title:vs.get("Users"),route:"users",course:l}))}))),r.a.createElement(Cc,{saveSuccessfully:c,mode:a,isRemoving:s,isSaving:o,isCanceling:u,onSave:e.onSave,onRemove:e.onRemove,onCancel:e.onCancel}))):r.a.createElement(de,null)}))}}]),n}(r.a.Component),Es=function(e){return new It({Name:"",PublicAnalysis:0,Published:0,StartTime:null,EndTime:null,FreezeTime:null,UnfreezeTime:null},e)},xs={vi:{"lecture code":"M\xe3 bu\u1ed5i h\u1ecdc",setting:"C\xe0i \u0111\u1eb7t",problems:"B\xe0i t\u1eadp","course type":"Lo\u1ea1i kh\xf3a h\u1ecdc",course:"Kh\xf3a h\u1ecdc",name:"T\xean b\xe0i h\u1ecdc",description:"M\xf4 t\u1ea3","start time":"Th\u1eddi gian b\u1eaft \u0111\u1ea7u","end time":"Th\u1eddi gian k\u1ebft th\xfac",published:"C\xf4ng khai","show analysis":"Hi\u1ec7n l\u1eddi gi\u1ea3i",information:"th\xf4ng tin","freeze scoreboard":"\u0110\xf3ng b\u0103ng BXH"}},ws=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e,20)).refresh=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({fetched:!1}),ve.a.setQueryString("page",a.state.page),e.next=4,a.fetchProblems(!0);case 4:case"end":return e.stop()}}),e)}))),a.fetchProblems=Object(b.a)(h.a.mark((function e(){var t,n,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(r.length>0&&void 0!==r[0])||r[0],n=ve.a.getAllQueryString(),e.next=4,a.problemContext.fetchProblems(n,t);case 4:a.setState({numberOfPage:Math.ceil(a.problemContext.totalProblems/20),fetched:!0});case 5:case"end":return e.stop()}}),e)})));var r=ve.a.getAllQueryString(),c=r.page,s=r.search;return a.state=Object(H.a)(Object(H.a)({endIndex:20},a.state),{},{page:Number(c)||1,fetched:!1,search:s}),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(_r.Consumer,null,(function(t){if(e.problemContext=t,!e.state.fetched)return r.a.createElement(oe,null);var n=e.props.lecture.Problems.map((function(e){return e.Id}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"my-2"},r.a.createElement($r,{Id:"search-pick-problem",toggleQuery:!0,searchKey:"search"})),r.a.createElement("table",{className:"basic-component-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"M\xe3 b\xe0i"),r.a.createElement("th",null,"T\xean b\xe0i"),r.a.createElement("th",null,"Th\xeam"))),r.a.createElement("tbody",null,e.problemContext.problems.map((function(t){return r.a.createElement("tr",{key:t.Id},r.a.createElement("td",{className:"text-break"},r.a.createElement(d.a,{to:"/admin/problems/".concat(t.Id)},t.ProblemCode)),r.a.createElement("td",{className:"text-break"},r.a.createElement(d.a,{to:"/admin/problems/".concat(t.Id)},t.Name)),r.a.createElement("td",null,!n.includes(t.Id)&&r.a.createElement(F,{className:"bg-green",onClick:function(){return e.props.add(t)}},r.a.createElement("span",{className:"fas fa-plus-circle"}))))})))),r.a.createElement("br",null),e.renderPagination(e.refresh))}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ve.a.getAllQueryString(),(n=(n=t.search)||"")===this.state.search){e.next=7;break}return e.next=5,this.setState({page:1,search:n});case 5:return e.next=7,this.refresh();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.onPageChange(this.state.page),e.next=3,this.fetchProblems(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ln),ys=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e,20)).getFilteredProblem=function(){var e=a.state.pattern;return e=e.toLowerCase(),a.props.lecture.Problems.filter((function(t){return""===e||t.ProblemCode.toLowerCase().includes(e)||t.ProblemName.toLowerCase().includes(e)})).sort((function(e,t){return Number(e.Rank)-Number(t.Rank)}))},a.setPage=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setSearchParam("page",a.state.page,1);case 2:case"end":return e.stop()}}),e)}))),a.onPatternChange=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,e.next=3,a.props.setSearchParam("pattern",n,1);case 3:return a.setState({pattern:n}),e.next=6,a.setState({numberOfPage:Math.ceil(a.getFilteredProblem().length/a.itemPerPage)});case 6:a.onPageChange(1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChangeOrder=function(e,t){var n=Number(e),r=Number(t),c=a.props.lecture.Problems;n=c.find((function(e){return e.Rank===n})),r=c.find((function(e){return e.Rank===r}));var s=n.Rank;n.Rank=r.Rank,r.Rank=s,a.props.remove(-1)},a.state=Object(H.a)(Object(H.a)({},a.state),{},{pattern:e.pattern,fetched:!1}),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(_r.Consumer,null,(function(t){return e.problemContext=t,e.state.fetched?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"my-2"},r.a.createElement($r,{Id:"search-picked-problem",searchKey:"pattern",urlSetting:!1,onChange:e.onPatternChange})),r.a.createElement("table",{className:"basic-component-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Th\u1ee9 t\u1ef1"),r.a.createElement("th",null,"M\xe3 b\xe0i"),r.a.createElement("th",null,"T\xean b\xe0i"),r.a.createElement("th",null,"X\xf3a"))),r.a.createElement("tbody",null,e.getFilteredProblem().map((function(t,n){return n>=e.state.startIndex&&n<e.state.endIndex&&r.a.createElement("tr",{key:t.Id},r.a.createElement("td",{style:{width:"15%"}},r.a.createElement(en.a,{as:"select",style:{fontSize:"14px"},value:t.Rank,onChange:function(n){return e.onChangeOrder(t.Rank,n.target.value)}},Array.from(Array(e.props.lecture.Problems.length).keys()).map((function(e){return r.a.createElement("option",{value:e+1,key:e},String.fromCharCode(e+65))})))),r.a.createElement("td",{className:"text-break"},r.a.createElement(d.a,{to:"/admin/problems/".concat(t.Id)},t.ProblemCode)),r.a.createElement("td",{className:"text-break"},r.a.createElement(d.a,{to:"/admin/problems/".concat(t.Id)},t.ProblemName)),r.a.createElement("td",null,r.a.createElement(F,{className:"bg-light-pink",onClick:function(){return e.props.remove(t.Id)}},r.a.createElement("span",{className:"fas fa-trash"}))))})))),e.renderPagination(e.setPage)):r.a.createElement(oe,null)}))}},{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:1,numberOfPage:Math.ceil(this.getFilteredProblem().length/this.itemPerPage),fetched:!0});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.pattern,n=Math.ceil(this.getFilteredProblem().length/this.itemPerPage),a=this.state.page;a>n&&a>1&&(a-=1,this.onPageChange(a)),this.setState({pattern:t,numberOfPage:n})}}]),n}(ln),ks=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onAddProblem=function(e){var t=a.state.lecture,n=t.Problems,r={Id:e.Id,ProblemCode:e.ProblemCode,ProblemName:e.Name,Rank:0===n.length?1:Number(n[n.length-1].Rank)+1,Status:1,Score:0};n.push(r),t.Problems=n,a.setState({lecture:t})},a.onRemoveProblem=function(e){var t=a.state.lecture,n=t.Problems.filter((function(t){return t.Id!==e}));t.Problems=n.sort((function(e,t){return e.Rank-t.Rank})).map((function(e,t){return Object(H.a)(Object(H.a)({},e),{},{Rank:t+1})})),a.setState({lecture:t})},a.setSearchParam=function(){var e=Object(b.a)(h.a.mark((function e(t,n,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({isRefreshing:!0}),a.state[t][r]=n,a.setState({isRefreshing:!1});case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),a.state={lecture:e.lecture,pattern:["",""],page:[1,1],isRefreshing:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.isRefreshing,n=e.lecture,a=e.pattern,c=e.page,s=this.props.lecture;return t?r.a.createElement("div",null):r.a.createElement(R.a,null,r.a.createElement(U.a,{md:6,className:"pl-1"},r.a.createElement(ws,{problemList:n.Problems,add:this.onAddProblem,lecture:s,pattern:a[0],page:c[0],setSearchParam:this.setSearchParam})),r.a.createElement(U.a,{md:6,className:"pr-1"},r.a.createElement(ys,{problemList:n.Problems,remove:this.onRemoveProblem,lecture:s,pattern:a[1],page:c[1],setSearchParam:this.setSearchParam})))}}]),n}(r.a.Component),Cs=new Z;Cs.import(xs);var Os=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onChange=function(e){var t=e.target.name,n=e.target.value,r=a.state.lecture;r[t]=n,a.setState({lecture:r})},a.state=Object(H.a)(Object(H.a)({},a.state),{},{lecture:e.lecture,mode:e.mode}),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state.lecture,n=t.Published,a=t.StartTime,c=t.EndTime,s=t.PublicAnalysis;return r.a.createElement(ne.Consumer,null,(function(o){var u=o.language;return Cs.use(u),r.a.createElement("div",{className:"m-2"},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,Cs.get("Course"))),r.a.createElement(tr.a.Control,{type:"text",value:t.Course.Name,autoComplete:"off",readOnly:!0})),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,Cs.get("Name"))),r.a.createElement(tr.a.Control,{type:"text",name:"Name",value:t.Name,spellCheck:!1,onChange:e.onChange,autoComplete:"off"})),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"Lo\u1ea1i lecture")),r.a.createElement(tr.a.Control,{as:"select",name:"LectureType",value:t.LectureType,spellCheck:!1,onChange:e.onChange,autoComplete:"off"},r.a.createElement("option",null,"Lecture"),r.a.createElement("option",null,"Exam"))),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,Cs.get("Description"))),r.a.createElement(tr.a.Control,{type:"text",name:"Description",value:t.Description||"",spellCheck:!1,onChange:e.onChange,autoComplete:"off"})),r.a.createElement(R.a,null,r.a.createElement(U.a,{md:6,className:"p-0"},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,Cs.get("Start time"))),r.a.createElement(us,{name:"StartTime",dateFormat:!0,timeFormat:!0,value:new Date(a).getTime(),onChange:e.onChange}))),r.a.createElement(U.a,{md:6,className:"pr-0"},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,Cs.get("End time"))),r.a.createElement(us,{name:"EndTime",dateFormat:!0,timeFormat:!0,value:new Date(c).getTime(),onChange:e.onChange})))),r.a.createElement(R.a,null,r.a.createElement(U.a,{md:4,className:"p-0"},r.a.createElement(qn,{label:Cs.get("Published"),className:"green",name:"Published",labelClassName:"font-weight-bold",checked:!0===n,onChange:e.onChange})),r.a.createElement(U.a,{md:4,className:"p-0"},r.a.createElement(qn,{label:Cs.get("Show analysis"),className:"green",name:"PublicAnalysis",labelClassName:"font-weight-bold",checked:!0===s,onChange:e.onChange}))))}))}}]),n}(r.a.Component),js=new Z;js.import(xs);var Ss=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onSave=Object(b.a)(h.a.mark((function e(){var t,n,r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setState({isSaving:!0}),t=a.state.mode,e.prev=2,n=a.state,r=n.origin,c=n.lecture,"add"!==t){e.next=11;break}return e.next=7,a.courseContext.addLecture(c);case 7:"string"!==typeof(s=e.sent)&&(T.a.push("/admin/courses/".concat(c.Course.Id,"/lectures/edit/").concat(s.Id)),a.setState({mode:"edit",saveSuccessfully:!0}),setTimeout((function(){a.setState({saveSuccessfully:!1})}),2e3)),e.next=15;break;case 11:return e.next=13,a.courseContext.updateLecture(c,r);case 13:"string"!==typeof e.sent&&(a.setState({saveSuccessfully:!0}),setTimeout((function(){a.setState({saveSuccessfully:!1})}),2e3));case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(2);case 19:a.setState({isSaving:!1});case 20:case"end":return e.stop()}}),e,null,[[2,17]])}))),a.onRemove=Object(b.a)(h.a.mark((function e(){var t,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isRemoving:!0}),t=a.state,n=t.lecture,r=t.course,e.next=4,a.courseContext.removeLecture(n);case 4:e.sent?a.setState({isRemoving:!1}):T.a.push("".concat(r.Link,"?view=lectures"));case 6:case"end":return e.stop()}}),e)}))),a.state={mode:"add"===e.location.pathname.split("/")[5]?"add":"edit",fetched:!1,course:void 0,lecture:void 0,isSaving:!1,isRemoving:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match,n=this.state.mode,e.next=4,this.courseContext.getCourse(t.params.courseId);case 4:if(!(a=e.sent)){e.next=14;break}if("add"!==n){e.next=10;break}r=Es(a),e.next=13;break;case 10:return e.next=12,a.getLecture(t.params.lectureId);case 12:r=e.sent;case 13:r.StartTime||(r.StartTime=null);case 14:this.setState({fetched:!0,course:a,origin:r,lecture:be.a.cloneDeep(r)});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.fetched,a=t.lecture,c=t.course,s=t.mode,o=t.saveSuccessfully,u=t.isRemoving,l=t.isSaving;return r.a.createElement(Xc.Consumer,null,(function(t){return e.courseContext=t,n?a?r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{nav:[["admin","/admin"],["courses","/admin/courses"],[c.Name,"/admin/courses/edit/".concat(c.Id)],["lectures","/admin/courses/edit/".concat(c.Id,"?view=lectures")],[a.Name||""]]}),r.a.createElement($,null,r.a.createElement("div",{className:"w-100"},r.a.createElement(ne.Consumer,null,(function(e){var t=e.language;return js.use(t),r.a.createElement(nn,{controlKey:"view"},r.a.createElement(Os,{title:js.get("Information"),route:"information",lecture:a,mode:s}),r.a.createElement(ks,{title:js.get("Problems"),route:"problems",lecture:a}))})),r.a.createElement(Cc,{saveSuccessfully:o,mode:s,isRemoving:u,isSaving:l,onSave:e.onSave,onRemove:e.onRemove})))):r.a.createElement(de,null):r.a.createElement(le,null)}))}}]),n}(r.a.Component),Ns=function(){return r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/admin/courses",component:ns}),r.a.createElement(m.b,{exact:!0,path:"/admin/courses/add",component:gs}),r.a.createElement(m.b,{exact:!0,path:"/admin/courses/edit/:id",component:gs}),r.a.createElement(m.b,{exact:!0,path:"/admin/courses/:courseId/lectures/add",component:Ss}),r.a.createElement(m.b,{exact:!0,path:"/admin/courses/:courseId/lectures/edit/:lectureId",component:Ss}))},Is=r.a.createContext(),Ps=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).searchCollection=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.split("&"),r=a.state.root,e.next=4,r.searchChildCollection(n,0);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.addCollection=function(){var e=Object(b.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.addCollection(n);case 2:if(!(r=e.sent)){e.next=6;break}return a.setState({error:r}),e.abrupt("return",r);case 6:return a.setState({message:"Collection added!"}),e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.updateCollection=function(){var e=Object(b.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.updateCollection(n);case 2:if(!(r=e.sent)){e.next=6;break}return a.setState({error:r}),e.abrupt("return",r);case 6:return a.setState({message:"Collection updated!"}),e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.removeCollection=function(){var e=Object(b.a)(h.a.mark((function e(t,n){var r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("ARE YOU SURE?\nTHIS ACTION CAN NOT BE UNDONE!")){e.next=13;break}return e.next=3,t.removeCollection(n);case 3:if(!(r=e.sent)){e.next=7;break}return a.setState({error:r}),e.abrupt("return",r);case 7:return e.next=9,a.searchCollection("root&".concat(t.link));case 9:return c=e.sent,e.next=12,c.removeCollection(n,!1);case 12:a.setState({message:"Collection removed!"});case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.clearError=function(){a.setState({error:"",message:""})},a.state={root:new yt({Id:"root",Name:"root",Vi:{Name:"",Describe:""},En:{Name:"",Describe:""}}),error:"",message:"",searchCollection:a.searchCollection,addCollection:a.addCollection,updateCollection:a.updateCollection,removeCollection:a.removeCollection},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.message,n=e.error,a=this.props.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Is.Provider,{value:this.state},a),(n.length>0||t.length>0)&&r.a.createElement(Fe,{title:"Problem",clearError:this.clearError,message:t,error:n}))}}]),n}(r.a.Component),Ts=function(){return r.a.createElement(m.d,null)},Ls=r.a.createContext(),Rs=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).getContests=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot.getContests();case 2:return t=e.sent,n=t.map((function(e){return new jt(e)})).sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})),a.setState({contests:n}),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),a.getContest=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getContests();case 2:return n=e.sent,e.next=5,n.find((function(e){return e.Id===parseInt(t,10)}));case 5:return r=e.sent,e.next=8,r.getContest();case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.updateContest=function(){var e=Object(b.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.update(n);case 2:if(!(r=e.sent)){e.next=6;break}return a.setState({error:r}),e.abrupt("return",r);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.addContest=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Password===t.ReenterPassword){e.next=3;break}return a.setState({error:"Password and reentered password does not match!"}),e.abrupt("return","Password and reentered password does not match!");case 3:return e.next=5,Ot.addContest(t);case 5:if("string"!==typeof(n=e.sent)){e.next=9;break}return a.setState({error:n}),e.abrupt("return",n);case 9:return a.setState((function(e){return{contests:[n].concat(Object(Le.a)(e.contests))}})),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.clearError=function(){a.setState({error:"",message:""})},a.getProblems=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a.state.problems.length){e.next=6;break}return e.next=3,Ot.getProblems();case 3:return t=e.sent,a.setState({problems:t}),e.abrupt("return",t);case 6:return e.abrupt("return",a.state.problems);case 7:case"end":return e.stop()}}),e)}))),a.removeContest=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("ARE YOU SURE?")){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,Ot.removeContest(t);case 4:if(!(n=e.sent)){e.next=8;break}return a.setState({error:n}),e.abrupt("return",n);case 8:return a.setState((function(e){return{contests:e.contests.filter((function(e){return e.Id!==t}))}})),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={contests:[],getContests:a.getContests,getContest:a.getContest,updateContest:a.updateContest,addContest:a.addContest,getProblems:a.getProblems,removeContest:a.removeContest,message:"",error:"",problems:[]},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.message,a=t.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ls.Provider,{value:this.state},e),(a.length>0||n.length>0)&&r.a.createElement(Fe,{title:"Contest",clearError:this.clearError,message:n,error:a}))}}]),n}(r.a.Component),Us=function(e){var t=e.contest,n=t.Id,c=t.Name,s=t.ContestType,o=t.Creator,u=t.Published,l=Object(a.useContext)(Ls).updateContest,i=Object(a.useState)(!1),m=Object(Xe.a)(i,2),p=m[0],f=m[1],v=function(){var e=Object(b.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=be.a.cloneDeep(t)).Published=!n.Published,e.next=4,l(n,t);case 4:return e.sent||(t.Published=!t.Published),e.next=8,f(!0);case 8:return e.next=10,f(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return p?r.a.createElement("tr",null):r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(d.a,{to:"/admin/contests/edit/".concat(n)},r.a.createElement("strong",null,c))),r.a.createElement("td",null,s.Name),r.a.createElement("td",null,o.Username),r.a.createElement("td",{className:"text-center"},r.a.createElement(qn,{className:"green",checked:u,onChange:Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:case"end":return e.stop()}}),e)})))})),r.a.createElement("td",{className:"text-center"},r.a.createElement(d.a,{to:"/admin/contests/edit/".concat(n)},r.a.createElement("button",{className:"basic-component-button bg-light-pink text-white",type:"button"},r.a.createElement("span",{className:"fas fa-pen"}))),"\xa0",r.a.createElement("button",{className:"basic-component-button bg-light-pink text-white",type:"button",onClick:function(){return e.remove(e.contest.Id)}},r.a.createElement("span",{className:"fas fa-trash"}))))},As=function(){var e=Object(a.useContext)(Ls),t=e.getContests,n=e.contests,c=e.removeContest,s=Object(a.useState)(!1),o=Object(Xe.a)(s,2),u=o[0],l=o[1];Object(a.useEffect)((function(){(function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:l(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var i=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u?r.a.createElement("table",{className:"basic-component-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"T\xean"),r.a.createElement("th",null,"Lo\u1ea1i"),r.a.createElement("th",null,"Ng\u01b0\u1eddi t\u1ea1o"),r.a.createElement("th",{style:{textAlign:"center"}},"C\xf4ng khai"),r.a.createElement("th",{style:{textAlign:"center"}},"C\u1eadp nh\u1eadt"))),r.a.createElement("tbody",null,n.map((function(e){return r.a.createElement(Us,{key:e.Id,contest:e,remove:i})})))):r.a.createElement(ue,null)},Ds=function(){return r.a.createElement("div",null,r.a.createElement(ce,{nav:[["admin","/"],["k\xec thi","/contests"]]}),r.a.createElement($,null,r.a.createElement($e.a,{className:"shadow-sm p-2 w-100"},r.a.createElement("h2",{className:"mb-3"},r.a.createElement("strong",null,"K\xec thi")),r.a.createElement(d.a,{to:"/admin/contests/add",className:"mb-2"},r.a.createElement(F,{className:"bg-green p-2 shadow-sm"},r.a.createElement("strong",null,r.a.createElement("span",{className:"fas fa-plus-circle"})," ","Th\xeam m\u1edbi"))),r.a.createElement(As,null))))},Ms=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onChange=function(e){var t=e.target.name,n=e.target.value,r=a.state.contest;r[t]=n,["StartTime","Duration"].includes(t)&&(r.EndTime=r.StartTime+60*r.Duration*1e3),a.setState({contest:r})},a.onChangeImage=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(Xe.a)(t,1),r=n[0],e.next=3,sa.uploadImage(r);case 3:c=e.sent,(s=a.state.contest).Logo=c,a.setState({contest:s});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.toggleImageUploader=function(){a.setState((function(e){return{uploadImage:!e.uploadImage}}))},a.state={contest:e.contest,uploadImage:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.contest,a=t.uploadImage,c=n.Name,s=n.Logo,o=n.ContestTypeId,u=n.StartTime,l=n.ActiveTime,i=n.EndTime,m=n.Description,d=n.Author,f=n.Published,h=n.Private,b=n.Password,v=n.IsRated,g=n.Duration,E=n.FreezeTime,x=n.UnfreezeTime;return r.a.createElement("div",{className:"p-2 mt-2"},r.a.createElement(R.a,null,r.a.createElement(U.a,{md:3,lg:3,className:"pl-0"},r.a.createElement(p.a,{fluid:!0,src:s||"./image/logo.svg",thumbnail:!0,className:"w-100"}),r.a.createElement(F,{className:"mt-2 mb-2 w-100 bg-green",onClick:this.toggleImageUploader},"Thay \u0111\u1ed5i")),r.a.createElement(U.a,{md:9,lg:9,className:"pr-0"},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"Lo\u1ea1i k\xec thi")),r.a.createElement(tr.a.Control,{as:"select",name:"ContestTypeId",value:o,onChange:this.onChange},r.a.createElement("option",{value:"","aria-label":"contest-type"}),r.a.createElement(Ra.Consumer,null,(function(e){return e.contestTypes.map((function(e){return r.a.createElement("option",{value:e.Id,key:e.Id},e.Name)}))})))),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"T\xean k\xec thi")),r.a.createElement(tr.a.Control,{type:"text",name:"Name",value:c,onChange:this.onChange,spellCheck:!1,autoComplete:"off"})),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"\u0110\u01a1n v\u1ecb t\u1ed5 ch\u1ee9c")),r.a.createElement(tr.a.Control,{type:"text",name:"Author",value:d,onChange:this.onChange,spellCheck:!1,autoComplete:"off"})),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"M\xf4 t\u1ea3 k\xec thi")),r.a.createElement(tr.a.Control,{type:"text",as:"textarea",name:"Description",value:m,onChange:this.onChange,spellCheck:!1,autoComplete:"off"})),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"Th\u1eddi gian thi")),r.a.createElement(tr.a.Control,{type:"number",name:"Duration",value:g,onChange:this.onChange,spellCheck:!1,autoComplete:"off"})),r.a.createElement(R.a,null,r.a.createElement(U.a,{className:"py-0 pl-0",md:4},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"B\u1eaft \u0111\u1ea7u \u0111\u0103ng k\xed")),r.a.createElement(us,{value:Number(l),name:"ActiveTime",onChange:this.onChange}))),r.a.createElement(U.a,{className:"py-0 pl-0",md:4},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"B\u1eaft \u0111\u1ea7u thi")),r.a.createElement(us,{value:Number(u),name:"StartTime",onChange:this.onChange}))),r.a.createElement(U.a,{className:"p-0",md:4},r.a.createElement(Ra.Consumer,null,(function(t){return"HIRING"===(0,t.getContestTypeName)(o)?r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"K\u1ebft th\xfac thi")),r.a.createElement(us,{value:Number(i),name:"EndTime",onChange:e.onChange})):null})))),r.a.createElement(R.a,null,r.a.createElement(U.a,{className:"py-0 pl-0",md:4},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"\u0110\xf3ng b\u0103ng BXH")),r.a.createElement(us,{value:Number(E),name:"FreezeTime",onChange:this.onChange}))),r.a.createElement(U.a,{className:"py-0 pl-0",md:4},r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"Ng\u01b0ng \u0111\xf3ng b\u0103ng BXH")),r.a.createElement(us,{value:Number(x),name:"UnfreezeTime",onChange:this.onChange})))),r.a.createElement(R.a,null,r.a.createElement(U.a,{className:"py-0 pl-0"},r.a.createElement(qn,{label:"C\xf4ng khai",className:"green",name:"Published",labelClassName:"font-weight-bold",checked:f,onChange:this.onChange})),r.a.createElement(U.a,{className:"py-0 pl-0"},r.a.createElement(qn,{label:"X\u1ebfp h\u1ea1ng",className:"green",name:"IsRated",labelClassName:"font-weight-bold",checked:!0===v,onChange:this.onChange})),r.a.createElement(U.a,{className:"p-0"},r.a.createElement(qn,{label:"K\xec thi b\xed m\u1eadt",className:"green",name:"Private",labelClassName:"font-weight-bold",checked:h,onChange:this.onChange}))),!0===h&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"M\u1eadt kh\u1ea9u k\xec thi")),r.a.createElement(tr.a.Control,{type:"password",name:"Password",value:b,spellCheck:!1,autoComplete:"new-password",onChange:this.onChange})),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,r.a.createElement("strong",null,"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u")),r.a.createElement(tr.a.Control,{type:"password",name:"ReenterPassword",spellCheck:!1,autoComplete:"new-password",onChange:this.onChange}))))),r.a.createElement(ra,{show:a,uploadImage:this.onChangeImage,onHide:this.toggleImageUploader}))}}]),n}(r.a.Component),Fs=new jt({Name:"",Author:"",Creater:Object(v.a)("Username"),Description:"",StartTime:null,EndTime:null,ActiveTime:null,IsPublished:!1,IsRated:!1,Private:!1,SecretCode:"",Problems:[],Languages:[]}),Bs=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e,20)).refresh=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({fetched:!1}),ve.a.setQueryString("page",a.state.page),e.next=4,a.fetchProblems(!0);case 4:case"end":return e.stop()}}),e)}))),a.fetchProblems=Object(b.a)(h.a.mark((function e(){var t,n,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(r.length>0&&void 0!==r[0])||r[0],n=ve.a.getAllQueryString(),e.next=4,a.problemContext.fetchProblems(n,t);case 4:a.setState({numberOfPage:Math.ceil(a.problemContext.totalProblems/20),fetched:!0});case 5:case"end":return e.stop()}}),e)})));var r=ve.a.getAllQueryString(),c=r.page,s=r.search;return a.state=Object(H.a)(Object(H.a)({endIndex:20},a.state),{},{page:Number(c)||1,fetched:!1,search:s}),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(_r.Consumer,null,(function(t){if(e.problemContext=t,!e.state.fetched)return r.a.createElement(oe,null);var n=e.props.contest.Problems.map((function(e){return e.Id}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"my-2"},r.a.createElement($r,{Id:"pick-list",toggleQuery:!0,searchKey:"search"})),r.a.createElement("table",{className:"basic-component-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"M\xe3 b\xe0i"),r.a.createElement("th",null,"T\xean b\xe0i"),r.a.createElement("th",null,"Th\xeam"))),r.a.createElement("tbody",null,e.problemContext.problems.map((function(t){return r.a.createElement("tr",{key:t.Id},r.a.createElement("td",{className:"text-break"},r.a.createElement(d.a,{to:"/admin/problems/".concat(t.Id)},t.ProblemCode)),r.a.createElement("td",{className:"text-break"},r.a.createElement(d.a,{to:"/admin/problems/".concat(t.Id)},t.Name)),r.a.createElement("td",null,!n.includes(t.Id)&&r.a.createElement(F,{className:"bg-green",onClick:function(){return e.props.add(t)}},r.a.createElement("span",{className:"fas fa-plus-circle"}))))})))),r.a.createElement("br",null),e.renderPagination(e.refresh))}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ve.a.getAllQueryString(),(n=(n=t.search)||"")===this.state.search){e.next=7;break}return e.next=5,this.setState({page:1,search:n});case 5:return e.next=7,this.refresh();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.onPageChange(this.state.page),e.next=3,this.fetchProblems(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ln),qs=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e,20)).getFilteredProblem=function(){var e=a.state.pattern;return e=e.toLowerCase(),a.props.contest.Problems.filter((function(t){return""===e||t.ProblemCode.toLowerCase().includes(e)||t.ProblemName.toLowerCase().includes(e)})).sort((function(e,t){return Number(e.Rank)-Number(t.Rank)}))},a.setPage=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setSearchParam("page",a.state.page,1);case 2:case"end":return e.stop()}}),e)}))),a.onPatternChange=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,e.next=3,a.props.setSearchParam("pattern",n,1);case 3:return a.setState({pattern:n}),e.next=6,a.setState({numberOfPage:Math.ceil(a.getFilteredProblem().length/a.itemPerPage)});case 6:a.onPageChange(1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChangeOrder=function(e,t){var n=Number(e),r=Number(t),c=a.props.contest.Problems;n=c.find((function(e){return e.Rank===n})),r=c.find((function(e){return e.Rank===r}));var s=n.Rank;n.Rank=r.Rank,r.Rank=s,a.props.remove(-1)},a.state=Object(H.a)(Object(H.a)({},a.state),{},{pattern:e.pattern,fetched:!1}),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:1,numberOfPage:Math.ceil(this.getFilteredProblem().length/this.itemPerPage),fetched:!0});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.pattern,n=Math.ceil(this.getFilteredProblem().length/this.itemPerPage),a=this.state.page;a>n&&a>1&&(a-=1,this.onPageChange(a)),this.setState({pattern:t,numberOfPage:n})}},{key:"render",value:function(){var e=this;return r.a.createElement(_r.Consumer,null,(function(t){return e.problemContext=t,e.state.fetched?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"my-2"},r.a.createElement($r,{Id:"picked-list",searchKey:"pattern",urlSetting:!1,onChange:e.onPatternChange})),r.a.createElement("table",{className:"basic-component-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Th\u1ee9 t\u1ef1"),r.a.createElement("th",{style:{width:"20%"}},"\u0110i\u1ec3m"),r.a.createElement("th",null,"M\xe3 b\xe0i"),r.a.createElement("th",null,"T\xean b\xe0i"),r.a.createElement("th",null,"X\xf3a"))),r.a.createElement("tbody",null,e.getFilteredProblem().map((function(t,n){return n>=e.state.startIndex&&n<e.state.endIndex&&r.a.createElement("tr",{key:t.Id},r.a.createElement("td",{style:{width:"15%"}},r.a.createElement(en.a,{as:"select",style:{fontSize:"14px"},value:t.Rank,onChange:function(n){return e.onChangeOrder(t.Rank,n.target.value)}},Array.from(Array(e.props.contest.Problems.length).keys()).map((function(e){return r.a.createElement("option",{value:e+1,key:e},String.fromCharCode(e+65))})))),r.a.createElement("td",null,r.a.createElement(en.a,{type:"number",style:{fontSize:"14px"},defaultValue:t.Score,onChange:function(t){e.props.contest.Problems[n].Score=parseInt(t.target.value,10)}})),r.a.createElement("td",{className:"text-break"},r.a.createElement(d.a,{to:"/admin/problems/".concat(t.Id)},t.ProblemCode)),r.a.createElement("td",{className:"text-break"},r.a.createElement(d.a,{to:"/admin/problems/".concat(t.Id)},t.ProblemName)),r.a.createElement("td",null,r.a.createElement(F,{className:"bg-light-pink",onClick:function(){return e.props.remove(t.Id)}},r.a.createElement("span",{className:"fas fa-trash"}))))})))),e.renderPagination(e.setPage)):r.a.createElement(oe,null)}))}}]),n}(ln),Hs=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onAddProblem=function(e){var t=a.state.contest,n=t.Problems,r={Id:e.Id,ProblemCode:e.ProblemCode,ProblemName:e.Name,Rank:0===n.length?1:Number(n[n.length-1].Rank)+1,Status:1,Score:0};n.push(r),a.setState({contest:t})},a.onRemoveProblem=function(e){var t=a.state.contest,n=t.Problems.filter((function(t){return t.Id!==e}));t.Problems=n.sort((function(e,t){return e.Rank-t.Rank})).map((function(e,t){return Object(H.a)(Object(H.a)({},e),{},{Rank:t+1})})),a.setState({contest:t})},a.setSearchParam=function(){var e=Object(b.a)(h.a.mark((function e(t,n,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({isRefreshing:!0}),a.state[t][r]=n,a.setState({isRefreshing:!1});case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),a.state={contest:e.contest,pattern:["",""],page:[1,1],isRefreshing:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.isRefreshing,n=e.contest,a=e.pattern,c=e.page;return t?r.a.createElement("div",null):r.a.createElement(R.a,null,r.a.createElement(U.a,{md:6,className:"pl-1"},r.a.createElement(Bs,{problemList:n.Problems,add:this.onAddProblem,contest:this.props.contest,pattern:a[0],page:c[0],setSearchParam:this.setSearchParam})),r.a.createElement(U.a,{md:6,className:"pr-1"},r.a.createElement(qs,{problemList:n.Problems,remove:this.onRemoveProblem,contest:this.props.contest,pattern:a[1],page:c[1],setSearchParam:this.setSearchParam})))}}]),n}(r.a.Component),Ws=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onAddUser=function(e){var t=a.state.contest,n=t.Users,r={Id:e.Id,Username:e.Username,Fullname:e.Fullname,Email:e.Email};n.push(r),a.setState({contest:t})},a.onRemoveUser=function(e){var t=a.state.contest,n=t.Users.filter((function(t){return t.Id!==e}));t.Users=n,a.setState({contest:t})},a.setSearchParam=function(){var e=Object(b.a)(h.a.mark((function e(t,n,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({isRefreshing:!0}),a.state[t][r]=n,a.setState({isRefreshing:!1});case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),a.state={contest:e.contest,pattern:["",""],page:[1,1],isRefreshing:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.isRefreshing,n=e.pattern,a=e.page,c=this.props.contest;return t?r.a.createElement("div",null):r.a.createElement(R.a,null,r.a.createElement(U.a,{md:6,className:"pl-1"},r.a.createElement(ds,{add:this.onAddUser,pattern:n[0],page:a[0],setSearchParam:this.setSearchParam,contest:c})),r.a.createElement(U.a,{md:6,className:"pr-1"},r.a.createElement(ls,{remove:this.onRemoveUser,pattern:n[1],page:a[1],setSearchParam:this.setSearchParam,contest:c})))}}]),n}(r.a.Component),Vs=function(e){var t=Object(a.useContext)(Ls),n=t.getContest,c=t.addContest,s=t.updateContest,o=t.removeContest,u=Object(a.useState)(!1),l=Object(Xe.a)(u,2),i=l[0],m=l[1],p=Object(a.useState)(void 0),d=Object(Xe.a)(p,2),f=d[0],v=d[1],g=Object(a.useState)(void 0),E=Object(Xe.a)(g,2),x=E[0],w=E[1],y=Object(a.useState)("add"),k=Object(Xe.a)(y,2),C=k[0],O=k[1],j=Object(a.useState)(!1),S=Object(Xe.a)(j,2),N=S[0],I=S[1],P=Object(a.useState)(!1),L=Object(Xe.a)(P,2),R=L[0],U=L[1],A=Object(a.useState)(!1),D=Object(Xe.a)(A,2),M=D[0],F=D[1],B=Object(a.useState)(!1),q=Object(Xe.a)(B,2),H=q[0],W=q[1],V=function(){var t=Object(b.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("edit"!==e.location.pathname.split("/")[3]){t.next=10;break}return O("edit"),t.next=4,n(e.match.params.id);case 4:a=t.sent,w(a),v(be.a.cloneDeep(a)),m(!0),t.next=13;break;case 10:w(be.a.cloneDeep(Fs)),v(be.a.cloneDeep(Fs)),m(!0);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){V()}),[]);var z=function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(!0),"add"!==C){e.next=8;break}return e.next=4,c(f);case 4:"object"===typeof(t=e.sent)&&(O("edit"),W(!0),f.Id=t.Id,T.a.push("/admin/contests/edit/".concat(t.Id))),e.next=12;break;case 8:return e.next=10,s(f,x);case 10:e.sent||W(!0);case 12:setTimeout((function(){W(!1)}),2e3),I(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.next=3,o(x.Id);case 3:e.sent?U(!1):T.a.push("/admin/contests");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i?f?r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{nav:[["admin","/admin"],["k\xec thi","/admin/contests"],[x.Name]]}),r.a.createElement($,null,r.a.createElement("div",{className:"w-100"},r.a.createElement(nn,{controlKey:"view"},r.a.createElement(Ms,{title:"Th\xf4ng tin k\xec thi",route:"information",contest:f,mode:C}),"edit"===C&&r.a.createElement(Hs,{title:"\u0110\u1ec1 b\xe0i",route:"problem",contest:f}),"edit"===C&&r.a.createElement(Ws,{title:"Th\xed sinh",route:"contestant",contest:f})),r.a.createElement(Cc,{saveSuccessfully:H,mode:C,isRemoving:R,isSaving:N,isCanceling:M,onSave:z,onRemove:G,onCancel:function(){F(!0),T.a.push("/admin/contests"),F(!1)}})))):r.a.createElement(de,null):r.a.createElement(le,null)},zs=function(){return r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/admin/contests/add",component:Vs}),r.a.createElement(m.b,{exact:!0,path:"/admin/contests/add/:view",component:Vs}),r.a.createElement(m.b,{exact:!0,path:"/admin/contests/edit/:id",component:Vs}),r.a.createElement(m.b,{exact:!0,path:"/admin/contests/edit/:id/:view",component:Vs}),r.a.createElement(m.b,{exact:!0,path:"/admin/contests",component:Ds}),r.a.createElement(m.b,null))},Gs=r.a.createContext(),Ys=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).getProblems=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=a.state.problems).length){e.next=10;break}return e.next=4,Ot.getProblems();case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0=[];case 7:return n=e.t0,a.setState({problems:n}),e.abrupt("return",n);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)}))),a.state={problems:[],getProblems:a.getProblems},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Gs.Provider,{value:this.state},e))}}]),n}(r.a.Component),Qs=r.a.createContext(),Ks=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).getUsertypes=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a.state.usertypes.length){e.next=6;break}return e.next=4,is.getUserTypes();case 4:t=e.sent,a.setState({usertypes:t});case 6:case"end":return e.stop()}}),e)}))),a.state={usertypes:[],getUserTypes:a.getUsertypes},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.getUsertypes()}},{key:"render",value:function(){var e=this.props.children;return r.a.createElement(Qs.Provider,{value:this.state},e)}}]),n}(r.a.Component),_s=function(e){var t=e.user,n=Object(a.useState)(!0),c=Object(Xe.a)(n,2),s=c[0],o=c[1],u=Object(a.useState)(!1),l=Object(Xe.a)(u,2),i=l[0],m=l[1],p=Object(a.useState)(!1),d=Object(Xe.a)(p,2),f=d[0],v=d[1],g=Object(a.useState)(""),E=Object(Xe.a)(g,2),x=E[0],y=E[1],k=Object(a.useState)(""),C=Object(Xe.a)(k,2),O=C[0],j=C[1],S=Object(a.useContext)(Qs).usertypes,N=Object(a.useState)(""),I=Object(Xe.a)(N,2),P=I[0],T=I[1],L=t.Username,R=t.Email,U=t.Fullname,A=t.Role,D=function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("ARE YOU SURE?")){e.next=5;break}return m(!0),e.next=4,is.updateUser(t.Id,{Status:!1});case 4:m(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(b.a)(h.a.mark((function e(n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.target.value,e.next=3,is.updateUser(t.Id,{UserTypeId:parseInt(a,10)});case 3:e.sent||(o(!1),t.Role=S.find((function(e){return e.Id===parseInt(a,10)})).Name,o(!0));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){f&&(y(""),j("")),v(!f)},q=function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x===O){e.next=4;break}T("Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u kh\xf4ng tr\xf9ng kh\u1edbp!"),e.next=7;break;case 4:return e.next=6,is.changePassword(t.Id,w()(x).toString());case 6:B();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=S.find((function(e){return e.Name===A}));return s?r.a.createElement("tr",null,r.a.createElement("td",null,L),r.a.createElement("td",null,R),r.a.createElement("td",null,U),r.a.createElement("td",null,r.a.createElement(en.a,{as:"select",style:{fontSize:"14px"},onChange:M,value:H?H.Id:""},S.map((function(e){return r.a.createElement("option",{value:e.Id,key:e.Id},e.Name)})))),r.a.createElement("td",{className:"text-center"},r.a.createElement(F,{className:"basic-component-button bg-warning text-white",onClick:B},r.a.createElement("span",{className:"fas fa-key"}))),r.a.createElement("td",null,r.a.createElement(F,{className:"basic-component-button bg-light-pink text-white",onClick:D},i?r.a.createElement("span",{className:"fas fa-spin fa-spinner"}):r.a.createElement("span",{className:"fas fa-ban"}))),f&&r.a.createElement(De,{title:"\u0110\u1ed5i m\u1eadt kh\u1ea9u",show:!0,onHide:B,footer:r.a.createElement("div",null,r.a.createElement(F,{className:"bg-light-blue",onClick:B},"H\u1ee7y"),"\xa0",r.a.createElement(F,{className:"bg-light-pink",onClick:q},"\u0110\u1ed5i m\u1eadt kh\u1ea9u"))},r.a.createElement("h4",null,"Username:",r.a.createElement("strong",null,L)),r.a.createElement("br",null),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,"M\u1eadt kh\u1ea9u m\u1edbi"),r.a.createElement(tr.a.Control,{type:"password",autoComplete:"new-password",value:x,onChange:function(e){return y(e.target.value)}})),r.a.createElement(tr.a.Group,null,r.a.createElement(tr.a.Label,null,"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u m\u1edbi"),r.a.createElement(tr.a.Control,{type:"password",autoComplete:"new-password",value:O,onChange:function(e){return j(e.target.value)}})),P&&r.a.createElement("p",{className:"text-danger"},P))):r.a.createElement("tr",null)},Js=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).refresh=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({fetched:!1}),ve.a.setQueryString("page",a.state.page),e.next=4,a.fetchUsers();case 4:case"end":return e.stop()}}),e)}))),a.fetchUsers=Object(b.a)(h.a.mark((function e(){var t,n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=ve.a.getAllQueryString()).key=t.search,e.next=5,is.getUsers(t);case 5:n=e.sent,r=n.users,c=n.totalUsers,a.setState({fetched:!0,users:r,totalUsers:c,numberOfPage:Math.ceil(c/a.itemPerPage)}),a.props.setTotalUsers(c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),a.setState({fetched:!0});case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),a.itemPerPage=20;var r=ve.a.getAllQueryString(),c=r.page,s=r.search;return a.state=Object(H.a)(Object(H.a)({},a.state),{},{page:Number(c)||1,fetched:!1,search:s}),a}return Object(u.a)(n,[{key:"render",value:function(){return this.state.fetched?r.a.createElement(Ks,null,r.a.createElement("div",null,r.a.createElement("table",{className:"basic-component-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Fullname"),r.a.createElement("th",null,"Role"),r.a.createElement("th",{className:"text-center"},"Change password"),r.a.createElement("th",null,"Ban"))),r.a.createElement("tbody",null,this.state.users.map((function(e){return r.a.createElement(_s,{key:"user".concat(e.Id),user:e})})))),r.a.createElement("br",null),this.renderPagination(this.refresh))):r.a.createElement(ue,null)}},{key:"componentDidMount",value:function(){this.onPageChange(this.state.page),this.fetchUsers()}},{key:"UNSAFE_componentWillReceiveProps",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ve.a.getAllQueryString(),void 0===(n=t.search)||n===this.state.search){e.next=6;break}return e.next=4,this.setState({page:1,search:n});case 4:return e.next=6,this.refresh();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ln),Xs=function(){var e=Object(a.useState)(0),t=Object(Xe.a)(e,2),n=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{nav:[["admin","/admin"],["users","/admin/users"]]}),r.a.createElement($,null,r.a.createElement($e.a,{className:"shadow-sm w-100 mt-2 p-2"},r.a.createElement("h2",{className:"mb-3"},r.a.createElement("strong",null,"Users")),r.a.createElement("div",{className:"d-flex mb-2"},r.a.createElement("div",{className:"bg-green h-100 text-white corner p-2 text-right mr-2"},r.a.createElement("strong",null,"S\u1ed1 l\u01b0\u1ee3ng users:",n)),r.a.createElement("div",{className:"flex-grow-1"},r.a.createElement($r,{toggleQuery:!0}))),r.a.createElement(Js,{setTotalUsers:c}))))},$s=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetchSubmissionListAtSpecificPage=Object(b.a)(h.a.mark((function e(){var t,n,r,c,s,o=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:1,(n=!(o.length>1&&void 0!==o[1])||o[1])&&a.setState((function(){return{isLoading:!0}})),e.next=5,Mt.getSubmissions(t);case 5:r=e.sent,c=r.submissions,s=r.totalSubmissions,a.setState((function(){return{submissions:c,totalSubmissions:s,currentPage:t}})),n&&a.setState((function(){return{isLoading:!1}}));case 10:case"end":return e.stop()}}),e)}))),a.state=Object(H.a)(Object(H.a)({},a.state),{},{linkToDetail:"submissions/"}),a}return n}(ba),Zs=function(){return r.a.createElement("div",null,r.a.createElement(ce,{nav:[["Home","/"],["Submissions"]]}),r.a.createElement($,null,r.a.createElement(U.a,null,r.a.createElement($s,{autoRefresh:!0,showProblemName:!0,showUsername:!0,admin:!0}))))},eo=function(){return(0,Object(a.useContext)(O).verifyModerator)()?r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"content-body"},r.a.createElement(Yr,null)),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(Q,null,r.a.createElement(Jr,null,r.a.createElement(nc,null,r.a.createElement(qe,null,r.a.createElement(xc,null,r.a.createElement($c,null,r.a.createElement(Ps,null,r.a.createElement(ps,null,r.a.createElement(Ua,null,r.a.createElement(Rs,null,r.a.createElement(Ys,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/admin",component:Kr}),r.a.createElement(m.b,{path:"/admin/problems",component:Hc}),r.a.createElement(m.b,{path:"/admin/executable",component:_c}),r.a.createElement(m.b,{path:"/admin/courses",component:Ns}),r.a.createElement(m.b,{path:"/admin/collections",component:Ts}),r.a.createElement(m.b,{path:"/admin/contests",component:zs}),r.a.createElement(m.b,{exact:!0,path:"/admin/users",component:Xs}),r.a.createElement(m.b,{exact:!0,path:"/admin/submissions",component:Zs}))))))))))))))):r.a.createElement(m.a,{to:"/"})},to=function(){return r.a.createElement("div",{className:"footer bg-dark-gray p-1 pl-5 pr-5"},r.a.createElement("div",{className:"d-flex justify-content-between footer-content"},r.a.createElement("div",{className:"text-left brand"},r.a.createElement("img",{src:"logo.svg",alt:"Home Page",width:"40px",height:"40px",className:"footer-img"})," ",r.a.createElement("span",null,"Big-O Coding")),r.a.createElement("div",{className:"text-center align-self-center"},r.a.createElement("span",null,"Copyright \xa9 2020 Big-O Coder")),r.a.createElement("div",{className:"text-right align-self-center contact"},r.a.createElement("span",{className:"mr-3"},r.a.createElement("a",{href:"http://bigocoding.com",rel:"noopener noreferrer",target:"_blank"},r.a.createElement("span",{className:"fas fa-globe"}),"\xa0Visit us")),r.a.createElement("span",{className:"mr-3"},r.a.createElement("a",{href:"https://www.facebook.com/BigOCoding/",rel:"noopener noreferrer",target:"_blank"},r.a.createElement("span",{className:"fab fa-facebook-f"}),"\xa0Like us")),r.a.createElement("span",null,r.a.createElement("a",{href:"https://www.youtube.com/channel/UChHHF-LvgQ9iLN4fNA-arow/",rel:"noopener noreferrer",target:"_blank"},r.a.createElement("span",{className:"fab fa-youtube"}),"\xa0Watch us")))))},no=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={},a}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(ae,null,r.a.createElement(Mn,null,r.a.createElement(j,null,r.a.createElement(m.c,{history:T.a},r.a.createElement(P,null),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/admin",component:eo}),r.a.createElement(m.b,{path:"/",component:zr}),r.a.createElement(m.b,{component:de})),r.a.createElement(to,null)))))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(316);s.a.render(r.a.createElement(no,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},62:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(2),s=n(3),o=n(4),u=n(5),l=n(6),i=n(19),m=n.n(i),p=n(27),d=n(29),f=n(104),h=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,a){var r;return Object(s.a)(this,n),(r=t.call(this,e)).ProblemId=a,r.fetched=!1,r.SourceCodes=[],r}return Object(o.a)(n,[{key:"get",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.fetched){e.next=6;break}return e.next=3,d.a.getTutorial(this.ProblemId,this.Id);case 3:(t=e.sent)&&this.updateProperty(t),this.fetched=!0;case 6:return e.next=8,d.a.getSourceCode(this.ProblemId,this.Id);case 8:(n=e.sent)&&(this.SourceCodes=n);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,s,o,u=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.a.omit(t),a=m.a.omit(this),s=p.default.getDifferent(n,a,["Id"]),e.next=5,d.a.editTutorial(this.ProblemId,s);case 5:if(!(o=e.sent)){e.next=8;break}return e.abrupt("return",o);case 8:if(!Object.prototype.hasOwnProperty.call(s,"SourceCodes")){e.next=11;break}return e.next=11,Promise.all(s.SourceCodes.map(function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.updateSourceCode(t,u.SourceCodes[n]);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 11:return this.updateProperty(s),t.updateProperty(s),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addSourceCode",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new f.a({LanguageId:t,TutorialId:this.Id,ProblemId:this.ProblemId,Content:""}),e.next=3,d.a.addSourceCode(this.ProblemId,this.Id,n);case 3:if("object"!==typeof(a=e.sent)){e.next=9;break}n.updateProperty(a),this.SourceCodes.push(n),e.next=10;break;case 9:return e.abrupt("return",a);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateSourceCode",value:function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.updateSourceCode(this.ProblemId,this.Id,n);case 2:if(a=e.sent){e.next=7;break}t.updateProperty(n),e.next=8;break;case 7:return e.abrupt("return",a);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeSourceCode",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.removeSourceCode(this.ProblemId,this.Id,t);case 2:if(n=e.sent){e.next=7;break}this.SourceCodes=this.SourceCodes.map((function(e){return e.Id!==t})),e.next=8;break;case 7:return e.abrupt("return",n);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(p.default);t.default=h},7:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"db",(function(){return r})),n.d(t,"W",(function(){return c})),n.d(t,"Bb",(function(){return s})),n.d(t,"gb",(function(){return o})),n.d(t,"Z",(function(){return u})),n.d(t,"Y",(function(){return l})),n.d(t,"jb",(function(){return i})),n.d(t,"ib",(function(){return m})),n.d(t,"nb",(function(){return p})),n.d(t,"mb",(function(){return d})),n.d(t,"lb",(function(){return f})),n.d(t,"bb",(function(){return h})),n.d(t,"H",(function(){return b})),n.d(t,"G",(function(){return v})),n.d(t,"sb",(function(){return g})),n.d(t,"rb",(function(){return E})),n.d(t,"ub",(function(){return x})),n.d(t,"tb",(function(){return w})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return k})),n.d(t,"j",(function(){return C})),n.d(t,"fb",(function(){return O})),n.d(t,"h",(function(){return j})),n.d(t,"i",(function(){return S})),n.d(t,"g",(function(){return N})),n.d(t,"C",(function(){return I})),n.d(t,"B",(function(){return P})),n.d(t,"E",(function(){return T})),n.d(t,"D",(function(){return L})),n.d(t,"x",(function(){return R})),n.d(t,"z",(function(){return U})),n.d(t,"F",(function(){return A})),n.d(t,"A",(function(){return D})),n.d(t,"L",(function(){return M})),n.d(t,"P",(function(){return F})),n.d(t,"O",(function(){return B})),n.d(t,"R",(function(){return q})),n.d(t,"y",(function(){return H})),n.d(t,"M",(function(){return W})),n.d(t,"N",(function(){return V})),n.d(t,"S",(function(){return z})),n.d(t,"Q",(function(){return G})),n.d(t,"U",(function(){return Y})),n.d(t,"T",(function(){return Q})),n.d(t,"V",(function(){return K})),n.d(t,"kb",(function(){return _})),n.d(t,"ob",(function(){return J})),n.d(t,"v",(function(){return X})),n.d(t,"u",(function(){return $})),n.d(t,"s",(function(){return Z})),n.d(t,"K",(function(){return ee})),n.d(t,"X",(function(){return te})),n.d(t,"yb",(function(){return ne})),n.d(t,"cb",(function(){return ae})),n.d(t,"p",(function(){return re})),n.d(t,"n",(function(){return ce})),n.d(t,"w",(function(){return se})),n.d(t,"xb",(function(){return oe})),n.d(t,"eb",(function(){return ue})),n.d(t,"I",(function(){return le})),n.d(t,"t",(function(){return ie})),n.d(t,"hb",(function(){return me})),n.d(t,"a",(function(){return pe})),n.d(t,"c",(function(){return de})),n.d(t,"d",(function(){return fe})),n.d(t,"r",(function(){return he})),n.d(t,"q",(function(){return be})),n.d(t,"o",(function(){return ve})),n.d(t,"ab",(function(){return ge})),n.d(t,"m",(function(){return Ee})),n.d(t,"qb",(function(){return xe})),n.d(t,"pb",(function(){return we})),n.d(t,"Db",(function(){return ye})),n.d(t,"J",(function(){return ke})),n.d(t,"wb",(function(){return Ce})),n.d(t,"vb",(function(){return Oe})),n.d(t,"Ab",(function(){return je})),n.d(t,"zb",(function(){return Se})),n.d(t,"l",(function(){return Ne})),n.d(t,"k",(function(){return Ie})),n.d(t,"Cb",(function(){return Pe})),n(209).config();var a="https://api.bigocoder.com/api/",r="".concat(a,"sign-up"),c="".concat(a,"sign-in"),s="".concat(a,"verify-token"),o="search/problems?:queryString",u="problems?:queryString",l="problems/:id",i="problems/:problemId/statements",m="problems/:problemId/statements/:statementId",p="problems/:problemId/testcases/",d="problems/:problemId/testcases/:id",f="tags/",h="languages/",b="executables/",v="executables/:Id",g="problems/:problemId/tutorials",E="problems/:problemId/tutorials/:tutorialId",x="".concat(E,"/sourcecodes"),w="".concat(E,"/sourcecodes/:sourceCodeId"),y="collections/:collectionName",k="collection/:collectionName",C="collection/:collectionName/problems",O="search/collection/:collectionName/problems?:queryString",j="collection/:id",S="collections/:parentCollectionId",N="collection-content",I="coursetypes",P="coursetype/:courseTypeCode",T="coursetype/:id",L="coursetype/:content",R="courses",U="courses/:id",A="courses/:id/users",D="courses/:id/scoreboard",M="courses/:courseId/lectures/:lectureId",F="courses/:courseId/lectures/:lectureId/problems",B="courses/:courseId/lectures/:lectureId/problems/:problemId",q="courses/:courseId/lectures/:lectureId/scoreboard",H="course-content/",W="courses/:courseId/lectures/",V="lecture-content",z="courses/:courseId/lectures/:lectureId/submit",G="courses/:courseId/lectures/:lectureId/problems/:problemId/submissions",Y="courses/:courseId/lectures/:lectureId/problems/:problemId/tutorials",Q="courses/:courseId/lectures/:lectureId/problems/:problemId/tutorials/:tutorialId",K="courses/:courseId/lectures/:lectureId/problems/:problemId/tutorials/:tutorialId/sourcecodes",_="problems/:id/submissions?page=:page",J="problems/:id/submissiontests?page=:page",X="contests/:id/submit",$="contests/:id/submissions?page=:page",Z="contests/:id/problems/:problemId/submissions?page=:page",ee="leaderboard/",te="newproblems/",ne="user_info/",ae="activities/",re="contests",ce="contests/:id",se="contest-types",oe="contests/",ue="contests/:id/register",le="contests/:id/join",ie="contests/:id/scoreboard?page=:page",me="sgct/contestant-sign-in",pe="contests/:id/scoreboard?page=:page",de="contests/:id/clarifications",fe="contests/:id/clarifications/:clarificationId",he="contests/:id/problems",be="contests/:id/problems/:problemId",ve="contests/:id/contestants",ge="topics/:problemId?page=:pageNumber",Ee="topics/?page=:pageNumber",xe="topics/:topicId",we="topics/",ye="topics/:id/vote",ke="topics/latest",Ce="users?:queryString",Oe="users/:id",je="usertypes",Se="users/reset-password",Ne="comments/:topicId?page=:page",Ie="comments/:id",Pe="comments/:id/vote"}},[[165,1,2]]]);